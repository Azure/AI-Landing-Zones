
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Azure AI Landing Zones">
      
      
        <meta name="author" content="Microsoft">
      
      
      
        <link rel="prev" href="../parameterization/">
      
      
        <link rel="next" href="../example-platform/">
      
      
        
      
      
      <link rel="icon" href="../../media/logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Standalone - Azure AI Landing Zones</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ai-lz-without-platform-landing-zone" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Azure AI Landing Zones" class="md-header__button md-logo" aria-label="Azure AI Landing Zones" data-md-component="logo">
      
  <img src="../../media/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Azure AI Landing Zones
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Standalone
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Azure/AI-Landing-Zones" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Azure AI Landing Zones" class="md-nav__button md-logo" aria-label="Azure AI Landing Zones" data-md-component="logo">
      
  <img src="../../media/logo.svg" alt="logo">

    </a>
    Azure AI Landing Zones
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Azure/AI-Landing-Zones" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../whatisnew/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    What's New
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/design-checklist/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design Checklist
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/cost-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cost Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Bicep Implementation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Bicep Implementation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts-networking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Networking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concepts-platform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Platform LZ Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-use/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How to use
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameterization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parameterization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" checked>
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Standalone
  

    
  </span>
  
  

      </a>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example-platform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Platform LZ Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../example-existing-vnet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    With Existing VNet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../terraform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Terraform Implementation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../portal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Portal installation
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="ai-lz-without-platform-landing-zone">AI LZ without Platform Landing Zone</h1>
<p>Use this scenario when you want a clean, isolated deployment where the workload resource group owns the networking end to end.</p>
<p><strong>Sample parameter file</strong></p>
<p><a href="https://github.com/Azure/AI-Landing-Zones/blob/main/bicep/infra/sample.standalone.bicepparam">bicep/infra/sample.standalone.bicepparam</a></p>
<p><strong>What this walkthrough validates</strong></p>
<table>
<thead>
<tr>
<th>Capability</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Workload-owned networking</td>
<td>Creates a new VNet and subnets in the workload resource group.</td>
</tr>
<tr>
<td>Private connectivity</td>
<td>Creates Private Endpoints, Private DNS Zones, and VNet links for enabled services.</td>
</tr>
<tr>
<td>Forced tunneling</td>
<td>Sends egress (<code>0.0.0.0/0</code>) through Azure Firewall via UDRs.</td>
</tr>
</tbody>
</table>
<p><strong>Key settings (from the sample)</strong></p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>flagPlatformLandingZone</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>deployToggles.virtualNetwork</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>deployToggles.firewall</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>deployToggles.userDefinedRoutes</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>deployToggles.jumpVm</code></td>
<td><code>true</code></td>
</tr>
<tr>
<td><code>deployToggles.bastionHost</code></td>
<td><code>true</code></td>
</tr>
</tbody>
</table>
<p>If you use a different parameter file (or modify <code>bicep/infra/main.bicepparam</code>), treat the validation steps as conditional. For example, disabling VNet creation changes the networking checks, and disabling specific services changes what you should expect in the private endpoint and DNS sections.</p>
<blockquote>
<p>Note: this walkthrough is intended for validation and learning. Adjust naming, IP ranges, and hardening before using it for production.</p>
</blockquote>
<p><strong>Prerequisites</strong></p>
<p>You need permissions to create resources in the target subscription (for example, <code>Contributor</code>), and you must be signed in with Azure CLI (<code>az login</code>). You also need Azure Developer CLI installed (<code>azd</code>), because this walkthrough uses it to initialize the repository locally and to run the deployment.</p>
<p><strong>Deployment</strong></p>
<p>Create a local working directory and run the commands from there.</p>
<div class="highlight"><pre><span></span><code><span class="n">mkdir</span> <span class="n">deploy</span>
<span class="nb">cd </span><span class="n">deploy</span>
</code></pre></div>
<p>Initialize the environment.</p>
<div class="highlight"><pre><span></span><code><span class="n">azd</span> <span class="n">init</span> <span class="n">-e</span> <span class="n">ailz-standalone-RANDOM_SUFFIX</span>
</code></pre></div>
<p>Set environment variables.</p>
<div class="highlight"><pre><span></span><code><span class="nv">$env:AZURE_LOCATION</span> <span class="p">=</span> <span class="s2">&quot;eastus2&quot;</span>
<span class="nv">$env:AZURE_RESOURCE_GROUP</span> <span class="p">=</span> <span class="s2">&quot;rg-ailz-standalone-RANDOM_SUFFIX&quot;</span>
<span class="nv">$env:AZURE_SUBSCRIPTION_ID</span> <span class="p">=</span> <span class="s2">&quot;00000000-1111-2222-3333-444444444444&quot;</span>

<span class="c"># Convenience variable used by the commands below</span>
<span class="nv">$rg</span> <span class="p">=</span> <span class="nv">$env:AZURE_RESOURCE_GROUP</span>
</code></pre></div>
<p>Copy the sample into the active parameter file used by <code>azd</code>.</p>
<div class="highlight"><pre><span></span><code><span class="nb">Copy-Item</span> <span class="n">bicep</span><span class="p">/</span><span class="n">infra</span><span class="p">/</span><span class="n">sample</span><span class="p">.</span><span class="n">standalone</span><span class="p">.</span><span class="n">bicepparam</span> <span class="n">bicep</span><span class="p">/</span><span class="n">infra</span><span class="p">/</span><span class="n">main</span><span class="p">.</span><span class="n">bicepparam</span> <span class="n">-Force</span>
</code></pre></div>
<p>Optional edits in <code>bicep/infra/main.bicepparam</code>.</p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Change</th>
</tr>
</thead>
<tbody>
<tr>
<td>You change subnet CIDRs</td>
<td>Update the firewall policy <code>sourceAddresses</code> entries to match.</td>
</tr>
<tr>
<td>You do not want Jump VM auto-install</td>
<td>Set <code>jumpVmDefinition.enableAutoInstall = false</code>.</td>
</tr>
<tr>
<td>Your org manages RBAC outside the template</td>
<td>If you hit <code>RoleAssignmentExists</code>, set <code>jumpVmDefinition.assignContributorRoleAtResourceGroup = false</code>.</td>
</tr>
</tbody>
</table>
<p>Provision.</p>
<div class="highlight"><pre><span></span><code><span class="n">azd</span> <span class="n">provision</span>
</code></pre></div>
<p><strong>Validation: networking (VNet and subnets)</strong></p>
<p>If you do not see a VNet in the workload resource group after provisioning, confirm that you are inspecting the correct resource group.</p>
<p>Validate the VNet and subnets.</p>
<div class="highlight"><pre><span></span><code><span class="n">az</span> <span class="n">network</span> <span class="n">vnet</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="n">-o</span> <span class="n">table</span>

<span class="c"># If you have only one VNet in this RG, capture it:</span>
<span class="nv">$vnetName</span> <span class="p">=</span> <span class="p">(</span><span class="n">az</span> <span class="n">network</span> <span class="n">vnet</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="p">-</span><span class="n">-query</span> <span class="s2">&quot;[0].name&quot;</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span>

<span class="n">az</span> <span class="n">network</span> <span class="n">vnet</span> <span class="n">subnet</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="p">-</span><span class="n">-vnet-name</span> <span class="nv">$vnetName</span> <span class="n">-o</span> <span class="n">table</span>
</code></pre></div>
<p>Expected subnets (default template layout):</p>
<table>
<thead>
<tr>
<th>Subnet name</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>agent-subnet</code></td>
</tr>
<tr>
<td><code>pe-subnet</code></td>
</tr>
<tr>
<td><code>AzureBastionSubnet</code></td>
</tr>
<tr>
<td><code>AzureFirewallSubnet</code></td>
</tr>
<tr>
<td><code>jumpbox-subnet</code></td>
</tr>
</tbody>
</table>
<p><strong>Validation: forced tunneling (Firewall and UDR)</strong></p>
<p>Validate the firewall and capture its private IP.</p>
<div class="highlight"><pre><span></span><code><span class="n">az</span> <span class="n">network</span> <span class="n">firewall</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="n">-o</span> <span class="n">table</span>

<span class="nv">$afwName</span> <span class="p">=</span> <span class="p">(</span><span class="n">az</span> <span class="n">network</span> <span class="n">firewall</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="p">-</span><span class="n">-query</span> <span class="s2">&quot;[0].name&quot;</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span>
<span class="nv">$afwPrivateIp</span> <span class="p">=</span> <span class="p">(</span><span class="n">az</span> <span class="n">network</span> <span class="n">firewall</span> <span class="n">show</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="p">-</span><span class="n">-name</span> <span class="nv">$afwName</span> <span class="p">-</span><span class="n">-query</span> <span class="s2">&quot;ipConfigurations[0].privateIPAddress&quot;</span> <span class="n">-o</span> <span class="n">tsv</span><span class="p">)</span>
<span class="nv">$afwPrivateIp</span>
</code></pre></div>
<p>The sample sets <code>firewallPrivateIp</code> based on the default <code>AzureFirewallSubnet</code> prefix (<code>192.168.0.128/26</code>) and the first usable IP (<code>192.168.0.132</code>). If you changed the firewall subnet prefix, update <code>firewallPrivateIp</code> in your parameter file.</p>
<p>Validate the route table and subnet association.</p>
<div class="highlight"><pre><span></span><code><span class="n">az</span> <span class="n">network</span> <span class="n">route-table</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="n">-o</span> <span class="n">table</span>

<span class="c"># Check that jumpbox-subnet has a route table attached</span>
<span class="n">az</span> <span class="n">network</span> <span class="n">vnet</span> <span class="n">subnet</span> <span class="n">show</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="p">-</span><span class="n">-vnet-name</span> <span class="nv">$vnetName</span> <span class="p">-</span><span class="n">-name</span> <span class="n">jumpbox-subnet</span> <span class="p">-</span><span class="n">-query</span> <span class="n">routeTable</span><span class="p">.</span><span class="n">id</span> <span class="n">-o</span> <span class="n">tsv</span>
</code></pre></div>
<p><strong>Validation: private endpoints and private DNS</strong></p>
<p>In standalone mode, the workload deployment creates and manages private DNS zones.</p>
<p>Validate that private endpoints exist.</p>
<div class="highlight"><pre><span></span><code><span class="n">az</span> <span class="n">network</span> <span class="n">private-endpoint</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="n">-o</span> <span class="n">table</span>

<span class="c"># Helpful: show what each Private Endpoint targets + which FQDNs it expects to resolve</span>
<span class="n">az</span> <span class="n">network</span> <span class="n">private-endpoint</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="p">\</span>
  <span class="p">-</span><span class="n">-query</span> <span class="s2">&quot;[].{name:name,target:privateLinkServiceConnections[0].privateLinkServiceId,groupIds:privateLinkServiceConnections[0].groupIds,fqdns:customDnsConfigs[].fqdn}&quot;</span> <span class="n">-o</span> <span class="n">jsonc</span>

<span class="c"># Note: sometimes `customDnsConfigs` returns empty. In that case, query DNS zone groups per Private Endpoint:</span>
<span class="c"># $peName = &#39;&lt;private-endpoint-name&gt;&#39;</span>
<span class="c"># az network private-endpoint dns-zone-group list --resource-group $rg --endpoint-name $peName \</span>
<span class="c">#   --query &quot;[].privateDnsZoneConfigs[].recordSets[].fqdn&quot; -o tsv</span>
</code></pre></div>
<p>With the shipped sample toggles, you should see Private Endpoints for Key Vault, Storage, and AI Foundry.
If you changed toggles, validate based on what you actually enabled.</p>
<p>Validate that private DNS zones exist and are linked.</p>
<div class="highlight"><pre><span></span><code><span class="n">az</span> <span class="n">network</span> <span class="n">private-dns</span> <span class="n">zone</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="n">-o</span> <span class="n">table</span>

<span class="c"># Example: check OpenAI private link zone exists and has a VNet link</span>
<span class="n">az</span> <span class="n">network</span> <span class="n">private-dns</span> <span class="n">link</span> <span class="n">vnet</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="p">-</span><span class="n">-zone-name</span> <span class="n">privatelink</span><span class="p">.</span><span class="n">openai</span><span class="p">.</span><span class="n">azure</span><span class="p">.</span><span class="n">com</span> <span class="n">-o</span> <span class="n">table</span>
</code></pre></div>
<p>Validate that A records exist.</p>
<div class="highlight"><pre><span></span><code><span class="n">az</span> <span class="n">network</span> <span class="n">private-dns</span> <span class="n">record-set</span> <span class="n">a</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="p">-</span><span class="n">-zone-name</span> <span class="n">privatelink</span><span class="p">.</span><span class="n">openai</span><span class="p">.</span><span class="n">azure</span><span class="p">.</span><span class="n">com</span> <span class="n">-o</span> <span class="n">table</span>
</code></pre></div>
<p><strong>Validation: access (Bastion and Jump VM)</strong></p>
<p>Confirm that Bastion exists.</p>
<div class="highlight"><pre><span></span><code><span class="n">az</span> <span class="n">network</span> <span class="n">bastion</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="n">-o</span> <span class="n">table</span>
</code></pre></div>
<p>Connect to the Jump VM using Bastion. Because the VM password is auto-generated during deployment, reset it in the Azure portal before connecting. Open the workload resource group, select the jump VM (the <code>*-jmp</code> VM), choose Reset password, and set a strong password for <code>azureuser</code> (unless you changed <code>jumpVmDefinition.adminUsername</code>). Then connect using Bastion (RDP).</p>
<p>Optional (inside the Jump VM): validate outbound connectivity under forced tunneling:</p>
<div class="highlight"><pre><span></span><code><span class="nb">Resolve-DnsName</span> <span class="n">login</span><span class="p">.</span><span class="n">microsoftonline</span><span class="p">.</span><span class="n">com</span>
<span class="nb">Test-NetConnection</span> <span class="n">login</span><span class="p">.</span><span class="n">microsoftonline</span><span class="p">.</span><span class="n">com</span> <span class="n">-Port</span> <span class="n">443</span>
</code></pre></div>
<p>Validate DNS resolution for the created services from inside the Jump VM. The goal is to confirm that service hostnames resolve to private IPs via the <code>privatelink.*</code> private DNS zones.</p>
<p>From your local machine, capture the Private Endpoint FQDNs created by the deployment:</p>
<div class="highlight"><pre><span></span><code><span class="c"># List all Private Endpoints expect to resolve</span>
<span class="n">az</span> <span class="n">network</span> <span class="n">private-endpoint</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="p">-</span><span class="n">-query</span> <span class="s2">&quot;[].{name:name}&quot;</span> <span class="n">-o</span> <span class="n">jsonc</span>

<span class="c"># Extract FQDNs from the DNS zone groups:</span>
<span class="nv">$peName</span> <span class="p">=</span> <span class="s1">&#39;&lt;private-endpoint-name&gt;&#39;</span>
<span class="n">az</span> <span class="n">network</span> <span class="n">private-endpoint</span> <span class="n">dns-zone-group</span> <span class="n">list</span> <span class="p">-</span><span class="n">-resource-group</span> <span class="nv">$rg</span> <span class="p">-</span><span class="n">-endpoint-name</span> <span class="nv">$peName</span> <span class="p">-</span><span class="n">-query</span> <span class="s2">&quot;[].privateDnsZoneConfigs[].recordSets[].fqdn&quot;</span> <span class="n">-o</span> <span class="n">tsv</span>
</code></pre></div>
<p>Then, inside the Jump VM (PowerShell), run <code>nslookup</code> for the exact FQDNs returned by the command above.</p>
<p>Examples:</p>
<div class="highlight"><pre><span></span><code><span class="n">nslookup</span> <span class="p">&lt;</span><span class="n">fqdn-from-customDnsConfigs</span><span class="p">&gt;</span>

<span class="c"># Optional: show the CNAME chain (useful for troubleshooting)</span>
<span class="nb">Resolve-DnsName</span> <span class="p">&lt;</span><span class="n">fqdn-from-customDnsConfigs</span><span class="p">&gt;</span> <span class="p">|</span> <span class="nb">Format-List</span>
</code></pre></div>
<p>Expected outcome:</p>
<table>
<thead>
<tr>
<th>Check</th>
<th>Expected</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>nslookup</code></td>
<td>Returns a private IP address (typically within your VNet range).</td>
</tr>
<tr>
<td><code>Resolve-DnsName</code></td>
<td>Shows a CNAME into the matching <code>privatelink.*</code> zone.</td>
</tr>
</tbody>
</table>
<p><strong>Cleanup</strong></p>
<p>Delete the resource group.</p>
<div class="highlight"><pre><span></span><code><span class="n">az</span> <span class="nb">group </span><span class="n">delete</span> <span class="p">-</span><span class="n">-name</span> <span class="nv">$rg</span> <span class="p">-</span><span class="n">-yes</span> <span class="p">-</span><span class="n">-no-wait</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <div style="
  background-color: var(--md-primary-fg-color);
  color: var(--md-primary-bg-color);
  text-align: center;
  font-size: 0.95em;
  padding: 1em 0;
">
  Â© 2026 Azure AI Landing Zones
</div>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.icon", "content.iconify", "navigation.tracking", "toc.integrate", "content.code.annotate", "navigation.top"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>