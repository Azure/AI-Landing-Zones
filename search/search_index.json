{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Azure AI Landing Zone","text":""},{"location":"#overview","title":"Overview","text":"<p>The AI Landing Zone provides an enterprise-scale, production-ready reference architecture with implementations in the Azure Portal, Bicep, and Terraform to deploy secure and resilient AI apps and agents on Azure.    </p> <p></p>"},{"location":"#highlights","title":"Highlights","text":"<ul> <li>The AI Landing Zone is an application landing zone that provides a foundation for multiple AI app and agent scenarios, with or without an existing platform landing zone.</li> <li>The Infrastructure-as-Code (IaC) implementations (Bicep and Terraform) are based on Azure Verified Modules.</li> <li>The current scope focuses on AI on Azure Platform; a future version will cover AI on Azure Infrastructure.</li> <li>The AI Landing Zone targets Azure public cloud and can be extended to Azure Government and sovereign clouds.</li> <li>It supports both generative and non-generative scenarios, aligned with the CAF AI resource selection guidance.</li> <li>It uses Semantic Kernel as the orchestration framework.</li> <li>To keep up with rapid AI innovation, it may use preview services to enable the latest capabilities.</li> </ul>"},{"location":"#reference-architectures","title":"Reference Architectures","text":"<p>AI LZ with Platform Landing Zone</p> <p>This diagram shows the recommended reference architecture: the AI Landing Zone deployed alongside an existing Platform Landing Zone.</p> <p>Use this option when you already have shared platform capabilities in place (for example, centralized networking, DNS, security, and governance) and you want the AI Landing Zone to integrate with them.</p> <p></p> <p>AI LZ without Platform Landing Zone</p> <p>This diagram shows the AI Landing Zone as a standalone application landing zone, without a Platform Landing Zone.</p> <p>Use this option when you need a self-contained deployment for a new environment or a smaller footprint, and you do not need to integrate with shared platform services.</p> <p></p>"},{"location":"#extensible-implementations","title":"Extensible Implementations","text":"<p>The table represents the various reference implementations of the AI Landing Zone based on the service inventory &amp; configuration</p> Type Description Terraform Repo Bicep Repo Portal Coming Soon"},{"location":"#use-cases-scenarios","title":"Use cases &amp; Scenarios","text":"<p>The AI Landing Zone act as a foundation architecture which can be leveraged to deploy a particular AI usecase &amp; scenario on Azure, such as the below, either with its default architecture or by extending it with additional Azure services as needed.</p> <ul> <li>Chat Using Azure AI Foundry</li> <li>Agents Using Azure AI Foundry</li> <li>Document generation</li> <li>Conversational Agent</li> <li>Build your own copilot</li> <li>Content processing</li> <li>Conversation knowledge mining</li> <li>Modernize your code</li> </ul>"},{"location":"#cloud-adoption-framework","title":"Cloud Adoption Framework","text":"<p>The AI landing Zone aligns with the guidance in the CAF AI Scenario. For a holistic implementation of the AI Landing Zone, we recommend to review the AI Checklist. To understand how to leverage the AI Landing Zone as part of a wider strategy, review the guidance on AI Strategy. AI Landing Zone is part of the AI Ready stage in particular the AI on Azure platforms (PaaS).</p> <p></p>"},{"location":"#well-architected-framework","title":"Well-Architected Framework","text":"<p>The AI landing Zone aligns with the guidance in the WAF AI workload. For a holistic implementation of the AI Landing Zone, we recommend to review the design methodology, principles and areas of AI workloads on Azure. </p>"},{"location":"#roadmap","title":"Roadmap","text":"<p>The AI Landing Zone is currently in preview. The roadmap for the project is available here.</p>"},{"location":"#contributing","title":"Contributing","text":"<p>This project welcomes contributions and suggestions.  Most contributions require you to agree to a Contributor License Agreement (CLA) declaring that you have the right to, and actually do, grant us the rights to use your contribution. For details, visit https://cla.opensource.microsoft.com.</p> <p>When you submit a pull request, a CLA bot will automatically determine whether you need to provide a CLA and decorate the PR appropriately (e.g., status check, comment). Simply follow the instructions provided by the bot. You will only need to do this once across all repos using our CLA.</p> <p>This project has adopted the Microsoft Open Source Code of Conduct. For more information see the Code of Conduct FAQ or contact opencode@microsoft.com with any additional questions or comments.</p>"},{"location":"#trademarks","title":"Trademarks","text":"<p>This project may contain trademarks or logos for projects, products, or services. Authorized use of Microsoft  trademarks or logos is subject to and must follow  Microsoft's Trademark &amp; Brand Guidelines. Use of Microsoft trademarks or logos in modified versions of this project must not cause confusion or imply Microsoft sponsorship. Any use of third-party trademarks or logos are subject to those third-party's policies.</p>"},{"location":"whatisnew/","title":"What's New","text":""},{"location":"whatisnew/#17th-november-2025","title":"17th November 2025","text":"<ul> <li>AI Landing Zones goes from preview to GA</li> <li>AI Landing Zones Terraform guide published</li> </ul>"},{"location":"whatisnew/#6th-november-2025","title":"6th November 2025","text":"<ul> <li>AI Landing Zones Cost Guide added to documentation</li> </ul>"},{"location":"whatisnew/#5th-november-2025","title":"5th November 2025","text":"<ul> <li>Updated the AI Landing Zones Design checklist with new checks along with restructuring by design areas, considerations and recommendations.</li> <li>Update the terraform sample code for AI Landing Zones.</li> </ul>"},{"location":"architecture/cost-guide/","title":"Cost Guide","text":"<p>AI Landing Zone - Cost Guide</p> <p>Template: AI Landing Zones - Standard Deployment</p> <p>Region: East US (adjust for your target region)</p> <p>Azure Pricing Calculator Link: Azure Pricing Calculator Estimate</p> <p>\ud83d\udd17 Quick Start</p> <ol> <li>Open the Azure Pricing Calculator</li> <li>Follow the service configurations below</li> <li>Add each service by clicking the \"+\" button</li> <li>Configure using the specifications provided</li> </ol> <p>\ud83d\udccb Service Configuration Checklist</p>"},{"location":"architecture/cost-guide/#1-networking-services","title":"1. Networking Services","text":"<p>Application Gateway</p> <ul> <li>Service: Application Gateway</li> <li>Region: East US</li> <li>Tier: WAF V2</li> <li>Gateway hours: 730 hours/month (24/7)</li> <li>Zone redundancy: Yes (3 zones)</li> <li>Capacity Units: Auto-scaling (estimate 10 CU average)</li> <li>Data processed: 100 GB/month (adjust based on traffic)</li> <li>Outbound data transfers: 50 GB/month</li> </ul> <p>Estimated Cost: ~$350-450/month</p> <p>Azure Firewall</p> <ul> <li>Service: Azure Firewall</li> <li>Region: East US</li> <li>SKU: Standard</li> <li>Deployment hours: 730 hours/month (24/7)</li> <li>Zone redundancy: Yes (3 zones)</li> <li>Data processed: 500 GB/month</li> <li>Threat Intelligence: Standard (included)</li> <li>Firewall Policy: 1 policy</li> </ul> <p>Estimated Cost: ~$400-500/month</p> <p>Azure Bastion</p> <ul> <li>Service: Azure Bastion</li> <li>Region: East US</li> <li>Tier: Standard</li> <li>Hours: 730 hours/month</li> <li>Outbound data transfer: 10 GB/month</li> </ul> <p>Estimated Cost: ~$140/month</p> <p>Public IP Addresses</p> <ul> <li>Service: IP Addresses</li> <li>Region: East US</li> <li>Type: Standard Public IPv4</li> <li>Zone redundancy: Yes</li> <li>Quantity: 2 (Application Gateway + Firewall)</li> <li>Hours per IP: 730 hours/month</li> </ul> <p>Estimated Cost: ~$7/month</p> <p>Private Endpoints</p> <ul> <li>Service: Private Link / Private Endpoint</li> <li>Region: East US</li> <li>Number of Private Endpoints: 10</li> <li>App Configuration: 1</li> <li>API Management: 1 (if deployed)</li> <li>Container Apps Environment: 1</li> <li>Container Registry: 1</li> <li>Storage (Blob): 1</li> <li>Cosmos DB: 1</li> <li>AI Search: 1</li> <li>Key Vault: 1</li> <li>AI Services: 1</li> <li>OpenAI: 1</li> <li>Inbound data processed: 100 GB/month total</li> <li>Outbound data processed: 50 GB/month total</li> </ul> <p>Estimated Cost: ~$73/month ($7.30 per endpoint)</p> <p>Private DNS Zones</p> <ul> <li>Service: Azure DNS (Private DNS)</li> <li>Number of zones: 15 zones</li> <li>privatelink.azure-api.net</li> <li>privatelink.cognitiveservices.azure.com</li> <li>privatelink.openai.azure.com</li> <li>privatelink.services.ai.azure.com</li> <li>privatelink.search.windows.net</li> <li>privatelink.documents.azure.com</li> <li>privatelink.blob.core.windows.net</li> <li>privatelink.vaultcore.azure.net</li> <li>privatelink.azconfig.io</li> <li>privatelink.{region}.azurecontainerapps.io</li> <li>privatelink.azurecr.io</li> <li>privatelink.applicationinsights.azure.com</li> <li>(additional zones as needed)</li> <li>DNS queries: 1 million queries/month</li> </ul> <p>Estimated Cost: ~$9/month</p> <p>Virtual Network</p> <ul> <li>Service: Virtual Network</li> <li>Address space: 192.168.0.0/22 (1024 IPs)</li> <li>Subnets: 9 subnets</li> <li>Peering: Hub-spoke peering (optional, if configured)</li> <li>Data transfer (peering): 100 GB/month (if using peering)</li> </ul> <p>Estimated Cost: ~$0 (free) + peering costs if applicable (~$10/month)</p> <p>Network Security Groups</p> <ul> <li>Service: Network Security Groups</li> <li>Quantity: 8 NSGs</li> <li>Agent subnet NSG</li> <li>Private Endpoints subnet NSG</li> <li>Application Gateway subnet NSG</li> <li>API Management subnet NSG</li> <li>Container Apps Environment subnet NSG</li> <li>Jumpbox subnet NSG</li> <li>DevOps Build Agents subnet NSG</li> <li>Azure Bastion subnet NSG</li> </ul> <p>Estimated Cost: ~$0 (free)</p>"},{"location":"architecture/cost-guide/#2-compute-services","title":"2. Compute Services","text":"<p>Virtual Machine - Build VM (Linux)</p> <ul> <li>Service: Virtual Machines</li> <li>Region: East US</li> <li>Operating System: Linux (Ubuntu 22.04)</li> <li>Type: Compute Optimized</li> <li>Tier: Standard</li> <li>Instance: F4s v2<ul> <li>4 vCPUs</li> <li>8 GB RAM</li> </ul> </li> <li>Virtual Machines: 1</li> <li>Hours: 730 hours/month (24/7) or less if auto-shutdown configured</li> <li>Managed Disks:<ul> <li>OS Disk: Standard SSD, 128 GB</li> <li>Delete with VM: Yes</li> </ul> </li> <li>Availability Zone: Zone 1</li> </ul> <p>Estimated Cost: ~$120/month (24/7) or ~$60/month (12 hours/day)</p> <p>Virtual Machine - Jump VM (Windows)</p> <ul> <li>Service: Virtual Machines</li> <li>Region: East US</li> <li>Operating System: Windows Server 2022 Datacenter: Azure Edition</li> <li>Type: General Purpose</li> <li>Tier: Standard</li> <li>Instance: D4as v5<ul> <li>4 vCPUs</li> <li>16 GB RAM</li> </ul> </li> <li>Virtual Machines: 1</li> <li>Hours: 730 hours/month (24/7) or less if auto-shutdown configured</li> <li>Managed Disks:<ul> <li>OS Disk: Standard SSD, 128 GB</li> </ul> </li> <li>Availability Zone: Zone 1</li> <li>License: Windows Server license included</li> </ul> <p>Estimated Cost: ~$180/month (24/7) or ~$90/month (12 hours/day)</p> <p>Azure Container Apps</p> <ul> <li>Service: Container Apps</li> <li>Region: East US</li> <li>Workload Profile: Dedicated (D4)</li> <li>4 vCPUs, 16 GB RAM per instance</li> <li>Minimum instances: 1</li> <li>Maximum instances: 3</li> <li>Average instances running: 2</li> <li>Hours: 730 hours/month per instance</li> <li>Total vCore hours: 2 instances \u00d7 4 vCPUs \u00d7 730 = 5,840 vCore-hours</li> <li>HTTP requests: 1 million requests/month</li> </ul> <p>Estimated Cost: ~$280-350/month (depends on scaling)</p> <p>Azure Container Registry</p> <ul> <li>Service: Container Registry</li> <li>Region: East US</li> <li>SKU: Premium</li> <li>Storage: 100 GB</li> <li>Build vCPU minutes: 500 minutes/month</li> <li>Geo-replication: None (1 region)</li> <li>Data transfer out: 10 GB/month</li> </ul> <p>Estimated Cost: ~$40/month</p>"},{"location":"architecture/cost-guide/#3-ai-cognitive-services","title":"3. AI &amp; Cognitive Services","text":"<p>Azure AI Foundry / AI Services</p> <ul> <li>Service: Azure AI Services (multi-service account)</li> <li>Region: East US</li> <li>API Calls: Variable (usage-based)</li> <li>Estimate baseline: 100,000 API calls/month</li> </ul> <p>Estimated Cost: ~$50-200/month (highly variable based on usage)</p> <p>Azure OpenAI Service</p> <ul> <li>Service: Azure OpenAI Service</li> <li>Region: East US</li> <li>Model: GPT-4o (latest)</li> <li>Input tokens: 1 million tokens/month</li> <li>Output tokens: 500,000 tokens/month</li> <li>Model: GPT-4o-mini (for lighter tasks)</li> <li>Input tokens: 5 million tokens/month</li> <li>Output tokens: 2 million tokens/month</li> </ul> <p>Estimated Cost: ~$100-500/month (depends on model and usage)</p> <p>Note: Pricing varies significantly by model. Use Azure OpenAI pricing page for accurate estimates.</p> <p>Azure AI Search</p> <ul> <li>Service: Azure AI Search (formerly Cognitive Search)</li> <li>Region: East US</li> <li>Tier: Standard (S1)<ul> <li>25 GB storage</li> <li>1 replica</li> </ul> </li> <li>1 partition</li> <li>Hours: 730 hours/month</li> <li>Search queries: 100,000 queries/month</li> <li>Indexing: 10 GB indexed data</li> </ul> <p>Estimated Cost: ~$250/month</p> <p>Alternative - Basic Tier: ~$75/month (for dev/test)</p>"},{"location":"architecture/cost-guide/#4-data-services","title":"4. Data Services","text":"<p>Azure Cosmos DB</p> <ul> <li>Service: Azure Cosmos DB</li> <li>Region: East US</li> <li>API: SQL (Core) API</li> <li>Capacity mode: Provisioned throughput</li> <li>Throughput: 1,000 RU/s (Request Units per second)</li> <li>Storage: 50 GB</li> <li>Backup: Continuous backup (7 days)</li> <li>Multi-region writes: No</li> <li>Availability zones: Yes</li> </ul> <p>Estimated Cost: ~$175/month</p> <p>Alternative - Serverless: ~$25-100/month (for dev/test, usage-based)</p> <p>Storage Account</p> <ul> <li>Service: Storage Accounts</li> <li>Region: East US</li> <li>Performance: Standard</li> <li>Redundancy: Locally-redundant storage (LRS)</li> <li>Account kind: StorageV2 (general purpose v2)</li> <li>Tier: Hot</li> <li>Capacity: 100 GB<ul> <li>Blob storage: 80 GB</li> </ul> </li> <li>File storage: 20 GB</li> <li>Write operations: 100,000 operations/month</li> <li>Read operations: 200,000 operations/month</li> <li>Data retrieval: 10 GB/month</li> </ul> <p>Estimated Cost: ~$5-10/month</p> <p>Azure Key Vault</p> <ul> <li>Service: Key Vault</li> <li>Region: East US</li> <li>Tier: Standard</li> <li>Secrets: 50 secrets</li> <li>Certificate operations: 100 operations/month</li> <li>Key operations: 10,000 operations/month</li> <li>Advanced threat protection: No</li> </ul> <p>Estimated Cost: ~$1-3/month</p> <p>App Configuration</p> <ul> <li>Service: App Configuration</li> <li>Region: East US</li> <li>Tier: Standard</li> <li>Requests: 100,000 requests/month</li> <li>Storage: 1 GB</li> </ul> <p>Estimated Cost: ~$1-2/month</p> <p>Alternative - Free Tier: $0/month (limited to 1,000 requests/day)</p>"},{"location":"architecture/cost-guide/#5-monitoring-observability","title":"5. Monitoring &amp; Observability","text":"<p>Log Analytics Workspace</p> <ul> <li>Service: Azure Monitor (Log Analytics)</li> <li>Region: East US</li> <li>Data ingestion: 50 GB/month</li> <li>Data retention: 30 days (default)</li> <li>Commitment tier: Pay-as-you-go</li> </ul> <p>Estimated Cost: ~$125/month</p> <p>Application Insights</p> <ul> <li>Service: Application Insights</li> <li>Region: East US</li> <li>Data ingestion: 20 GB/month (included in Log Analytics above)</li> <li>Web tests: 5 multi-step web tests</li> <li>Availability tests runs: 10,000 runs/month</li> </ul> <p>Estimated Cost: ~$10/month (web tests, data covered by Log Analytics)</p>"},{"location":"architecture/cost-guide/#6-optional-services","title":"6. Optional Services","text":"<p>*API Management* (if enabled in deployToggles)</p> <ul> <li>Service: API Management</li> <li>Region: East US</li> <li>Tier: Premium</li> <li>Units: 3 (for zone redundancy)</li> <li>Hours: 730 hours/month</li> <li>API calls: 1 million calls/month</li> <li>Cache: 1 GB</li> </ul> <p>Estimated Cost: ~$2,700/month (Premium tier)</p> <p>Alternative - Developer Tier: ~$50/month (for dev/test, no SLA)</p> <p>*Bing Search* (Grounding with Bing)</p> <ul> <li>Service: Bing Search API</li> <li>Tier: S1</li> <li>Transactions: 10,000 transactions/month</li> </ul> <p>Estimated Cost: ~$7/month</p> <p>\ud83d\udcb0 TOTAL COST SUMMARY</p> <p>Standard Deployment (All Services Enabled)</p> Category Monthly Cost (USD) Networking $980 - $1,180 - Application Gateway $350 - $450 - Azure Firewall $400 - $500 - Azure Bastion $140 - Public IPs $7 - Private Endpoints $73 - Private DNS Zones $9 Compute $440 - $650 - Build VM (Linux) $120 - Jump VM (Windows) $180 - Container Apps $100 - $300 - Container Registry $40 AI Services $400 - $950 - Azure OpenAI $100 - $500 - AI Search $250 - AI Services $50 - $200 Data $180 - $190 - Cosmos DB $175 - Storage Account $5 - $10 - Key Vault $1 - $3 - App Configuration $1 - $2 Monitoring $135 - Log Analytics $125 - Application Insights $10 Optional $0 - $2,707 - API Management (if enabled) $0 - $2,700 - Bing Search $7 TOTAL (without API Management) $2,135 - $3,105/month TOTAL (with API Management) $4,835 - $5,812/month <p>\ud83c\udfaf COST OPTIMIZATION SCENARIOS</p> <p>Scenario 1: Development/Test Environment Estimated savings: 50-60% reduction</p> <p>Changes:</p> <ul> <li>Disable Azure Firewall: -$400/month</li> <li>Disable Azure Bastion: -$140/month</li> <li>Disable Jump VM: -$180/month</li> <li>Use AI Search Basic tier: -$175/month</li> <li>Use Cosmos DB Serverless: -$100/month</li> <li>Auto-shutdown Build VM (12h/day): -$60/month</li> <li>Reduce Container Apps scaling: -$100/month</li> </ul> <p>New Total: ~$980 - $1,350/month</p> <p>Scenario 2: Minimal Production (No App Gateway/Firewall) Estimated savings: 40% reduction</p> <p>Changes:</p> <ul> <li>Disable Application Gateway: -$400/month</li> <li>Disable Azure Firewall: -$400/month</li> <li>Use Azure Front Door instead (if needed for WAF)</li> </ul> <p>New Total: ~$1,335 - $1,925/month</p> <p>Scenario 3: Maximum Cost Optimization</p> <p>Estimated savings: 70% reduction</p> <p>Changes:</p> <ul> <li>All from Scenario 1</li> <li>Disable Container Apps (use Azure Container Instances): -$200/month</li> <li>Use consumption-based AI services only: -$200/month</li> <li>Reduce monitoring data retention to 7 days: -$75/month</li> </ul> <p>New Total: ~$640 - $900/month</p> <p>\ud83d\udcca VARIABLE COSTS TO MONITOR</p> <p>These costs are usage-based and can vary significantly:</p> <ol> <li>Azure OpenAI: Depends on tokens processed (can range from $10 to $5,000+/month)</li> <li>AI Services API calls: Pay per transaction</li> <li>Azure AI Search queries: Included in tier pricing, but indexing costs vary</li> <li>Cosmos DB: RU/s consumption can spike with traffic</li> <li>Data egress: Outbound data transfer charges (especially cross-region)</li> <li>Log Analytics: Data ingestion over 5GB/day gets expensive</li> <li>Container Apps scaling: Auto-scaling can increase costs during peak times</li> </ol> <p>\ud83d\udee0\ufe0f HOW TO USE THIS GUIDE</p> <p>Step-by-Step:</p> <ol> <li> <p>Open Calculator: Go to https://azure.microsoft.com/en-us/pricing/calculator/</p> </li> <li> <p>Select Region: Change to your target deployment region (prices vary by region)</p> </li> <li> <p>Add Services: Use the search box to find each service and click \"+\"</p> </li> <li> <p>Configure: For each service, use the specifications in this guide</p> </li> <li> <p>Adjust: Modify quantities based on your specific needs</p> </li> <li> <p>Export/Save: Click \"Export\" to save as Excel or click \"Save\" to generate a shareable link</p> </li> <li> <p>Review Monthly: Update estimates as your usage patterns become clear</p> </li> </ol> <p>\ud83d\udccc IMPORTANT NOTES</p> <ul> <li>Regional Pricing Varies: Costs shown are for East US. Some regions cost 10-30% more.</li> <li>Currency: All prices in USD. Use Azure's currency converter for other currencies.</li> <li>Reserved Instances: VMs and other compute can save 30-70% with 1-3 year reservations.</li> <li>Azure Hybrid Benefit: Save up to 40% on Windows VMs if you have existing licenses.</li> <li>Dev/Test Pricing: Special pricing for MSDN subscribers.</li> <li>Free Services: Some services have free tiers (App Config, DNS queries, etc.).</li> <li>Data Transfer: Within the same region is typically free; cross-region and outbound have costs.</li> </ul> <p>\ud83d\udd17 USEFUL LINKS</p> <ul> <li>Azure Pricing Calculator: https://azure.microsoft.com/pricing/calculator/</li> <li>Azure OpenAI Pricing: https://azure.microsoft.com/pricing/details/cognitive-services/openai-service/</li> <li>Azure AI Services Pricing: https://azure.microsoft.com/pricing/details/cognitive-services/</li> <li>Azure Cost Management: https://portal.azure.com/#blade/Microsoft_Azure_CostManagement/Menu/overview</li> <li>Azure TCO Calculator: https://azure.microsoft.com/pricing/tco/calculator/</li> <li>Azure Architecture Center: https://learn.microsoft.com/azure/architecture/</li> </ul> <p>\ud83d\udcde NEED HELP?</p> <ul> <li>Review the Bicep template: <code>bicep/infra/sample.main.bicepparam</code> to see which services are enabled</li> <li>Adjust <code>deployToggles</code> to disable expensive services you don't need</li> <li>Contact Azure Support for EA/CSP pricing discussions</li> <li>Use Azure Cost Management after deployment for real-time cost tracking</li> </ul> <p>Last Updated: November 5, 2025 Template Version: Based on Azure AI Landing Zones main.bicep v1.0</p>"},{"location":"architecture/design-checklist/","title":"Design Checklist","text":"ID Design Area Design Consideration Design Recommendation References C-R1 Compute Determine the compute options of your models, orchestrators, self hosted agents and application (frontend, backend &amp; Ingestion) in an AI Landing Zone. Recommended to standardize the compute options across all components to ensure consistency and ease of management. Leverage PaaS compute options such as Azure Container Apps, Azure Apps Service, Azure Kubernetes Service to optimize resource utilization and simplify management. Compute for Models Compute for orchestrators, self hosted agents and application CO-R1 Cost Familirize yourself with pricing &amp; billing model of Azure AI Foundry and its services Estimate costs before using Azure AI Foundry and its services for an AI application Manage Cost CO-R2 Cost Consider having PTU &amp; PAYGO Endpoints endpoints. If you have predictable workloads, use AI commitment tiers in Azure AI services. For Azure OpenAI models, use provisioned throughput units (PTUs), which can be less expensive than pay-as-you-go (consumption-based) pricing. It's common to combine PTU endpoints and consumption-based endpoints for cost optimization. Use PTUs on the AI model primary endpoint and a secondary, consumption-based AI endpoint for spillover. Introduce a gateway for multiple Azure OpenAI instances CO-R3 Cost Consider the various Azure OpenAI deployment types in particular the global deployment type. Azure OpenAI models allow you to use different deployment types. Global deployment offers lower cost-per-token pricing on certain OpenAI models. Deployment types CO-R4 Cost Cosider implementing auto shutdown policy for compute resources in non-prod environment. Define and enforce a policy stating that AI resources must use the automatic shutdown feature on virtual machines and compute instances in Azure AI Foundry and Azure Machine Learning. Automatic shutdown is applicable to nonproduction environments and production workloads that you can take offline for certain periods of time. D-R1 Data Determine how stateful entities such as threads, messages, and runs created during usage along with files uploaded during Foundry Agent Service setup or as part of a message are managed Recommended to use standard setup of Agent service and store data in your own Azure resources, giving you full ownership and control. Storing customer data D-R2 Data Determine whether thread storage (conversation history, agent definitions), file storage (uploaded documents), vector search (embeddings and retrieval) will be shared by all project or separated by projects Considering a project represents a distinct application or use case, it's recommended to separate these storage components by project to ensure data isolation and better manageability. Project-based resource management D-R3 Data In case you have Microsoft Fabric, determine how you would surface data from it into AI Foundry Recommended to leverage the Microsoft Fabric data agent for this purpose Use the Microsoft Fabric data agent G-R1 Governance Consider using built-in AI related policies for governance of AI resources and AI apps Automate policy enforcement with Azure Policy to enforce policies automatically across AI deployments, reducing human error. Apply AI policies to each management group. Azure AI Foundry Policies, Azure Machine Learning Policies, Azure AI services Policies, Azure AI Search Policies, G-R2 Governance Review applicable industry standards such as the NIST Artificial Intelligence Risk Management Framework (AI RMF) and NIST AI RMF Playbook and ensure alignment and compliance with them. Apply the regulatory compliance policy initiatives Regulatory compliance initiatives G-R3 Governance Consider implementing responsible AI standards Use the Responsible AI dashboard to generate reports around model outputs. Responsible AI dashboard G-R4 Governance Consider implementing Azure AI Content Safety APIs that can be called for testing to facilitate content safety testing. Use Azure AI Content Safety to define a baseline content filter for your approved AI models. This safety system runs both the prompt and completion for your model through a group of classification models. These classification models detect and help prevent the output of harmful content across a range of categories. Content Safety provides features like prompt shields, groundedness detection, and protected material text detection. It scans images and text. Azure AI Content Safety G-R5 Governance Govern model availability in your organization across applications and workload Use Azure Policy to manage which specific models your teams are allowed to deploy from the Azure AI Foundry model catalog. You have the option to use a built-in policy or create a custom policy. Since this approach uses an allowlist, begin with an audit effect. The audit effect allows you to monitor the models your teams are using without restricting deployments. Only switch to the deny effect once you understand the AI development and experimentation needs of workload teams, so you don't hinder their progress unnecessarily. If you switch a policy to deny, it doesn't automatically remove noncompliant models that teams have already deployed. You must remediate those models manually. Built-in policy I-R1 Identity Consider using managed identities with least privilege access. Use\u202fmanaged identity\u202fon all supported Azure services. Grant least privilege access to application resources that need to access AI model endpoints. Secure Azure service-to-service interactions. Use managed identity to allow Azure services to authenticate to each other without managing credentials. Managed identity I-R2 Identity Leverage MFA and PIM for sensitive accounts. Enable\u202fmultifactor authentication (MFA) and prefer secondary administrative accounts or just-in-time access with\u202fPrivileged Identity Management (PIM) for sensitive accounts. Limit control plane access using services like Azure Bastion as secure entry points into private networks. Multifactor authentication, Privileged Identity Management I-R3 Identity Use Microsoft Entra ID for authentication Wherever possible, eliminate static API keys in favor of Microsoft Entra ID for authentication. This step enhances security through centralized identity management and reduces secret management overhead. Also limit the distribution of API keys. Instead, prefer identities in Microsoft Entra ID over API keys for authentication. Audit the list of individuals with API key access to ensure it's current. For authentication guidance  Azure AI Foundry,\u202fAzure OpenAI,\u202fAzure AI services,\u202fAzure Machine Learning. I-R4 Identity Use Conditional Access policies Implement\u202fConditional Access policies\u202fthat respond to unusual sign-in activity or suspicious behavior. Use signals like user location, device state, and sign-in behavior to trigger extra verification steps. Require MFA for accessing critical AI resources to enhance security. Restrict access to AI infrastructure based on geographic locations or trusted IP ranges. Ensure that only compliant devices (those meeting security requirements) can access AI resources. Conditional Access policies I-R5 Identity Configure least privilege access Implement least privilege access by implementing role-based access control (RBAC) to provide minimal access to data and services. Assign roles to users and groups based on their responsibilities. Use Azure RBAC to fine-tune access control for specific resources such as virtual machines and storage accounts. Ensure users have only the minimum level of access necessary to perform their tasks. Regularly review and adjust permissions to prevent privilege creep. Role-based access control for Azure AI Foundry I-R6 Identity Disable key based access and only have access to AI Model endpoints using Microsoft Entra ID. Secure external access to AI model endpoints.\u202fRequire clients to authenticate using Microsoft Entra ID when accessing AI model endpoints. M-R1 Monitoring Monitor AI models, AI resources, AI data of the workload Implement monitoring to ensure that it remain aligned with applications and workload KPIs M-R2 Monitoring Review recommended alerts for AI in Azure Monitor Baseline Alerts. Enable recommended alert rules to receive notifications of deviations that indicate a decline in workload health. Azure Monitor Baseline Alerts M-R3 Monitoring Monitor the performance of a generative AI application For generative AI workloads, use Azure AI Foundry's built-in evaluation and manual monitoring capabilities. Also monitor latency in response times or the accuracy of vector search results to enhance user experiences. In Azure AI Foundry, enable tracing to collect trace data for each request, aggregated metrics, and user feedback. Enable diagnostic logging for each Azure AI service. M-R4 Monitoring Have diagnostic settings configured to capture logs and metrics of all deployed resources to a log analytics workspace. Use diagnostic settings to capture logs and metrics for all key services, such as Azure AI Foundry and Azure AI services. Specific services should capture audit logs and relevant service-specific logs. M-R5 Monitoring Monitor model &amp; data drift. Track accuracy and data drift continuously in generative and nongenerative AI to ensure that models remain relevant. Monitoring can alert you when model predictions or large language model responses deviate from expected behavior. This deviation indicates a need for retraining or adjustment. Set up custom alerts to detect performance thresholds. This approach enables early intervention when problems arise. Use evaluations in Azure AI Foundry. M-R6 Monitoring Leverage Azure Monitor insights and Azure network watcher for trouble shooting networking issues. Use services such as Azure Monitor Network Insights and Azure Network Watcher to gain visibility into network performance and health. R-R1 Reliability Multi Region Disaster Recovery: Consider Multi Region in at least two regions to provide high availability and ensure for Disaster Recovery. Establish a policy for business continuity and disaster recovery for your AI endpoints and AI data. Configure baseline disaster recovery for resources that host your AI model endpoints. These resources include\u202fAzure AI Foundry,\u202fAzure Machine Learning,\u202fAzure OpenAI, or Azure AI services. All Azure data stores, such as\u202fAzure Blob Storage,\u202fAzure Cosmos DB, and\u202fAzure SQL Database, provide reliability and disaster recovery guidance that you should follow. Implement multi-region deployments to ensure high availability and resiliency for both generative and nongenerative AI systems For more information, see multi-region deployment in\u202fAzure AI Foundry,\u202fAzure Machine Learning, and\u202fAzure OpenAI. R-R1 Resource Organization Select regions based on the combination of regional availability of Azure Services and their configuration. Before deployment, ensure that there's availability in the region for the AI resources that you need. Certain regions might not provide specific AI services or might have limited features, which can affect the functionality of your solution. This limitation can also affect the scalability of your deployment. For example, Azure OpenAI service availability can vary based on your deployment model. These deployment models include global standard, global provisioned, regional standard, and regional provisioned. Check the AI service to confirm that you have access to the necessary resources.<ul><li>To capture and use completions data, you will need to make sure your resource region is included in: swedencentral, northcentralus, eastus2</li><li>Azure OpenAI Evaluation is only supported in the following regions: [eastus2, northcentralus, swedencentral, switzerlandwest, uaenorth], and your region is eastus. Change to a valid region to use Azure OpenAI Evaluation.</li><li>Real-time audio is only available in the following regions: eastus2swedencentral</li><li>Assistants are only available in the following regions: australiaeast, centraluseuap, eastus, eastus2, francecentral, japaneast, norwayeast, southindia, swedencentral, uksouth, westus, westus3</li></ul> R-R2 Resource Organization Review quota required to deploy the resources. Consider the quota or subscription limits in your chosen region as your AI workloads grow. Azure services have regional subscription limits. These limits can affect large-scale AI model deployments, such as large inference workloads. To prevent disruptions, contact Azure support in advance if you foresee a need for extra capacity. R-R3 Resource Organization Consider Azure subscription and region quota limits Align the resource organization with Azure\u2019s subscription quota limitations to avoid unexpected service disruptions. R-R4 Resource Organization Consider scaling through multi-account and multi-project deployment. Azure offers tools like Azure AI Foundry Resource and projects to enforce governance and security. Use an AI Foundry Resource per billing boundary to allocate costs across different teams. For more information, see Manage AI deployments. Use distinct AI Foundry resoruces to organize and manage AI artifacts like datasets, models, and experiments. AI Foundry resoruces centralize resource management and simplify access control. For example, use projects within Azure AI Foundry to manage resources and permissions efficiently, facilitating collaboration while maintaining security boundaries. S-R1 Security Review the Microsoft Defender for Cloud Recommendations for compliance. MDC can help discover generative AI workloads and in predeployment generative AI artifacts. Also AI security posture management in Microsoft Defender for Cloud can be used to automate detection and remediation of generative AI risks. Defender for Cloud provides a cost-effective approach for detecting configurations in your deployed resources that aren't secure. You should also enable AI threat protection. S-R2 Security Comply with Microsoft Cloud Security Baseline Leverage Azure security baselines\u202fand follow\u202fAzure Service Guides\u202ffor security guidance. S-R3 Security Leverage Purview to secure data in an AI landing zone. Sensitive data in AI workflows increases the risk of insider threats, data leaks and data oversharing. Use tools like Microsoft Purview Insider Risk Managementto assess enterprise-wide data risks and prioritize them based on data sensitivity. S-R4 Security Review Industry Security Standards for AI Leverage MITRE ATLAS\u202fand\u202fOWASP Generative AI risk\u202ffor identifying risks across the architecture. S-R5 Security Monitor outputs and apply prompt shielding using AI Content Safety. Regularly inspect the data returned by AI models to detect and mitigate risks associated with malicious or unpredictable user prompts. Implement\u202fPrompt Shields\u202fto scan text for the risk of a user input attack on generative Al models. N-R1 Networking Leverrage DDoS in case the workload is public facing. In case of existing platform landing zone, the central DDoS service should be used instead. Azure DDoS Protection\u202fshould be enabled to safeguard AI services from potential disruptions and downtime caused by distributed denial of service attacks. Enable Azure DDoS protection at the virtual network level to defend against traffic floods targeting internet-facing applications. N-R2 Networking Use a jumpbox that can be accessed through bastion. In case of existing platform landing zone the central jump box and bastion service should be used instead. AI development access should use a jumpbox within the virtual network of the workload or through a connectivity hub virtual network. Use Azure Bastion to securely connect to virtual machines interacting with AI services. Azure Bastion provides secure RDP/SSH connectivity without exposing VMs to the public internet. Enable Azure Bastion to ensure encrypted session data and protect access through TLS-based RDP/SSH connections. N-R3 Networking Use Private endpoint for the AI resources and infact for all PaaS services. No PaaS services or AI model endpoints should be accessible from the public internet. Private endpoints to provide private connectivity to Azure services within a virtual network.\u202fPrivate endpoints provide secure, private access to PaaS portals like Azure AI Foundry. For Azure AI Foundry, Configure the\u202fmanaged virtual network\u202fand use\u202fprivate endpoints. N-R4 Networking Use Network Security Groups in the AI Landing Zone on all virtual networks implemented as part of the architecture. Utilize\u202fnetwork security groups\u202f(NSGs) to define and apply access policies that govern inbound and outbound traffic to and from AI workloads. These controls can be used to implement the principle of least privilege, ensuring that only essential communication is permitted. N-R5 Networking Use App Gateway or Azure Front Door with WAF in the AI Landing Zone for the application public front-end based on regional or global deployment. Azure WAF\u202fhelps protect your AI workloads from common web vulnerabilities, including SQL injections and cross-site scripting attacks. Configure Azure WAF on\u202fApplication Gateway\u202ffor workloads that require enhanced security against malicious web traffic. For Azure AI Services, Restrict access to select\u202fvirtual networks\u202for use\u202fprivate endpoints N-R6 Networking Consider APIM as AI Gateway in the AI landing zone with AI Foundry. The AI Landing Zone should use\u202fAzure API Management\u202ffor load balancing API requests to AI endpoints. Consider using Azure API Management (APIM) as a generative AI gateway within your virtual networks. A generative AI gateway sits between your front-end and the AI endpoints. Application Gateway, WAF policies, and APIM within the virtual network is an established\u202farchitecture\u202fin generative AI solutions. For more information, see\u202fAI Hub architecture\u202fand\u202fDeploy Azure API Management instance to multiple Azure regions. A\u202fgenerative AI gateway\u202fallows you to track token usage, throttle token usage, apply circuit breakers, and route to different AI endpoints to control costs. Consider a generative AI gateway for monitoring.\u202fA reverse proxy like Azure API Management allows you to implement logging and monitoring that aren't native to the platform. API Management allows you to collect source IPs, input text, and output text. For more information, see\u202fImplement logging and monitoring for Azure OpenAI Service language models.. Azure API Management\u202f(APIM) can help ensure consistent security across AI workloads. Use its built-in policies for traffic control and security enforcement. Integrate APIM with Microsoft Entra ID to centralize authentication and authorization and ensure only authorized users or applications interact with your AI models. Ensure you configure least privilege access on the\u202freverse proxy\u2019s managed identity. For more information, see\u202fAI authentication with APIM N-R7 Networking Use Firewall either in the AI Landing Zone or from the platform landing zone (preferred) along with a UDR to the Azure or 3P Firewall. Azure Firewall\u202fenforces security policies for outgoing traffic before it reaches the internet. Use it to control and monitor outgoing traffic and enable SNAT to conceal internal IP addresses by translating private IPs to the firewall's public IP. It ensures secure and identifiable outbound traffic for better monitoring and security. N-R8 Networking Use Private DNS Zones either in the AI Landing Zone or from the platform landing zone (preferred) for integrated private endpoints with Private DNS Zones\u202ffor proper DNS resolution and successful private endpoint functionality. Private DNS zones centralize and secure DNS management for accessing PaaS services within your AI network. Set up Azure policies that enforce private DNS zones and require private endpoints to ensure secure, internal DNS resolutions. If you don't have central Private DNS Zones, the DNS forwarding doesn't work until you add conditional forwarding manually. For example, see\u202fusing custom DNS\u202fwith Azure AI Foundry hubs and Azure Machine Learning workspace. Custom DNS servers manage PaaS connectivity within the network, bypassing public DNS. Configure private DNS zones in Azure to resolve PaaS service names securely and route all traffic through private networking channels. N-R9 Networking Restrict Outbound by default in the AI Landing Zone should provide guidance and implementation restricting outbound access by default. Limiting outbound traffic from your AI model endpoints helps protect sensitive data and maintain the integrity of your AI models. For minimizing data exfiltration risks, restricting outbound traffic to approved services or fully qualified domain names (FQDNs) and maintain a list of trusted sources. You should only allow unrestricted internet outbound traffic if you need access to public machine learning resources but regularly monitor and update your systems. For more information, see\u202fAzure AI services,\u202fAzure AI Foundry, and\u202fAzure Machine Learning."},{"location":"architecture/faq/","title":"Frequently Asked Questions","text":"<p>What is the difference between version Azure Landing Zone and AI Landing Zone?</p> <p>The Azure Landing Zone is comprise of platform landing zone and application landing zone. The platform landing zone provides the foundational infrastructure and services required to support workloads in Azure, while the application landing zone is tailored for specific applications or workloads, ensuring they have the necessary resources and configurations to operate effectively. The AI landing zone is an application landing zone specifically designed to support AI workloads, incorporating specialized resources, configurations, and best practices for deploying and managing AI applications in Azure.</p> <p>What is the recommended reference architecture for AI Landing Zones, with or with out Platform Landing Zone?</p> <p>The AI Landing Zone with Platform Landing Zone is the recommend reference architecture where shared services like firewall, DDoS, Bastion, jump boxes are centralized in the Platform Landing Zone whereas resources specific to an Agentic AI Application are in the AI Landing Zones. AI Landing Zone without Platform Landing Zone is suitable for scenarios where an organization either wants their AI Application to be independent and isolated from the rest of their platform and applications or for an organization that will only have a single AI Application hosted on Azure.</p> <p>What is the primary purpose of API Management service in AI Landing Zones?</p> <p>The primary purpose for APIM in the AI landing zone is to act as the AI Gateway for models. For details refer to documentation here</p>"},{"location":"bicep/examples/","title":"AI Landing Zone Bicep parameter examples","text":"<p>This page describes common parameter file patterns for deploying the AI Landing Zone with Bicep.</p> <p>If you are looking for step-by-step deployment instructions, see How to use. If you need a complete explanation of every available setting, see Parameters.</p> <p>Examples will be provided soon...</p>"},{"location":"bicep/how-to-use/","title":"How to use","text":"<p>Deploying AI Landing Zone</p> <p>1) Prerequisites</p> <ul> <li>Azure CLI and Azure Developer CLI installed and signed in  </li> <li>A resource group in your target subscription  </li> <li>Owner or Contributor + User Access Administrator permissions on the subscription  </li> </ul> <p>2) Quick start with azd</p> <p>Deployment steps</p> <p>2.1.  Sign in to Azure</p> <pre><code>az login\n</code></pre> <pre><code>azd auth login\n</code></pre> <p>Note: If you work with multiple tenants, you can specify the tenant explicitly. For Azure CLI, use <code>az login --tenant &lt;TENANT_ID_OR_DOMAIN&gt;</code>. For Azure Developer CLI, use <code>azd auth login --tenant-id &lt;TENANT_ID_OR_DOMAIN&gt;</code>. For more sign-in options (device code, service principal, managed identity), see the documentation for <code>az login</code> and <code>azd auth login</code>.</p> <p>2.2. Create the resource group where you will deploy the AI Landing Zone resources</p> <pre><code>az group create --name \"rg-ai-lz-RANDOM_SUFFIX\" --location \"eastus2\"\n</code></pre> <p>Note: Replace <code>RANDOM_SUFFIX</code> with a unique value (for example a timestamp or a short random number) to avoid name collisions.</p> <p>2.3. Initialize the project</p> <p>In an empty folder (e.g., <code>deploy</code>), run:</p> <pre><code>azd init -t Azure/AI-Landing-Zones -e ai-lz-RANDOM_SUFFIX\n</code></pre> <p>2.4. Set environment variables <code>AZURE_LOCATION</code>, <code>AZURE_RESOURCE_GROUP</code>, <code>AZURE_SUBSCRIPTION_ID</code>.</p> <p>Bash (Linux/macOS, WSL, Cloud Shell)</p> <pre><code>export AZURE_LOCATION=\"eastus2\"\nexport AZURE_RESOURCE_GROUP=\"rg-ai-lz-RANDOM_SUFFIX\"\nexport AZURE_SUBSCRIPTION_ID=\"00000000-1111-2222-3333-444444444444\"\n</code></pre> <p>PowerShell (Windows/PowerShell Core)</p> <pre><code>$env:AZURE_LOCATION = \"eastus2\"\n$env:AZURE_RESOURCE_GROUP = \"rg-ai-lz-RANDOM_SUFFIX\"\n$env:AZURE_SUBSCRIPTION_ID = \"00000000-1111-2222-3333-444444444444\"\n</code></pre> <p>2.5. (Optional) Customize parameters</p> <p>Edit <code>bicep/infra/main.bicepparam</code> if you want to adjust deployment options. The default configuration assumes a greenfield deployment scenario. For more deployment scenarios, see Parametrizing and Examples.</p> <p>2.6. Provision the infrastructure</p> <pre><code>azd provision\n</code></pre> <p>Note: Provisioning uses Template Specs to bypass the 4 MB ARM template size limit. Pre-provision scripts build and publish them, while post-provision scripts remove them after success.</p> <p>Tip: Alternative deployment with Azure CLI. Clone the repo, set environment variables manually (for example, <code>$env:VAR=\"value\"</code>), run the pre-provision script, then use <code>az deployment group create</code> instead of <code>azd provision</code>. Remember to run the post-provision script after deployment.</p> <p>3) Accessing VMs</p> <p>Note: VM deployment is optional. This section applies only if you chose to deploy the Jump VM or Build VM during provisioning.</p> <p>VM Credentials</p> <p>The template uses auto-generated random passwords by default for security. You can optionally provide custom passwords (or SSH keys for the Linux Build VM) as parameters during deployment.</p> <p>Default usernames:</p> <ul> <li>Jump VM (Windows): <code>azureuser</code></li> <li>Build VM (Linux): <code>builduser</code></li> </ul> <p>Resetting Passwords</p> <p>If you used auto-generated passwords (default), reset them through the Azure Portal before connecting:</p> <ol> <li>Navigate to the VM resource</li> <li>Go to Help \u2192 Reset password</li> <li>Enter the username and your new password</li> <li>Click Update</li> </ol> <p></p> <p>Connecting to VMs</p> <ul> <li>Jump VM (Windows): Azure Bastion or RDP</li> <li>Build VM (Linux): SSH</li> </ul> <p>Both VMs provide access to resources within the virtual network.</p> <p>4) Reference docs</p> <p>For detailed configuration and examples, see:</p> <ul> <li>Parametrizing \u2014 Learn how to parameterize the deployment</li> <li>Examples \u2014 Common deployment scenarios</li> </ul>"},{"location":"bicep/parametrizing/","title":"How to Parameterize the Bicep Template","text":"<p>You can customize the AI Landing Zones Bicep template by setting parameters in <code>bicep/infra/main.bicepparam</code>. Use this file to adapt the deployment to your environment and requirements.</p> <p>Configuration snippet:</p> <pre><code>using './main.bicep'\n\nparam location = 'eastus2'\nparam baseName = 'myailz'\nparam deployToggles = {\n  acaEnvironmentNsg: true\n  agentNsg: true\n  apiManagement: true\n  ...\n  storageAccount: true\n  virtualNetwork: true\n  wafPolicy: true\n}\nparam resourceIds = {}\nparam flagPlatformLandingZone = false\n</code></pre>"},{"location":"bicep/parametrizing/#overview","title":"Overview","text":"<p>The template supports multiple deployment patterns through parameter configuration:</p> <p>Platform Integration</p> <p>Use <code>flagPlatformLandingZone</code> when you want to integrate this workload landing zone into an existing \u201cplatform landing zone\u201d that already owns shared networking/DNS. When <code>flagPlatformLandingZone=true</code>, this template assumes private DNS zones (and typically hub-level networking such as Firewall/Bastion subnets) are managed outside this deployment. The workload deployment still creates workload resources and private endpoints, but it will avoid creating/configuring private DNS zones in the current resource group and will instead rely on the DNS zone IDs you provide (see <code>privateDnsZonesDefinition.*ZoneId</code>).</p> <p>Resource Reuse</p> <p>Use <code>resourceIds</code> to switch a component from \u201ccreate\u201d to \u201creuse\u201d. The common pattern in <code>bicep/infra/main.bicep</code> is:</p> <ul> <li>Create new: set <code>deployToggles.&lt;service&gt;=true</code> and leave <code>resourceIds.&lt;service&gt;ResourceId</code> empty.</li> <li>Reuse existing: set <code>resourceIds.&lt;service&gt;ResourceId</code> to an existing resource ID (and keep the corresponding toggle enabled when you want the landing zone to integrate with it).</li> </ul> <p>This lets you mix-and-match (for example: reuse an existing VNet and Log Analytics workspace, but deploy new Key Vault + Storage).</p> <p>AI Foundry Options</p> <p>You can deploy AI Foundry in different \u201cdepths\u201d by combining <code>deployToggles.aiFoundry</code> with <code>aiFoundryDefinition</code>:</p> <ul> <li> <p>Full setup (default behavior): <code>deployToggles.aiFoundry=true</code> and leave <code>aiFoundryDefinition</code> as-is. By default, the template deploys Foundry and (unless explicitly disabled) also deploys capability hosts and associated resources.</p> </li> <li> <p>Project-only (no capability hosts, no associated resources): keep <code>deployToggles.aiFoundry=true</code> but set the two flags below. This deploys the AI Foundry account/project and model deployments, without creating capability hosts (agent service) or provisioning dependent resources.</p> </li> </ul> <pre><code>param deployToggles = {\n  // ...\n  aiFoundry: true\n}\n\nparam aiFoundryDefinition = {\n  includeAssociatedResources: false\n  aiFoundryConfiguration: {\n    createCapabilityHosts: false\n  }\n}\n</code></pre> <p>If you disable associated resources, you will typically either (1) provide Foundry-specific backing services through <code>resourceIds.aiFoundry*</code> (Search/Storage/Cosmos/Key Vault), or (2) accept that those dependencies will not be created by this deployment.</p> <ul> <li>Custom model deployments: override <code>aiFoundryDefinition.aiModelDeployments</code>. The template maps deployments using <code>model.name</code>, <code>model.format</code>, <code>model.version</code>, and <code>sku.name</code> / <code>sku.capacity</code>.</li> </ul> <pre><code>param aiFoundryDefinition = {\n  aiModelDeployments: [\n    {\n      name: 'my-gpt'\n      model: {\n        name: 'gpt-5-mini'\n        format: 'OpenAI'\n        version: '2025-08-07'\n      }\n      sku: {\n        name: 'GlobalStandard'\n        capacity: 10\n      }\n    }\n  ]\n}\n</code></pre> <ul> <li>Enable/disable: Set <code>deployToggles.aiFoundry</code> to control whether AI Foundry (and its internal dependencies) are deployed</li> <li>Full setup: AI Foundry with all dependencies (Search, Cosmos DB, Key Vault, and Storage)</li> <li>Project only: AI Foundry project only (no Agent Service or dependencies)</li> <li>Custom models: Configure specific AI model deployments</li> </ul> <p>Default Values</p> <p>Most parameters are optional. Defaults are defined in <code>bicep/infra/main.bicep</code> (and in some cases inside upstream AVM modules).</p> <p>User-Defined Types (UDTs) in <code>bicep/infra/common/types.bicep</code> define the expected shape of parameters (types, allowed properties, validation).</p> <p>For most \"definition\" objects (for example, <code>*Definition</code> parameters), the template follows a \"defaults + overrides\" pattern and merges your input on top of the defaults (often using a pattern like <code>union({ /* defaults */ }, userDefinition ?? {})</code>). This means you can provide only the properties you want to change.</p> <p>Practical rule:</p> <ul> <li>If you omit an entire parameter from your <code>.bicepparam</code>, the template uses the default value.</li> <li>If you provide an object parameter, any property you set overrides the default for that property; any property you omit keeps the default.</li> <li>Some components are implemented via upstream AVM modules, which may apply additional defaults inside the module.</li> </ul> <p>Naming</p> <p>The template uses <code>resourceToken</code> (auto-generated if omitted) and <code>baseName</code> (defaults to a 12-char token derived from <code>resourceToken</code>) to generate deterministic names. Many component definition objects allow you to override the name explicitly; if you leave the name blank/empty, the template generates a valid name derived from <code>baseName</code>.</p>"},{"location":"bicep/parametrizing/#template-parameters","title":"Template Parameters","text":"<p>The parameters are organized into three categories: - Required Parameters: Must be provided for the template to deploy successfully - Conditional Parameters: Required only when certain features or components are enabled - Optional Parameters: Have default values but can be customized as needed</p> <p>Each parameter includes information about its type, requirements, default values (where applicable), and detailed descriptions of its purpose and usage.</p>"},{"location":"bicep/parametrizing/#parameters","title":"Parameters","text":""},{"location":"bicep/parametrizing/#required-parameters","title":"Required Parameters","text":""},{"location":"bicep/parametrizing/#deploytoggles","title":"<code>deployToggles</code>","text":"Parameter Type Required Description <code>deployToggles</code> <code>object</code> Required Per-service deployment toggles. <p>Properties:</p> <ul> <li> <p><code>acaEnvironmentNsg</code> (<code>bool</code>) - Required.   Toggle to deploy NSG for Azure Container Apps environment subnet (true) or not (false).</p> </li> <li> <p><code>agentNsg</code> (<code>bool</code>) - Required.   Toggle to deploy NSG for agent (workload) subnet (true) or not (false).</p> </li> <li> <p><code>aiFoundry</code> (<code>bool</code>) - Required.   Toggle to deploy AI Foundry (true) or not (false).</p> </li> <li> <p><code>apiManagement</code> (<code>bool</code>) - Required.   Toggle to deploy API Management (true) or not (false).</p> </li> <li> <p><code>apiManagementNsg</code> (<code>bool</code>) - Required.   Toggle to deploy NSG for API Management subnet (true) or not (false).</p> </li> <li> <p><code>appConfig</code> (<code>bool</code>) - Required.   Toggle to deploy App Configuration (true) or not (false).</p> </li> <li> <p><code>appInsights</code> (<code>bool</code>) - Required.   Toggle to deploy Application Insights (true) or not (false).</p> </li> <li> <p><code>applicationGateway</code> (<code>bool</code>) - Required.   Toggle to deploy Application Gateway (true) or not (false).</p> </li> <li> <p><code>applicationGatewayNsg</code> (<code>bool</code>) - Required.   Toggle to deploy NSG for Application Gateway subnet (true) or not (false).</p> </li> <li> <p><code>applicationGatewayPublicIp</code> (<code>bool</code>) - Required.   Toggle to deploy a Public IP address for the Application Gateway (true) or not (false).</p> </li> <li> <p><code>bastionHost</code> (<code>bool</code>) - Required.   Toggle to deploy an Azure Bastion host (true) or not (false).</p> </li> <li> <p><code>bastionNsg</code> (<code>bool</code>) - Required.   Toggle to deploy NSG for Bastion host subnet (true) or not (false).</p> </li> <li> <p><code>buildVm</code> (<code>bool</code>) - Required.   Toggle to deploy Build VM (true) or not (false).</p> </li> <li> <p><code>containerApps</code> (<code>bool</code>) - Required.   Toggle to deploy Container Apps (true) or not (false).</p> </li> <li> <p><code>containerEnv</code> (<code>bool</code>) - Required.   Toggle to deploy Container Apps Environment (true) or not (false).</p> </li> <li> <p><code>containerRegistry</code> (<code>bool</code>) - Required.   Toggle to deploy Azure Container Registry (true) or not (false).</p> </li> <li> <p><code>cosmosDb</code> (<code>bool</code>) - Required.   Toggle to deploy Cosmos DB (true) or not (false).</p> </li> <li> <p><code>devopsBuildAgentsNsg</code> (<code>bool</code>) - Required.   Toggle to deploy NSG for DevOps build agents subnet (true) or not (false).</p> </li> <li> <p><code>firewall</code> (<code>bool</code>) - Required.   Toggle to deploy Azure Firewall (true) or not (false).</p> </li> <li> <p><code>groundingWithBingSearch</code> (<code>bool</code>) - Required.   Toggle to deploy Bing Grounding with Search (true) or not (false).</p> </li> <li> <p><code>jumpboxNsg</code> (<code>bool</code>) - Required.   Toggle to deploy NSG for jumpbox (bastion-accessed) subnet (true) or not (false).</p> </li> <li> <p><code>jumpVm</code> (<code>bool</code>) - Required.   Toggle to deploy Jump VM (true) or not (false).</p> </li> <li> <p><code>keyVault</code> (<code>bool</code>) - Required.   Toggle to deploy Key Vault (true) or not (false).</p> </li> <li> <p><code>logAnalytics</code> (<code>bool</code>) - Required.   Toggle to deploy Log Analytics (true) or not (false).</p> </li> <li> <p><code>peNsg</code> (<code>bool</code>) - Required.   Toggle to deploy NSG for private endpoints (PE) subnet (true) or not (false).</p> </li> <li> <p><code>searchService</code> (<code>bool</code>) - Required.   Toggle to deploy Azure AI Search (true) or not (false).</p> </li> <li> <p><code>storageAccount</code> (<code>bool</code>) - Required.   Toggle to deploy Storage Account (true) or not (false).</p> </li> <li> <p><code>virtualNetwork</code> (<code>bool</code>) - Required.   Toggle to deploy a new Virtual Network (true) or not (false).</p> </li> <li> <p><code>wafPolicy</code> (<code>bool</code>) - Required.   Toggle to deploy an Application Gateway WAF policy (true) or not (false).</p> </li> </ul>"},{"location":"bicep/parametrizing/#conditional-parameters","title":"Conditional Parameters","text":""},{"location":"bicep/parametrizing/#appconfigurationdefinition","title":"<code>appConfigurationDefinition</code>","text":"Parameter Type Required Description <code>appConfigurationDefinition</code> <code>object</code> Conditional App Configuration store settings. Required if deploy.appConfig is true and resourceIds.appConfigResourceId is empty. <p>Properties:</p> <ul> <li> <p><code>createMode</code> (<code>string</code>) - Optional.   Indicates whether the configuration store needs to be recovered.</p> </li> <li> <p><code>customerManagedKey</code> (<code>object</code>) - Optional.   Customer Managed Key definition.</p> </li> <li> <p><code>autoRotationEnabled</code> (<code>bool</code>) - Optional.     Enable or disable auto-rotation (default true).</p> </li> <li> <p><code>keyName</code> (<code>string</code>) - Required.     Key name used for encryption.</p> </li> <li> <p><code>keyVaultResourceId</code> (<code>string</code>) - Required.     Resource ID of the Key Vault containing the key.</p> </li> <li> <p><code>keyVersion</code> (<code>string</code>) - Optional.     Specific key version to use.</p> </li> <li> <p><code>userAssignedIdentityResourceId</code> (<code>string</code>) - Optional.     User-assigned identity resource ID if system identity is not available.</p> </li> <li> <p><code>dataPlaneProxy</code> (<code>object</code>) - Optional.   Data plane proxy configuration for ARM.</p> </li> <li> <p><code>authenticationMode</code> (<code>string</code>) - Optional.     Authentication mode for data plane proxy.</p> </li> <li> <p><code>privateLinkDelegation</code> (<code>string</code>) - Required.     Whether private link delegation is enabled.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the service.</p> </li> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic event hub authorization rule.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.     Name of the diagnostic Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.     Destination type for Log Analytics. Allowed values: AzureDiagnostics, Dedicated.</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.     Log categories and groups to stream.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Name of a diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Name of a diagnostic log category group.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable the category. Default true.</p> </li> </ul> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.     Array item for appConfigurationDefinition.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.     Marketplace partner resource ID.</p> </li> <li> <p><code>metricCategories</code> (<code>array</code>) - Optional.     Metric categories to stream.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Required.   Diagnostic metric category name.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable the metric category. Default true.</p> </li> </ul> </li> <li> <p><code>metricCategories[*]</code> (<code>object</code>) - Optional.     Array item for appConfigurationDefinition.diagnosticSettings[*].metricCategories</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Diagnostic setting name.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.     Storage account resource ID for diagnostic logs.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.     Log Analytics workspace resource ID for diagnostic logs.</p> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.   Array item for appConfigurationDefinition.diagnosticSettings</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Name of a diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Name of a diagnostic log category group.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable the category. Default true.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Required.     Diagnostic metric category name.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable the metric category. Default true.</p> </li> <li> <p><code>disableLocalAuth</code> (<code>bool</code>) - Optional.   Disable all non-AAD authentication methods.</p> </li> <li> <p><code>enablePurgeProtection</code> (<code>bool</code>) - Optional.   Enable purge protection (default true, except Free SKU).</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable usage telemetry for module.</p> </li> <li> <p><code>keyValues</code> (<code>array</code>) - Optional.   List of key/values to create (requires local auth).</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource (default resourceGroup().location).</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identity configuration.</p> </li> <li> <p><code>systemAssigned</code> (<code>bool</code>) - Optional.     Enable system-assigned managed identity.</p> </li> <li> <p><code>userAssignedResourceIds</code> (<code>array</code>) - Optional.     User-assigned identity resource IDs.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Azure App Configuration.</p> </li> <li> <p><code>privateEndpoints</code> (<code>array</code>) - Optional.   Private endpoint configuration.</p> </li> <li> <p><code>applicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Application Security Group resource IDs.</p> </li> <li> <p><code>customDnsConfigs</code> (<code>array</code>) - Optional.     Custom DNS configs.</p> <ul> <li> <p><code>fqdn</code> (<code>string</code>) - Optional.   FQDN that maps to the private IPs.</p> </li> <li> <p><code>ipAddresses</code> (<code>array</code>) - Required.   Private IP addresses for the endpoint.</p> </li> </ul> </li> <li> <p><code>customDnsConfigs[*]</code> (<code>object</code>) - Optional.     Array item for appConfigurationDefinition.privateEndpoints[*].customDnsConfigs</p> </li> <li> <p><code>customNetworkInterfaceName</code> (<code>string</code>) - Optional.     Custom network interface name.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.     Enable or disable usage telemetry for the module.</p> </li> <li> <p><code>ipConfigurations</code> (<code>array</code>) - Optional.     Explicit IP configurations for the Private Endpoint.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of this IP configuration.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.   Object defining groupId, memberName, and privateIPAddress for the private endpoint IP configuration.</p> </li> <li> <p><code>groupId</code> (<code>string</code>) - Required.     Group ID from the remote resource.</p> </li> <li> <p><code>memberName</code> (<code>string</code>) - Required.     Member name from the remote resource.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Required.     Private IP address from the PE subnet.</p> </li> </ul> </li> <li> <p><code>ipConfigurations[*]</code> (<code>object</code>) - Optional.     Array item for appConfigurationDefinition.privateEndpoints[*].ipConfigurations</p> <ul> <li> <p><code>groupId</code> (<code>string</code>) - Required.   Group ID from the remote resource.</p> </li> <li> <p><code>memberName</code> (<code>string</code>) - Required.   Member name from the remote resource.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Required.   Private IP address from the PE subnet.</p> </li> </ul> </li> <li> <p><code>isManualConnection</code> (<code>bool</code>) - Optional.     Use manual Private Link approval flow.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     Location to deploy the Private Endpoint to.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.     Lock settings for the Private Endpoint.</p> <ul> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.   Lock notes.</p> </li> </ul> </li> <li> <p><code>manualConnectionRequestMessage</code> (<code>string</code>) - Optional.     Manual connection request message.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the Private Endpoint resource.</p> </li> <li> <p><code>privateDnsZoneGroup</code> (<code>object</code>) - Optional.     Private DNS Zone group configuration.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the Private DNS Zone group.</p> </li> <li> <p><code>privateDnsZoneGroupConfigs</code> (<code>array</code>) - Required.   Configs for linking PDNS zones.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of this DNS zone config.</p> </li> <li> <p><code>privateDnsZoneResourceId</code> (<code>string</code>) - Required.     Private DNS Zone resource ID.</p> </li> <li> <p><code>privateDnsZoneGroupConfigs[*]</code> (<code>object</code>) - Optional.   Array item for appConfigurationDefinition.privateEndpoints[*].privateDnsZoneGroup.privateDnsZoneGroupConfigs</p> </li> </ul> </li> <li> <p><code>privateLinkServiceConnectionName</code> (<code>string</code>) - Optional.     Private Link service connection name.</p> </li> <li> <p><code>resourceGroupResourceId</code> (<code>string</code>) - Optional.     Resource group resource ID to place the PE in.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments for the Private Endpoint.</p> </li> <li> <p><code>service</code> (<code>string</code>) - Optional.     Target service group ID (as string).</p> </li> <li> <p><code>subnetResourceId</code> (<code>string</code>) - Required.     Subnet resource ID for the private endpoint.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags to apply to the Private Endpoint.</p> </li> <li> <p><code>privateEndpoints[*]</code> (<code>object</code>) - Optional.   Array item for appConfigurationDefinition.privateEndpoints</p> </li> <li> <p><code>fqdn</code> (<code>string</code>) - Optional.     FQDN that maps to the private IPs.</p> </li> <li> <p><code>ipAddresses</code> (<code>array</code>) - Required.     Private IP addresses for the endpoint.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of this IP configuration.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.     Object defining groupId, memberName, and privateIPAddress for the private endpoint IP configuration.</p> <ul> <li> <p><code>groupId</code> (<code>string</code>) - Required.   Group ID from the remote resource.</p> </li> <li> <p><code>memberName</code> (<code>string</code>) - Required.   Member name from the remote resource.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Required.   Private IP address from the PE subnet.</p> </li> </ul> </li> <li> <p><code>groupId</code> (<code>string</code>) - Required.     Group ID from the remote resource.</p> </li> <li> <p><code>memberName</code> (<code>string</code>) - Required.     Member name from the remote resource.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Required.     Private IP address from the PE subnet.</p> </li> <li> <p><code>groupId</code> (<code>string</code>) - Required.     Group ID from the remote resource.</p> </li> <li> <p><code>memberName</code> (<code>string</code>) - Required.     Member name from the remote resource.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Required.     Private IP address from the PE subnet.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the Private DNS Zone group.</p> </li> <li> <p><code>privateDnsZoneGroupConfigs</code> (<code>array</code>) - Required.     Configs for linking PDNS zones.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of this DNS zone config.</p> </li> <li> <p><code>privateDnsZoneResourceId</code> (<code>string</code>) - Required.   Private DNS Zone resource ID.</p> </li> </ul> </li> <li> <p><code>privateDnsZoneGroupConfigs[*]</code> (<code>object</code>) - Optional.     Array item for appConfigurationDefinition.privateEndpoints[*].privateDnsZoneGroup.privateDnsZoneGroupConfigs</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of this DNS zone config.</p> </li> <li> <p><code>privateDnsZoneResourceId</code> (<code>string</code>) - Required.     Private DNS Zone resource ID.</p> </li> <li> <p><code>publicNetworkAccess</code> (<code>string</code>) - Optional.   Whether public network access is allowed.</p> </li> <li> <p><code>replicaLocations</code> (<code>array</code>) - Optional.   Replica locations.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Replica name.</p> </li> <li> <p><code>replicaLocation</code> (<code>string</code>) - Required.     Azure region name for the replica.</p> </li> <li> <p><code>replicaLocations[*]</code> (<code>object</code>) - Optional.   Array item for appConfigurationDefinition.replicaLocations</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for App Configuration.</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Optional.   Pricing tier of App Configuration.</p> </li> <li> <p><code>softDeleteRetentionInDays</code> (<code>int</code>) - Optional.   Retention period in days for soft delete (1\u20137). Default 1.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the resource.</p> </li> </ul>"},{"location":"bicep/parametrizing/#appgatewaydefinition","title":"<code>appGatewayDefinition</code>","text":"Parameter Type Required Description <code>appGatewayDefinition</code> <code>object</code> Conditional Application Gateway configuration. Required if deploy.applicationGateway is true and resourceIds.applicationGatewayResourceId is empty. <p>Properties:</p> <ul> <li> <p><code>authenticationCertificates</code> (<code>array</code>) - Optional.   Authentication certificates of the Application Gateway.</p> </li> <li> <p><code>autoscaleMaxCapacity</code> (<code>int</code>) - Optional.   Maximum autoscale capacity.</p> </li> <li> <p><code>autoscaleMinCapacity</code> (<code>int</code>) - Optional.   Minimum autoscale capacity.</p> </li> <li> <p><code>availabilityZones</code> (<code>array</code>) - Optional.   Availability zones used by the gateway.</p> </li> <li> <p><code>backendAddressPools</code> (<code>array</code>) - Optional.   Backend address pools of the Application Gateway.</p> </li> <li> <p><code>backendHttpSettingsCollection</code> (<code>array</code>) - Optional.   Backend HTTP settings.</p> </li> <li> <p><code>backendSettingsCollection</code> (<code>array</code>) - Optional.   Backend settings collection (see limits).</p> </li> <li> <p><code>capacity</code> (<code>int</code>) - Optional.   Static instance capacity. Default is 2.</p> </li> <li> <p><code>customErrorConfigurations</code> (<code>array</code>) - Optional.   Custom error configurations.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the Application Gateway.</p> </li> <li> <p><code>enableFips</code> (<code>bool</code>) - Optional.   Whether FIPS is enabled.</p> </li> <li> <p><code>enableHttp2</code> (<code>bool</code>) - Optional.   Whether HTTP/2 is enabled.</p> </li> <li> <p><code>enableRequestBuffering</code> (<code>bool</code>) - Optional.   Enable request buffering.</p> </li> <li> <p><code>enableResponseBuffering</code> (<code>bool</code>) - Optional.   Enable response buffering.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable telemetry (default true).</p> </li> <li> <p><code>firewallPolicyResourceId</code> (<code>string</code>) - Conditional.   Resource ID of the associated firewall policy. Required if SKU is WAF_v2.</p> </li> <li> <p><code>frontendIPConfigurations</code> (<code>array</code>) - Optional.   Frontend IP configurations.</p> </li> <li> <p><code>frontendPorts</code> (<code>array</code>) - Optional.   Frontend ports.</p> </li> <li> <p><code>gatewayIPConfigurations</code> (<code>array</code>) - Optional.   Gateway IP configurations (subnets).</p> </li> <li> <p><code>httpListeners</code> (<code>array</code>) - Optional.   HTTP listeners.</p> </li> <li> <p><code>listeners</code> (<code>array</code>) - Optional.   Listeners (see limits).</p> </li> <li> <p><code>loadDistributionPolicies</code> (<code>array</code>) - Optional.   Load distribution policies.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location of the Application Gateway.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identities for the Application Gateway.</p> </li> <li> <p><code>userAssignedResourceIds</code> (<code>array</code>) - Optional.     User-assigned managed identity resource IDs.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Application Gateway.</p> </li> <li> <p><code>privateEndpoints</code> (<code>array</code>) - Optional.   Private endpoints configuration.</p> </li> <li> <p><code>privateLinkConfigurations</code> (<code>array</code>) - Optional.   Private link configurations.</p> </li> <li> <p><code>probes</code> (<code>array</code>) - Optional.   Probes for backend health monitoring.</p> </li> <li> <p><code>redirectConfigurations</code> (<code>array</code>) - Optional.   Redirect configurations.</p> </li> <li> <p><code>requestRoutingRules</code> (<code>array</code>) - Optional.   Request routing rules.</p> </li> <li> <p><code>rewriteRuleSets</code> (<code>array</code>) - Optional.   Rewrite rule sets.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Application Gateway.</p> </li> <li> <p><code>routingRules</code> (<code>array</code>) - Optional.   Routing rules.</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Optional.   SKU of the Application Gateway. Default is WAF_v2.</p> </li> <li> <p><code>sslCertificates</code> (<code>array</code>) - Optional.   SSL certificates.</p> </li> <li> <p><code>sslPolicyCipherSuites</code> (<code>array</code>) - Optional.   SSL policy cipher suites.</p> </li> <li> <p><code>sslPolicyMinProtocolVersion</code> (<code>string</code>) - Optional.   Minimum SSL protocol version.</p> </li> <li> <p><code>sslPolicyName</code> (<code>string</code>) - Optional.   Predefined SSL policy name.</p> </li> <li> <p><code>sslPolicyType</code> (<code>string</code>) - Optional.   SSL policy type.</p> </li> <li> <p><code>sslProfiles</code> (<code>array</code>) - Optional.   SSL profiles.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Resource tags.</p> </li> <li> <p><code>trustedClientCertificates</code> (<code>array</code>) - Optional.   Trusted client certificates.</p> </li> <li> <p><code>trustedRootCertificates</code> (<code>array</code>) - Optional.   Trusted root certificates.</p> </li> <li> <p><code>urlPathMaps</code> (<code>array</code>) - Optional.   URL path maps.</p> </li> </ul>"},{"location":"bicep/parametrizing/#appgatewaypublicip","title":"<code>appGatewayPublicIp</code>","text":"Parameter Type Required Description <code>appGatewayPublicIp</code> <code>object</code> Conditional Conditional Public IP for Application Gateway. Requred when deploy applicationGatewayPublicIp is true and no existing ID is provided. <p>Properties:</p> <ul> <li><code>ddosSettings</code> (<code>object</code>) - Optional.   DDoS protection settings for the Public IP Address.</li> <li> <p><code>ddosProtectionPlan</code> (<code>object</code>) - Optional.     Associated DDoS protection plan.</p> <ul> <li><code>id</code> (<code>string</code>) - Required.   Resource ID of the DDoS protection plan.</li> </ul> </li> <li> <p><code>protectionMode</code> (<code>string</code>) - Required.     DDoS protection mode. Allowed value: Enabled.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the Public IP Address.</p> </li> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic Event Hub authorization rule.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.     Name of the diagnostic Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.     Log Analytics destination type. Allowed values: AzureDiagnostics, Dedicated.</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.     Log categories and groups to collect. Set to [] to disable log collection.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Name of a diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Name of a diagnostic log category group. Use allLogs to collect all logs.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable the log category. Default is true.</p> </li> </ul> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.     Array item for appGatewayPublicIp.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.     Marketplace partner resource ID.</p> </li> <li> <p><code>metricCategories</code> (<code>array</code>) - Optional.     Metric categories to collect. Set to [] to disable metric collection.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Required.   Name of a diagnostic metric category. Use AllMetrics to collect all metrics.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable the metric category. Default is true.</p> </li> </ul> </li> <li> <p><code>metricCategories[*]</code> (<code>object</code>) - Optional.     Array item for appGatewayPublicIp.diagnosticSettings[*].metricCategories</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the diagnostic setting.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic storage account.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic Log Analytics workspace.</p> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.   Array item for appGatewayPublicIp.diagnosticSettings</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Name of a diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Name of a diagnostic log category group. Use allLogs to collect all logs.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable the log category. Default is true.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Required.     Name of a diagnostic metric category. Use AllMetrics to collect all metrics.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable the metric category. Default is true.</p> </li> <li> <p><code>dnsSettings</code> (<code>object</code>) - Optional.   DNS settings for the Public IP Address.</p> </li> <li> <p><code>domainNameLabel</code> (<code>string</code>) - Required.     Domain name label used to create an A DNS record in Azure DNS.</p> </li> <li> <p><code>domainNameLabelScope</code> (<code>string</code>) - Optional.     Domain name label scope. Allowed values: NoReuse, ResourceGroupReuse, SubscriptionReuse, TenantReuse.</p> </li> <li> <p><code>fqdn</code> (<code>string</code>) - Optional.     Fully qualified domain name (FQDN) associated with the Public IP.</p> </li> <li> <p><code>reverseFqdn</code> (<code>string</code>) - Optional.     Reverse FQDN used for PTR records.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable usage telemetry for the module. Default is true.</p> </li> <li> <p><code>idleTimeoutInMinutes</code> (<code>int</code>) - Optional.   Idle timeout in minutes for the Public IP Address. Default is 4.</p> </li> <li> <p><code>ipTags</code> (<code>array</code>) - Optional.   IP tags associated with the Public IP Address.</p> </li> <li> <p><code>ipTagType</code> (<code>string</code>) - Required.     IP tag type.</p> </li> <li> <p><code>tag</code> (<code>string</code>) - Required.     IP tag value.</p> </li> <li> <p><code>ipTags[*]</code> (<code>object</code>) - Optional.   Array item for appGatewayPublicIp.ipTags</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Default is resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Public IP Address.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Public IP Address.</p> </li> <li> <p><code>publicIPAddressVersion</code> (<code>string</code>) - Optional.   IP address version. Default is IPv4. Allowed values: IPv4, IPv6.</p> </li> <li> <p><code>publicIPAllocationMethod</code> (<code>string</code>) - Optional.   Public IP allocation method. Default is Static. Allowed values: Dynamic, Static.</p> </li> <li> <p><code>publicIpPrefixResourceId</code> (<code>string</code>) - Optional.   Resource ID of the Public IP Prefix to allocate from.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments to apply to the Public IP Address.</p> </li> <li> <p><code>condition</code> (<code>string</code>) - Optional.     Condition for the role assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.     Condition version. Allowed value: 2.0.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.     Delegated managed identity resource ID.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Role assignment name (GUID). If omitted, a GUID is generated.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID of the identity being assigned.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type of the assigned identity. Allowed values: Device, ForeignGroup, Group, ServicePrincipal, User.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role to assign (display name, GUID, or full resource ID).</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for appGatewayPublicIp.roleAssignments</p> </li> <li> <p><code>skuName</code> (<code>string</code>) - Optional.   SKU name for the Public IP Address. Default is Standard. Allowed values: Basic, Standard.</p> </li> <li> <p><code>skuTier</code> (<code>string</code>) - Optional.   SKU tier for the Public IP Address. Default is Regional. Allowed values: Global, Regional.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the Public IP Address resource.</p> </li> <li> <p><code>zones</code> (<code>array</code>) - Optional.   Availability zones for the Public IP Address allocation. Allowed values: 1, 2, 3.</p> </li> </ul>"},{"location":"bicep/parametrizing/#appinsightsdefinition","title":"<code>appInsightsDefinition</code>","text":"Parameter Type Required Description <code>appInsightsDefinition</code> <code>object</code> Conditional Application Insights configuration. Required if deploy.appInsights is true and resourceIds.appInsightsResourceId is empty; a Log Analytics workspace must exist or be deployed."},{"location":"bicep/parametrizing/#buildvmdefinition","title":"<code>buildVmDefinition</code>","text":"Parameter Type Required Description <code>buildVmDefinition</code> <code>object</code> Conditional Build VM configuration to support CI/CD workers (Linux). Required if deploy.buildVm is true. <p>Properties:</p> <ul> <li> <p><code>adminPassword</code> (<code>securestring</code>) - Optional.   Admin password for the VM.</p> </li> <li> <p><code>adminUsername</code> (<code>string</code>) - Optional.   Admin username to create (e.g., azureuser).</p> </li> <li> <p><code>availabilityZone</code> (<code>int</code>) - Optional.   Availability zone.</p> </li> <li> <p><code>azdo</code> (<code>object</code>) - Optional.   Azure DevOps settings (required when runner = azdo, Build VM only).</p> </li> <li> <p><code>agentName</code> (<code>string</code>) - Optional.     Agent name.</p> </li> <li> <p><code>orgUrl</code> (<code>string</code>) - Required.     Azure DevOps organization URL (e.g., https://dev.azure.com/contoso).</p> </li> <li> <p><code>pool</code> (<code>string</code>) - Required.     Agent pool name.</p> </li> <li> <p><code>workFolder</code> (<code>string</code>) - Optional.     Working folder.</p> </li> <li> <p><code>disablePasswordAuthentication</code> (<code>bool</code>) - Optional.   Disable password authentication (Build VM only).</p> </li> <li> <p><code>enableAutomaticUpdates</code> (<code>bool</code>) - Optional.   Enable automatic updates (Jump VM only).</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable telemetry via a Globally Unique Identifier (GUID).</p> </li> <li> <p><code>github</code> (<code>object</code>) - Optional.   GitHub settings (required when runner = github, Build VM only).</p> </li> <li> <p><code>agentName</code> (<code>string</code>) - Optional.     Runner name.</p> </li> <li> <p><code>labels</code> (<code>string</code>) - Optional.     Runner labels (comma-separated).</p> </li> <li> <p><code>owner</code> (<code>string</code>) - Required.     GitHub owner (org or user).</p> </li> <li> <p><code>repo</code> (<code>string</code>) - Required.     Repository name.</p> </li> <li> <p><code>workFolder</code> (<code>string</code>) - Optional.     Working folder.</p> </li> <li> <p><code>imageReference</code> (<code>object</code>) - Optional.   Marketplace image reference for the VM.</p> </li> <li> <p><code>communityGalleryImageId</code> (<code>string</code>) - Optional.     Community gallery image ID.</p> </li> <li> <p><code>id</code> (<code>string</code>) - Optional.     Resource ID.</p> </li> <li> <p><code>offer</code> (<code>string</code>) - Optional.     Offer name.</p> </li> <li> <p><code>publisher</code> (<code>string</code>) - Optional.     Publisher name.</p> </li> <li> <p><code>sharedGalleryImageId</code> (<code>string</code>) - Optional.     Shared gallery image ID.</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Optional.     SKU name.</p> </li> <li> <p><code>version</code> (<code>string</code>) - Optional.     Image version (e.g., latest).</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration.</p> </li> <li> <p><code>maintenanceConfigurationResourceId</code> (<code>string</code>) - Optional.   Resource ID of the maintenance configuration (Jump VM only).</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identities.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   VM name.</p> </li> <li> <p><code>nicConfigurations</code> (<code>array</code>) - Optional.   Network interface configurations.</p> </li> <li> <p><code>osDisk</code> (<code>object</code>) - Optional.   OS disk configuration.</p> </li> <li> <p><code>osType</code> (<code>string</code>) - Optional.   OS type for the VM.</p> </li> <li> <p><code>patchMode</code> (<code>string</code>) - Optional.   Patch mode for the VM (Jump VM only).</p> </li> <li> <p><code>publicKeys</code> (<code>array</code>) - Optional.   SSH public keys (Build VM only).</p> </li> <li> <p><code>requireGuestProvisionSignal</code> (<code>bool</code>) - Optional.   Force password reset on first login.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments.</p> </li> <li> <p><code>runner</code> (<code>string</code>) - Optional.   Which agent to install (Build VM only).</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Optional.   VM size SKU (e.g., Standard_B2s, Standard_D2s_v5).</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the VM resource.</p> </li> </ul>"},{"location":"bicep/parametrizing/#containerappenvdefinition","title":"<code>containerAppEnvDefinition</code>","text":"Parameter Type Required Description <code>containerAppEnvDefinition</code> <code>object</code> Conditional Container Apps Environment configuration. Required if deploy.containerEnv is true and resourceIds.containerEnvResourceId is empty. <p>Properties:</p> <ul> <li> <p><code>appInsightsConnectionString</code> (<code>securestring</code>) - Optional.   Application Insights connection string.</p> </li> <li> <p><code>appLogsConfiguration</code> (<code>object</code>) - Optional.   App Logs configuration for the Managed Environment.</p> </li> <li> <p><code>destination</code> (<code>string</code>) - Optional.     Destination of the logs. Allowed values: azure-monitor, log-analytics, none.</p> </li> <li> <p><code>logAnalyticsConfiguration</code> (<code>object</code>) - Conditional.     Log Analytics configuration. Required if destination is log-analytics.</p> <ul> <li> <p><code>customerId</code> (<code>string</code>) - Required.   Log Analytics Workspace ID.</p> </li> <li> <p><code>sharedKey</code> (<code>securestring</code>) - Required.   Shared key of the Log Analytics workspace.</p> </li> </ul> </li> <li> <p><code>certificate</code> (<code>object</code>) - Optional.   Managed Environment Certificate configuration.</p> </li> <li> <p><code>certificateKeyVaultProperties</code> (<code>object</code>) - Optional.     Key Vault reference for certificate.</p> <ul> <li> <p><code>identityResourceId</code> (<code>string</code>) - Required.   Identity resource ID used to access Key Vault.</p> </li> <li> <p><code>keyVaultUrl</code> (<code>string</code>) - Required.   Key Vault URL referencing the certificate.</p> </li> </ul> </li> <li> <p><code>certificatePassword</code> (<code>string</code>) - Optional.     Certificate password.</p> </li> <li> <p><code>certificateType</code> (<code>string</code>) - Optional.     Certificate type. Allowed values: ImagePullTrustedCA, ServerSSLCertificate.</p> </li> <li> <p><code>certificateValue</code> (<code>string</code>) - Optional.     Certificate value (PFX or PEM).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Certificate name.</p> </li> <li> <p><code>certificatePassword</code> (<code>securestring</code>) - Optional.   Password of the certificate used by the custom domain.</p> </li> <li> <p><code>certificateValue</code> (<code>securestring</code>) - Optional.   Certificate to use for the custom domain (PFX or PEM).</p> </li> <li> <p><code>daprAIConnectionString</code> (<code>securestring</code>) - Optional.   Application Insights connection string for Dapr telemetry.</p> </li> <li> <p><code>daprAIInstrumentationKey</code> (<code>securestring</code>) - Optional.   Azure Monitor instrumentation key for Dapr telemetry.</p> </li> <li> <p><code>dnsSuffix</code> (<code>string</code>) - Optional.   DNS suffix for the environment domain.</p> </li> <li> <p><code>dockerBridgeCidr</code> (<code>string</code>) - Conditional.   Docker bridge CIDR range for the environment. Must not overlap with other IP ranges. Required if zoneRedundant is set to true to be WAF compliant.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable telemetry for the module. Default is true.</p> </li> <li> <p><code>infrastructureResourceGroupName</code> (<code>string</code>) - Conditional.   Infrastructure resource group name. Required if zoneRedundant is set to true to be WAF compliant.</p> </li> <li> <p><code>infrastructureSubnetResourceId</code> (<code>string</code>) - Conditional.   Resource ID of the subnet for infrastructure components. Required if \"internal\" is true. Required if zoneRedundant is set to true to be WAF compliant.</p> </li> <li> <p><code>internal</code> (<code>bool</code>) - Conditional.   Boolean indicating if only internal load balancer is used. Required if zoneRedundant is set to true to be WAF compliant.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources. Default is resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings for the Managed Environment.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identity configuration for the Managed Environment.</p> </li> <li> <p><code>systemAssigned</code> (<code>bool</code>) - Optional.     Enable system-assigned managed identity.</p> </li> <li> <p><code>userAssignedResourceIds</code> (<code>array</code>) - Optional.     User-assigned identity resource IDs. Required if user-assigned identity is used for encryption.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Container Apps Managed Environment.</p> </li> <li> <p><code>openTelemetryConfiguration</code> (<code>object</code>) - Optional.   Open Telemetry configuration.</p> </li> <li> <p><code>peerTrafficEncryption</code> (<code>bool</code>) - Optional.   Whether peer traffic encryption is enabled. Default is true.</p> </li> <li> <p><code>platformReservedCidr</code> (<code>string</code>) - Conditional.   Reserved IP range in CIDR notation for infrastructure. Required if zoneRedundant is set to true to be WAF compliant.</p> </li> <li> <p><code>platformReservedDnsIP</code> (<code>string</code>) - Conditional.   Reserved DNS IP within platformReservedCidr for internal DNS. Required if zoneRedundant is set to true to be WAF compliant.</p> </li> <li> <p><code>publicNetworkAccess</code> (<code>string</code>) - Optional.   Whether to allow or block public network traffic. Allowed values: Disabled, Enabled.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments to create for the Managed Environment.</p> </li> <li> <p><code>storages</code> (<code>array</code>) - Optional.   List of storages to mount on the environment.</p> </li> <li> <p><code>accessMode</code> (<code>string</code>) - Required.     Access mode for storage. Allowed values: ReadOnly, ReadWrite.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Required.     Type of storage. Allowed values: NFS, SMB.</p> </li> <li> <p><code>shareName</code> (<code>string</code>) - Required.     File share name.</p> </li> <li> <p><code>storageAccountName</code> (<code>string</code>) - Required.     Storage account name.</p> </li> <li> <p><code>storages[*]</code> (<code>object</code>) - Optional.   Array item for containerAppEnvDefinition.storages</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the Managed Environment.</p> </li> <li> <p><code>workloadProfiles</code> (<code>array</code>) - Conditional.   Workload profiles for the Managed Environment. Required if zoneRedundant is set to true to be WAF compliant.</p> </li> <li> <p><code>zoneRedundant</code> (<code>bool</code>) - Optional.   Whether the Managed Environment is zone redundant. Default is true.</p> </li> </ul>"},{"location":"bicep/parametrizing/#containerregistrydefinition","title":"<code>containerRegistryDefinition</code>","text":"Parameter Type Required Description <code>containerRegistryDefinition</code> <code>object</code> Conditional Container Registry configuration. Required if deploy.containerRegistry is true and resourceIds.containerRegistryResourceId is empty. <p>Properties:</p> <ul> <li> <p><code>acrAdminUserEnabled</code> (<code>bool</code>) - Optional.   Enable admin user that has push/pull permission to the registry. Default is false.</p> </li> <li> <p><code>acrSku</code> (<code>string</code>) - Optional.   Tier of your Azure Container Registry. Default is Premium.</p> </li> <li> <p><code>anonymousPullEnabled</code> (<code>bool</code>) - Optional.   Enables registry-wide pull from unauthenticated clients (preview, Standard/Premium only). Default is false.</p> </li> <li> <p><code>azureADAuthenticationAsArmPolicyStatus</code> (<code>string</code>) - Optional.   Indicates whether the policy for using ARM audience token is enabled. Default is enabled.</p> </li> <li> <p><code>cacheRules</code> (<code>array</code>) - Optional.   Array of Cache Rules.</p> </li> <li> <p><code>credentialSetResourceId</code> (<code>string</code>) - Optional.     Resource ID of the credential store associated with the cache rule.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the cache rule. Defaults to the source repository name if not set.</p> </li> <li> <p><code>sourceRepository</code> (<code>string</code>) - Required.     Source repository pulled from upstream.</p> </li> <li> <p><code>targetRepository</code> (<code>string</code>) - Optional.     Target repository specified in docker pull command.</p> </li> <li> <p><code>cacheRules[*]</code> (<code>object</code>) - Optional.   Array item for containerRegistryDefinition.cacheRules</p> </li> <li> <p><code>credentialSets</code> (<code>array</code>) - Optional.   Array of Credential Sets.</p> </li> <li> <p><code>authCredentials</code> (<code>array</code>) - Required.     List of authentication credentials (primary and optional secondary).</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the credential.</p> </li> <li> <p><code>passwordSecretIdentifier</code> (<code>string</code>) - Required.   KeyVault Secret URI for the password.</p> </li> <li> <p><code>usernameSecretIdentifier</code> (<code>string</code>) - Required.   KeyVault Secret URI for the username.</p> </li> </ul> </li> <li> <p><code>authCredentials[*]</code> (<code>object</code>) - Optional.     Array item for containerRegistryDefinition.credentialSets[*].authCredentials</p> </li> <li> <p><code>loginServer</code> (<code>string</code>) - Required.     Login server for which the credentials are stored.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.     Managed identity definition for this credential set.</p> <ul> <li><code>systemAssigned</code> (<code>bool</code>) - Optional.   Enables system-assigned managed identity.</li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the credential set.</p> </li> <li> <p><code>credentialSets[*]</code> (<code>object</code>) - Optional.   Array item for containerRegistryDefinition.credentialSets</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the credential.</p> </li> <li> <p><code>passwordSecretIdentifier</code> (<code>string</code>) - Required.     KeyVault Secret URI for the password.</p> </li> <li> <p><code>usernameSecretIdentifier</code> (<code>string</code>) - Required.     KeyVault Secret URI for the username.</p> </li> <li> <p><code>systemAssigned</code> (<code>bool</code>) - Optional.     Enables system-assigned managed identity.</p> </li> <li> <p><code>customerManagedKey</code> (<code>object</code>) - Optional.   Customer managed key definition.</p> </li> <li> <p><code>autoRotationEnabled</code> (<code>bool</code>) - Optional.     Enable or disable auto-rotation to the latest version. Default is true.</p> </li> <li> <p><code>keyName</code> (<code>string</code>) - Required.     Name of the key.</p> </li> <li> <p><code>keyVaultResourceId</code> (<code>string</code>) - Required.     Resource ID of the Key Vault.</p> </li> <li> <p><code>keyVersion</code> (<code>string</code>) - Optional.     Key version. Used if autoRotationEnabled=false.</p> </li> <li> <p><code>userAssignedIdentityResourceId</code> (<code>string</code>) - Optional.     User-assigned identity for fetching the key. Required if no system-assigned identity.</p> </li> <li> <p><code>dataEndpointEnabled</code> (<code>bool</code>) - Conditional.   Enable a single data endpoint per region (Premium only). Default is false. Required if acrSku is Premium.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the service.</p> </li> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.     Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.     Event Hub name for logs.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.     Destination type for Log Analytics (AzureDiagnostics or Dedicated).</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.     Log categories and groups.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Diagnostic log category group.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable this category. Default is true.</p> </li> </ul> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.     Array item for containerRegistryDefinition.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.     Marketplace partner resource ID.</p> </li> <li> <p><code>metricCategories</code> (<code>array</code>) - Optional.     Metric categories.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Required.   Diagnostic metric category.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable this metric. Default is true.</p> </li> </ul> </li> <li> <p><code>metricCategories[*]</code> (<code>object</code>) - Optional.     Array item for containerRegistryDefinition.diagnosticSettings[*].metricCategories</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the diagnostic setting.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.     Storage account resource ID.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.     Log Analytics workspace resource ID.</p> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.   Array item for containerRegistryDefinition.diagnosticSettings</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Diagnostic log category group.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable this category. Default is true.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Required.     Diagnostic metric category.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable this metric. Default is true.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable telemetry for the module. Default is true.</p> </li> <li> <p><code>exportPolicyStatus</code> (<code>string</code>) - Optional.   Export policy status. Default is disabled.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources. Default is resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Type of lock (CanNotDelete, None, ReadOnly).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Notes for the lock.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identity definition for the registry.</p> </li> <li> <p><code>systemAssigned</code> (<code>bool</code>) - Optional.     Enable system-assigned managed identity.</p> </li> <li> <p><code>userAssignedResourceIds</code> (<code>array</code>) - Optional.     User-assigned identity resource IDs. Required if user-assigned identity is used for encryption.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of your Azure Container Registry.</p> </li> <li> <p><code>networkRuleBypassOptions</code> (<code>string</code>) - Optional.   Network rule bypass options. Default is AzureServices.</p> </li> <li> <p><code>networkRuleSetDefaultAction</code> (<code>string</code>) - Optional.   Default action when no network rule matches. Default is Deny.</p> </li> <li> <p><code>networkRuleSetIpRules</code> (<code>array</code>) - Conditional.   IP ACL rules (Premium only). Required if acrSku is Premium.</p> </li> <li> <p><code>privateEndpoints</code> (<code>array</code>) - Conditional.   Private endpoint configuration (Premium only). Required if acrSku is Premium.</p> </li> <li> <p><code>publicNetworkAccess</code> (<code>string</code>) - Conditional.   Public network access (Premium only). Disabled by default if private endpoints are set and no IP rules). Required if acrSku is Premium.</p> </li> <li> <p><code>quarantinePolicyStatus</code> (<code>string</code>) - Conditional.   Quarantine policy status (Premium only). Default is disabled. Required if acrSku is Premium.</p> </li> <li> <p><code>replications</code> (<code>array</code>) - Optional.   Replications to create.</p> </li> <li> <p><code>retentionPolicyDays</code> (<code>int</code>) - Optional.   Number of days to retain untagged manifests. Default is 15.</p> </li> <li> <p><code>retentionPolicyStatus</code> (<code>string</code>) - Optional.   Retention policy status. Default is enabled.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for this registry.</p> </li> <li> <p><code>scopeMaps</code> (<code>array</code>) - Optional.   Scope maps configuration.</p> </li> <li> <p><code>softDeletePolicyDays</code> (<code>int</code>) - Optional.   Number of days after which soft-deleted items are permanently deleted. Default is 7.</p> </li> <li> <p><code>softDeletePolicyStatus</code> (<code>string</code>) - Optional.   Soft delete policy status. Default is disabled.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Resource tags.</p> </li> <li> <p><code>trustPolicyStatus</code> (<code>string</code>) - Conditional.   Trust policy status (Premium only). Default is disabled. Required if acrSku is Premium.</p> </li> <li> <p><code>webhooks</code> (<code>array</code>) - Optional.   Webhooks to create.</p> </li> <li> <p><code>zoneRedundancy</code> (<code>string</code>) - Optional.   Zone redundancy setting. Default is Enabled. Conditional: requires acrSku=Premium.</p> </li> </ul>"},{"location":"bicep/parametrizing/#firewalldefinition","title":"<code>firewallDefinition</code>","text":"Parameter Type Required Description <code>firewallDefinition</code> <code>object</code> Conditional Azure Firewall configuration. Required if deploy.firewall is true and resourceIds.firewallResourceId is empty. <p>Properties:</p> <ul> <li> <p><code>additionalPublicIpConfigurations</code> (<code>array</code>) - Optional.   Additional Public IP configurations.</p> </li> <li> <p><code>applicationRuleCollections</code> (<code>array</code>) - Optional.   Application rule collections used by Azure Firewall.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the application rule collection.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.     Properties of the application rule collection.</p> <ul> <li><code>action</code> (<code>object</code>) - Required.   Action of the rule collection.</li> <li> <p><code>type</code> (<code>string</code>) - Required.     Action type. Allowed values: Allow, Deny.</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the application rule collection (100-65000).</p> </li> <li> <p><code>rules</code> (<code>array</code>) - Required.   Application rules in the collection.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the rule.</p> </li> <li> <p><code>fqdnTags</code> (<code>array</code>) - Optional.     List of FQDN tags for this rule.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the application rule.</p> </li> <li> <p><code>protocols</code> (<code>array</code>) - Required.     Protocols for the application rule.</p> <ul> <li> <p><code>port</code> (<code>int</code>) - Optional.   Port number for the protocol (\u226464000).</p> </li> <li> <p><code>protocolType</code> (<code>string</code>) - Required.   Protocol type. Allowed values: Http, Https, Mssql.</p> </li> </ul> </li> <li> <p><code>protocols[*]</code> (<code>object</code>) - Optional.     Array item for firewallDefinition.applicationRuleCollections[].properties.rules[].protocols</p> </li> <li> <p><code>sourceAddresses</code> (<code>array</code>) - Optional.     List of source IP addresses for this rule.</p> </li> <li> <p><code>sourceIpGroups</code> (<code>array</code>) - Optional.     List of source IP groups for this rule.</p> </li> <li> <p><code>targetFqdns</code> (<code>array</code>) - Optional.     List of target FQDNs for this rule.</p> </li> <li> <p><code>rules[*]</code> (<code>object</code>) - Optional.   Array item for firewallDefinition.applicationRuleCollections[*].properties.rules</p> </li> <li> <p><code>port</code> (<code>int</code>) - Optional.     Port number for the protocol (\u226464000).</p> </li> <li> <p><code>protocolType</code> (<code>string</code>) - Required.     Protocol type. Allowed values: Http, Https, Mssql.</p> </li> </ul> </li> <li> <p><code>applicationRuleCollections[*]</code> (<code>object</code>) - Optional.   Array item for firewallDefinition.applicationRuleCollections</p> </li> <li> <p><code>action</code> (<code>object</code>) - Required.     Action of the rule collection.</p> <ul> <li><code>type</code> (<code>string</code>) - Required.   Action type. Allowed values: Allow, Deny.</li> </ul> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the application rule collection (100-65000).</p> </li> <li> <p><code>rules</code> (<code>array</code>) - Required.     Application rules in the collection.</p> <ul> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description of the rule.</p> </li> <li> <p><code>fqdnTags</code> (<code>array</code>) - Optional.   List of FQDN tags for this rule.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the application rule.</p> </li> <li> <p><code>protocols</code> (<code>array</code>) - Required.   Protocols for the application rule.</p> </li> <li> <p><code>port</code> (<code>int</code>) - Optional.     Port number for the protocol (\u226464000).</p> </li> <li> <p><code>protocolType</code> (<code>string</code>) - Required.     Protocol type. Allowed values: Http, Https, Mssql.</p> </li> <li> <p><code>protocols[*]</code> (<code>object</code>) - Optional.   Array item for firewallDefinition.applicationRuleCollections[].properties.rules[].protocols</p> </li> <li> <p><code>sourceAddresses</code> (<code>array</code>) - Optional.   List of source IP addresses for this rule.</p> </li> <li> <p><code>sourceIpGroups</code> (<code>array</code>) - Optional.   List of source IP groups for this rule.</p> </li> <li> <p><code>targetFqdns</code> (<code>array</code>) - Optional.   List of target FQDNs for this rule.</p> </li> </ul> </li> <li> <p><code>rules[*]</code> (<code>object</code>) - Optional.     Array item for firewallDefinition.applicationRuleCollections[*].properties.rules</p> <ul> <li> <p><code>port</code> (<code>int</code>) - Optional.   Port number for the protocol (\u226464000).</p> </li> <li> <p><code>protocolType</code> (<code>string</code>) - Required.   Protocol type. Allowed values: Http, Https, Mssql.</p> </li> </ul> </li> <li> <p><code>type</code> (<code>string</code>) - Required.     Action type. Allowed values: Allow, Deny.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the rule.</p> </li> <li> <p><code>fqdnTags</code> (<code>array</code>) - Optional.     List of FQDN tags for this rule.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the application rule.</p> </li> <li> <p><code>protocols</code> (<code>array</code>) - Required.     Protocols for the application rule.</p> <ul> <li> <p><code>port</code> (<code>int</code>) - Optional.   Port number for the protocol (\u226464000).</p> </li> <li> <p><code>protocolType</code> (<code>string</code>) - Required.   Protocol type. Allowed values: Http, Https, Mssql.</p> </li> </ul> </li> <li> <p><code>protocols[*]</code> (<code>object</code>) - Optional.     Array item for firewallDefinition.applicationRuleCollections[].properties.rules[].protocols</p> </li> <li> <p><code>sourceAddresses</code> (<code>array</code>) - Optional.     List of source IP addresses for this rule.</p> </li> <li> <p><code>sourceIpGroups</code> (<code>array</code>) - Optional.     List of source IP groups for this rule.</p> </li> <li> <p><code>targetFqdns</code> (<code>array</code>) - Optional.     List of target FQDNs for this rule.</p> </li> <li> <p><code>port</code> (<code>int</code>) - Optional.     Port number for the protocol (\u226464000).</p> </li> <li> <p><code>protocolType</code> (<code>string</code>) - Required.     Protocol type. Allowed values: Http, Https, Mssql.</p> </li> <li> <p><code>port</code> (<code>int</code>) - Optional.     Port number for the protocol (\u226464000).</p> </li> <li> <p><code>protocolType</code> (<code>string</code>) - Required.     Protocol type. Allowed values: Http, Https, Mssql.</p> </li> <li> <p><code>autoscaleMaxCapacity</code> (<code>int</code>) - Optional.   Maximum number of capacity units for the firewall.</p> </li> <li> <p><code>autoscaleMinCapacity</code> (<code>int</code>) - Optional.   Minimum number of capacity units for the firewall.</p> </li> <li> <p><code>availabilityZones</code> (<code>array</code>) - Optional.   Availability Zones for zone-redundant deployment.</p> </li> <li> <p><code>azureSkuTier</code> (<code>string</code>) - Optional.   Tier of Azure Firewall. Allowed values: Basic, Premium, Standard.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the firewall.</p> </li> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.     Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.     Event Hub name for diagnostic logs.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.     Log Analytics destination type. Allowed values: AzureDiagnostics, Dedicated.</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.     Log categories and groups.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Name of a diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Name of a diagnostic log category group.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable/disable category. Default is true.</p> </li> </ul> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.     Array item for firewallDefinition.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.     Marketplace partner resource ID for diagnostic logs.</p> </li> <li> <p><code>metricCategories</code> (<code>array</code>) - Optional.     Metric categories for diagnostics.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Required.   Name of a diagnostic metric category.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable/disable metric category. Default is true.</p> </li> </ul> </li> <li> <p><code>metricCategories[*]</code> (<code>object</code>) - Optional.     Array item for firewallDefinition.diagnosticSettings[*].metricCategories</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Diagnostic setting name.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.     Diagnostic storage account resource ID.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.     Log Analytics workspace resource ID.</p> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.   Array item for firewallDefinition.diagnosticSettings</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Name of a diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Name of a diagnostic log category group.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable/disable category. Default is true.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Required.     Name of a diagnostic metric category.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable/disable metric category. Default is true.</p> </li> <li> <p><code>enableForcedTunneling</code> (<code>bool</code>) - Optional.   Enable or disable forced tunneling.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable usage telemetry. Default is true.</p> </li> <li> <p><code>firewallPolicyId</code> (<code>string</code>) - Optional.   Resource ID of the Firewall Policy to attach.</p> </li> <li> <p><code>hubIPAddresses</code> (<code>object</code>) - Conditional.   IP addresses associated with Azure Firewall. Required if virtualHubId is supplied.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Optional.     Private IP Address associated with Azure Firewall.</p> </li> <li> <p><code>publicIPs</code> (<code>object</code>) - Optional.     Public IPs associated with Azure Firewall.</p> <ul> <li> <p><code>addresses</code> (<code>array</code>) - Optional.   List of public IP addresses or IPs to retain.</p> </li> <li> <p><code>count</code> (<code>int</code>) - Optional.   Public IP address count.</p> </li> </ul> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources. Default is resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings for the firewall.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>managementIPAddressObject</code> (<code>object</code>) - Optional.   Properties of the Management Public IP to create and use.</p> </li> <li> <p><code>managementIPResourceID</code> (<code>string</code>) - Optional.   Management Public IP resource ID for AzureFirewallManagementSubnet.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Azure Firewall.</p> </li> <li> <p><code>natRuleCollections</code> (<code>array</code>) - Optional.   NAT rule collections used by Azure Firewall.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the NAT rule collection.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.     Properties of the NAT rule collection.</p> <ul> <li><code>action</code> (<code>object</code>) - Required.   Action of the NAT rule collection.</li> <li> <p><code>type</code> (<code>string</code>) - Required.     Action type. Allowed values: Dnat, Snat.</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the NAT rule collection (100\u201365000).</p> </li> <li> <p><code>rules</code> (<code>array</code>) - Required.   NAT rules in the collection.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the NAT rule.</p> </li> <li> <p><code>destinationAddresses</code> (<code>array</code>) - Optional.     Destination addresses (IP ranges, prefixes, service tags).</p> </li> <li> <p><code>destinationPorts</code> (<code>array</code>) - Optional.     Destination ports.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the NAT rule.</p> </li> <li> <p><code>protocols</code> (<code>array</code>) - Required.     Protocols for the NAT rule. Allowed values: Any, ICMP, TCP, UDP.</p> </li> <li> <p><code>sourceAddresses</code> (<code>array</code>) - Optional.     Source addresses.</p> </li> <li> <p><code>sourceIpGroups</code> (<code>array</code>) - Optional.     Source IP groups.</p> </li> <li> <p><code>translatedAddress</code> (<code>string</code>) - Optional.     Translated address for the NAT rule.</p> </li> <li> <p><code>translatedFqdn</code> (<code>string</code>) - Optional.     Translated FQDN for the NAT rule.</p> </li> <li> <p><code>translatedPort</code> (<code>string</code>) - Optional.     Translated port for the NAT rule.</p> </li> <li> <p><code>rules[*]</code> (<code>object</code>) - Optional.   Array item for firewallDefinition.natRuleCollections[*].properties.rules</p> </li> </ul> </li> <li> <p><code>natRuleCollections[*]</code> (<code>object</code>) - Optional.   Array item for firewallDefinition.natRuleCollections</p> </li> <li> <p><code>action</code> (<code>object</code>) - Required.     Action of the NAT rule collection.</p> <ul> <li><code>type</code> (<code>string</code>) - Required.   Action type. Allowed values: Dnat, Snat.</li> </ul> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the NAT rule collection (100\u201365000).</p> </li> <li> <p><code>rules</code> (<code>array</code>) - Required.     NAT rules in the collection.</p> <ul> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description of the NAT rule.</p> </li> <li> <p><code>destinationAddresses</code> (<code>array</code>) - Optional.   Destination addresses (IP ranges, prefixes, service tags).</p> </li> <li> <p><code>destinationPorts</code> (<code>array</code>) - Optional.   Destination ports.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the NAT rule.</p> </li> <li> <p><code>protocols</code> (<code>array</code>) - Required.   Protocols for the NAT rule. Allowed values: Any, ICMP, TCP, UDP.</p> </li> <li> <p><code>sourceAddresses</code> (<code>array</code>) - Optional.   Source addresses.</p> </li> <li> <p><code>sourceIpGroups</code> (<code>array</code>) - Optional.   Source IP groups.</p> </li> <li> <p><code>translatedAddress</code> (<code>string</code>) - Optional.   Translated address for the NAT rule.</p> </li> <li> <p><code>translatedFqdn</code> (<code>string</code>) - Optional.   Translated FQDN for the NAT rule.</p> </li> <li> <p><code>translatedPort</code> (<code>string</code>) - Optional.   Translated port for the NAT rule.</p> </li> </ul> </li> <li> <p><code>rules[*]</code> (<code>object</code>) - Optional.     Array item for firewallDefinition.natRuleCollections[*].properties.rules</p> </li> <li> <p><code>type</code> (<code>string</code>) - Required.     Action type. Allowed values: Dnat, Snat.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the NAT rule.</p> </li> <li> <p><code>destinationAddresses</code> (<code>array</code>) - Optional.     Destination addresses (IP ranges, prefixes, service tags).</p> </li> <li> <p><code>destinationPorts</code> (<code>array</code>) - Optional.     Destination ports.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the NAT rule.</p> </li> <li> <p><code>protocols</code> (<code>array</code>) - Required.     Protocols for the NAT rule. Allowed values: Any, ICMP, TCP, UDP.</p> </li> <li> <p><code>sourceAddresses</code> (<code>array</code>) - Optional.     Source addresses.</p> </li> <li> <p><code>sourceIpGroups</code> (<code>array</code>) - Optional.     Source IP groups.</p> </li> <li> <p><code>translatedAddress</code> (<code>string</code>) - Optional.     Translated address for the NAT rule.</p> </li> <li> <p><code>translatedFqdn</code> (<code>string</code>) - Optional.     Translated FQDN for the NAT rule.</p> </li> <li> <p><code>translatedPort</code> (<code>string</code>) - Optional.     Translated port for the NAT rule.</p> </li> <li> <p><code>networkRuleCollections</code> (<code>array</code>) - Optional.   Network rule collections used by Azure Firewall.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the network rule collection.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.     Properties of the network rule collection.</p> <ul> <li><code>action</code> (<code>object</code>) - Required.   Action of the network rule collection.</li> <li> <p><code>type</code> (<code>string</code>) - Required.     Action type. Allowed values: Allow, Deny.</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the network rule collection (100\u201365000).</p> </li> <li> <p><code>rules</code> (<code>array</code>) - Required.   Network rules in the collection.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the network rule.</p> </li> <li> <p><code>destinationAddresses</code> (<code>array</code>) - Optional.     Destination addresses.</p> </li> <li> <p><code>destinationFqdns</code> (<code>array</code>) - Optional.     Destination FQDNs.</p> </li> <li> <p><code>destinationIpGroups</code> (<code>array</code>) - Optional.     Destination IP groups.</p> </li> <li> <p><code>destinationPorts</code> (<code>array</code>) - Optional.     Destination ports.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the network rule.</p> </li> <li> <p><code>protocols</code> (<code>array</code>) - Required.     Protocols for the network rule. Allowed values: Any, ICMP, TCP, UDP.</p> </li> <li> <p><code>sourceAddresses</code> (<code>array</code>) - Optional.     Source addresses.</p> </li> <li> <p><code>sourceIpGroups</code> (<code>array</code>) - Optional.     Source IP groups.</p> </li> <li> <p><code>rules[*]</code> (<code>object</code>) - Optional.   Array item for firewallDefinition.networkRuleCollections[*].properties.rules</p> </li> </ul> </li> <li> <p><code>networkRuleCollections[*]</code> (<code>object</code>) - Optional.   Array item for firewallDefinition.networkRuleCollections</p> </li> <li> <p><code>action</code> (<code>object</code>) - Required.     Action of the network rule collection.</p> <ul> <li><code>type</code> (<code>string</code>) - Required.   Action type. Allowed values: Allow, Deny.</li> </ul> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the network rule collection (100\u201365000).</p> </li> <li> <p><code>rules</code> (<code>array</code>) - Required.     Network rules in the collection.</p> <ul> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description of the network rule.</p> </li> <li> <p><code>destinationAddresses</code> (<code>array</code>) - Optional.   Destination addresses.</p> </li> <li> <p><code>destinationFqdns</code> (<code>array</code>) - Optional.   Destination FQDNs.</p> </li> <li> <p><code>destinationIpGroups</code> (<code>array</code>) - Optional.   Destination IP groups.</p> </li> <li> <p><code>destinationPorts</code> (<code>array</code>) - Optional.   Destination ports.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the network rule.</p> </li> <li> <p><code>protocols</code> (<code>array</code>) - Required.   Protocols for the network rule. Allowed values: Any, ICMP, TCP, UDP.</p> </li> <li> <p><code>sourceAddresses</code> (<code>array</code>) - Optional.   Source addresses.</p> </li> <li> <p><code>sourceIpGroups</code> (<code>array</code>) - Optional.   Source IP groups.</p> </li> </ul> </li> <li> <p><code>rules[*]</code> (<code>object</code>) - Optional.     Array item for firewallDefinition.networkRuleCollections[*].properties.rules</p> </li> <li> <p><code>type</code> (<code>string</code>) - Required.     Action type. Allowed values: Allow, Deny.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the network rule.</p> </li> <li> <p><code>destinationAddresses</code> (<code>array</code>) - Optional.     Destination addresses.</p> </li> <li> <p><code>destinationFqdns</code> (<code>array</code>) - Optional.     Destination FQDNs.</p> </li> <li> <p><code>destinationIpGroups</code> (<code>array</code>) - Optional.     Destination IP groups.</p> </li> <li> <p><code>destinationPorts</code> (<code>array</code>) - Optional.     Destination ports.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the network rule.</p> </li> <li> <p><code>protocols</code> (<code>array</code>) - Required.     Protocols for the network rule. Allowed values: Any, ICMP, TCP, UDP.</p> </li> <li> <p><code>sourceAddresses</code> (<code>array</code>) - Optional.     Source addresses.</p> </li> <li> <p><code>sourceIpGroups</code> (<code>array</code>) - Optional.     Source IP groups.</p> </li> <li> <p><code>publicIPAddressObject</code> (<code>object</code>) - Optional.   Properties of the Public IP to create and use if no existing Public IP is provided.</p> </li> <li> <p><code>publicIPResourceID</code> (<code>string</code>) - Optional.   Public IP resource ID for the AzureFirewallSubnet.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the firewall.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the Azure Firewall resource.</p> </li> <li> <p><code>threatIntelMode</code> (<code>string</code>) - Optional.   Operation mode for Threat Intel. Allowed values: Alert, Deny, Off.</p> </li> <li> <p><code>virtualHubResourceId</code> (<code>string</code>) - Conditional.   The virtualHub resource ID to which the firewall belongs. Required if virtualNetworkId is empty.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Conditional.   Shared services Virtual Network resource ID containing AzureFirewallSubnet. Required if virtualHubId is empty.</p> </li> </ul>"},{"location":"bicep/parametrizing/#firewallpolicydefinition","title":"<code>firewallPolicyDefinition</code>","text":"Parameter Type Required Description <code>firewallPolicyDefinition</code> <code>object</code> Conditional Azure Firewall Policy configuration. Required if deploy.firewall is true and resourceIds.firewallPolicyResourceId is empty. <p>Properties:</p> <ul> <li> <p><code>allowSqlRedirect</code> (<code>bool</code>) - Optional.   A flag to indicate if SQL Redirect traffic filtering is enabled. Requires no rule using ports 11000\u201311999.</p> </li> <li> <p><code>basePolicyResourceId</code> (<code>string</code>) - Optional.   Resource ID of the base policy.</p> </li> <li> <p><code>certificateName</code> (<code>string</code>) - Optional.   Name of the CA certificate.</p> </li> <li> <p><code>defaultWorkspaceResourceId</code> (<code>string</code>) - Optional.   Default Log Analytics Resource ID for Firewall Policy Insights.</p> </li> <li> <p><code>enableProxy</code> (<code>bool</code>) - Optional.   Enable DNS Proxy on Firewalls attached to the Firewall Policy.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable usage telemetry for the module. Default is true.</p> </li> <li> <p><code>fqdns</code> (<code>array</code>) - Optional.   List of FQDNs for the ThreatIntel Allowlist.</p> </li> <li> <p><code>insightsIsEnabled</code> (<code>bool</code>) - Optional.   Flag to indicate if insights are enabled on the policy.</p> </li> <li> <p><code>intrusionDetection</code> (<code>object</code>) - Optional.   Intrusion detection configuration.</p> </li> <li> <p><code>configuration</code> (<code>object</code>) - Optional.     Intrusion detection configuration properties.</p> <ul> <li><code>bypassTrafficSettings</code> (<code>array</code>) - Optional.   List of bypass traffic rules.</li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the bypass traffic rule.</p> </li> <li> <p><code>destinationAddresses</code> (<code>array</code>) - Optional.     Destination IP addresses or ranges.</p> </li> <li> <p><code>destinationIpGroups</code> (<code>array</code>) - Optional.     Destination IP groups.</p> </li> <li> <p><code>destinationPorts</code> (<code>array</code>) - Optional.     Destination ports or ranges.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the bypass traffic rule.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Optional.     Protocol for the rule. Allowed values: ANY, ICMP, TCP, UDP.</p> </li> <li> <p><code>sourceAddresses</code> (<code>array</code>) - Optional.     Source IP addresses or ranges.</p> </li> <li> <p><code>sourceIpGroups</code> (<code>array</code>) - Optional.     Source IP groups.</p> </li> <li> <p><code>bypassTrafficSettings[*]</code> (<code>object</code>) - Optional.   Array item for firewallPolicyDefinition.intrusionDetection.configuration.bypassTrafficSettings</p> </li> <li> <p><code>privateRanges</code> (<code>array</code>) - Optional.   List of private IP ranges to consider as internal.</p> </li> <li> <p><code>signatureOverrides</code> (<code>array</code>) - Optional.   Signature override states.</p> </li> <li> <p><code>id</code> (<code>string</code>) - Required.     Signature ID.</p> </li> <li> <p><code>mode</code> (<code>string</code>) - Required.     Signature state. Allowed values: Alert, Deny, Off.</p> </li> <li> <p><code>signatureOverrides[*]</code> (<code>object</code>) - Optional.   Array item for firewallPolicyDefinition.intrusionDetection.configuration.signatureOverrides</p> </li> </ul> </li> <li> <p><code>mode</code> (<code>string</code>) - Optional.     Intrusion detection mode. Allowed values: Alert, Deny, Off.</p> </li> <li> <p><code>profile</code> (<code>string</code>) - Optional.     IDPS profile name. Allowed values: Advanced, Basic, Extended, Standard.</p> </li> <li> <p><code>ipAddresses</code> (<code>array</code>) - Optional.   List of IP addresses for the ThreatIntel Allowlist.</p> </li> <li> <p><code>keyVaultSecretId</code> (<code>string</code>) - Optional.   Key Vault secret ID (base-64 encoded unencrypted PFX or Certificate object).</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources. Default is resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings for the Firewall Policy.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identity definition for this resource.</p> </li> <li> <p><code>userAssignedResourceIds</code> (<code>array</code>) - Optional.     User-assigned identity resource IDs. Required if using a user-assigned identity for encryption.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Firewall Policy.</p> </li> <li> <p><code>retentionDays</code> (<code>int</code>) - Optional.   Number of days to retain Firewall Policy insights. Default is 365.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments to create for the Firewall Policy.</p> </li> <li> <p><code>ruleCollectionGroups</code> (<code>array</code>) - Optional.   Rule collection groups.</p> </li> <li> <p><code>servers</code> (<code>array</code>) - Optional.   List of custom DNS servers.</p> </li> <li> <p><code>snat</code> (<code>object</code>) - Optional.   SNAT private IP ranges configuration.</p> </li> <li> <p><code>autoLearnPrivateRanges</code> (<code>string</code>) - Required.     Mode for automatically learning private ranges. Allowed values: Disabled, Enabled.</p> </li> <li> <p><code>privateRanges</code> (<code>array</code>) - Optional.     List of private IP ranges not to be SNATed.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the Firewall Policy.</p> </li> <li> <p><code>threatIntelMode</code> (<code>string</code>) - Optional.   Threat Intelligence mode. Allowed values: Alert, Deny, Off.</p> </li> <li> <p><code>tier</code> (<code>string</code>) - Optional.   Tier of the Firewall Policy. Allowed values: Basic, Premium, Standard.</p> </li> <li> <p><code>workspaces</code> (<code>array</code>) - Optional.   List of workspaces for Firewall Policy Insights.</p> </li> </ul>"},{"location":"bicep/parametrizing/#firewallpublicip","title":"<code>firewallPublicIp</code>","text":"Parameter Type Required Description <code>firewallPublicIp</code> <code>object</code> Conditional Conditional Public IP for Azure Firewall. Required when deploy firewall is true and no existing ID is provided. <p>Properties:</p> <ul> <li><code>ddosSettings</code> (<code>object</code>) - Optional.   DDoS protection settings for the Public IP Address.</li> <li> <p><code>ddosProtectionPlan</code> (<code>object</code>) - Optional.     Associated DDoS protection plan.</p> <ul> <li><code>id</code> (<code>string</code>) - Required.   Resource ID of the DDoS protection plan.</li> </ul> </li> <li> <p><code>protectionMode</code> (<code>string</code>) - Required.     DDoS protection mode. Allowed value: Enabled.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the Public IP Address.</p> </li> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic Event Hub authorization rule.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.     Name of the diagnostic Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.     Log Analytics destination type. Allowed values: AzureDiagnostics, Dedicated.</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.     Log categories and groups to collect. Set to [] to disable log collection.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Name of a diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Name of a diagnostic log category group. Use allLogs to collect all logs.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable the log category. Default is true.</p> </li> </ul> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.     Array item for firewallPublicIp.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.     Marketplace partner resource ID.</p> </li> <li> <p><code>metricCategories</code> (<code>array</code>) - Optional.     Metric categories to collect. Set to [] to disable metric collection.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Required.   Name of a diagnostic metric category. Use AllMetrics to collect all metrics.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable the metric category. Default is true.</p> </li> </ul> </li> <li> <p><code>metricCategories[*]</code> (<code>object</code>) - Optional.     Array item for firewallPublicIp.diagnosticSettings[*].metricCategories</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the diagnostic setting.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic storage account.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic Log Analytics workspace.</p> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.   Array item for firewallPublicIp.diagnosticSettings</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Name of a diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Name of a diagnostic log category group. Use allLogs to collect all logs.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable the log category. Default is true.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Required.     Name of a diagnostic metric category. Use AllMetrics to collect all metrics.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable the metric category. Default is true.</p> </li> <li> <p><code>dnsSettings</code> (<code>object</code>) - Optional.   DNS settings for the Public IP Address.</p> </li> <li> <p><code>domainNameLabel</code> (<code>string</code>) - Required.     Domain name label used to create an A DNS record in Azure DNS.</p> </li> <li> <p><code>domainNameLabelScope</code> (<code>string</code>) - Optional.     Domain name label scope. Allowed values: NoReuse, ResourceGroupReuse, SubscriptionReuse, TenantReuse.</p> </li> <li> <p><code>fqdn</code> (<code>string</code>) - Optional.     Fully qualified domain name (FQDN) associated with the Public IP.</p> </li> <li> <p><code>reverseFqdn</code> (<code>string</code>) - Optional.     Reverse FQDN used for PTR records.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable usage telemetry for the module. Default is true.</p> </li> <li> <p><code>idleTimeoutInMinutes</code> (<code>int</code>) - Optional.   Idle timeout in minutes for the Public IP Address. Default is 4.</p> </li> <li> <p><code>ipTags</code> (<code>array</code>) - Optional.   IP tags associated with the Public IP Address.</p> </li> <li> <p><code>ipTagType</code> (<code>string</code>) - Required.     IP tag type.</p> </li> <li> <p><code>tag</code> (<code>string</code>) - Required.     IP tag value.</p> </li> <li> <p><code>ipTags[*]</code> (<code>object</code>) - Optional.   Array item for firewallPublicIp.ipTags</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Default is resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Public IP Address.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Public IP Address.</p> </li> <li> <p><code>publicIPAddressVersion</code> (<code>string</code>) - Optional.   IP address version. Default is IPv4. Allowed values: IPv4, IPv6.</p> </li> <li> <p><code>publicIPAllocationMethod</code> (<code>string</code>) - Optional.   Public IP allocation method. Default is Static. Allowed values: Dynamic, Static.</p> </li> <li> <p><code>publicIpPrefixResourceId</code> (<code>string</code>) - Optional.   Resource ID of the Public IP Prefix to allocate from.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments to apply to the Public IP Address.</p> </li> <li> <p><code>condition</code> (<code>string</code>) - Optional.     Condition for the role assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.     Condition version. Allowed value: 2.0.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.     Delegated managed identity resource ID.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Role assignment name (GUID). If omitted, a GUID is generated.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID of the identity being assigned.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type of the assigned identity. Allowed values: Device, ForeignGroup, Group, ServicePrincipal, User.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role to assign (display name, GUID, or full resource ID).</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for firewallPublicIp.roleAssignments</p> </li> <li> <p><code>skuName</code> (<code>string</code>) - Optional.   SKU name for the Public IP Address. Default is Standard. Allowed values: Basic, Standard.</p> </li> <li> <p><code>skuTier</code> (<code>string</code>) - Optional.   SKU tier for the Public IP Address. Default is Regional. Allowed values: Global, Regional.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the Public IP Address resource.</p> </li> <li> <p><code>zones</code> (<code>array</code>) - Optional.   Availability zones for the Public IP Address allocation. Allowed values: 1, 2, 3.</p> </li> </ul>"},{"location":"bicep/parametrizing/#groundingwithbingdefinition","title":"<code>groundingWithBingDefinition</code>","text":"Parameter Type Required Description <code>groundingWithBingDefinition</code> <code>object</code> Conditional Grounding with Bing configuration. Required if deploy.groundingWithBingSearch is true and resourceIds.groundingServiceResourceId is empty. <p>Properties:</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Optional.   Bing Grounding resource name.</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Required.   Bing Grounding resource SKU.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Required.   Tags to apply to the Bing Grounding resource.</p> </li> </ul>"},{"location":"bicep/parametrizing/#jumpvmdefinition","title":"<code>jumpVmDefinition</code>","text":"Parameter Type Required Description <code>jumpVmDefinition</code> <code>object</code> Conditional Jump (bastion) VM configuration (Windows). Required if deploy.jumpVm is true. <p>Properties:</p> <ul> <li> <p><code>adminPassword</code> (<code>securestring</code>) - Optional.   Admin password for the VM.</p> </li> <li> <p><code>adminUsername</code> (<code>string</code>) - Optional.   Admin username to create (e.g., azureuser).</p> </li> <li> <p><code>availabilityZone</code> (<code>int</code>) - Optional.   Availability zone.</p> </li> <li> <p><code>azdo</code> (<code>object</code>) - Optional.   Azure DevOps settings (required when runner = azdo, Build VM only).</p> </li> <li> <p><code>agentName</code> (<code>string</code>) - Optional.     Agent name.</p> </li> <li> <p><code>orgUrl</code> (<code>string</code>) - Required.     Azure DevOps organization URL (e.g., https://dev.azure.com/contoso).</p> </li> <li> <p><code>pool</code> (<code>string</code>) - Required.     Agent pool name.</p> </li> <li> <p><code>workFolder</code> (<code>string</code>) - Optional.     Working folder.</p> </li> <li> <p><code>disablePasswordAuthentication</code> (<code>bool</code>) - Optional.   Disable password authentication (Build VM only).</p> </li> <li> <p><code>enableAutomaticUpdates</code> (<code>bool</code>) - Optional.   Enable automatic updates (Jump VM only).</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable telemetry via a Globally Unique Identifier (GUID).</p> </li> <li> <p><code>github</code> (<code>object</code>) - Optional.   GitHub settings (required when runner = github, Build VM only).</p> </li> <li> <p><code>agentName</code> (<code>string</code>) - Optional.     Runner name.</p> </li> <li> <p><code>labels</code> (<code>string</code>) - Optional.     Runner labels (comma-separated).</p> </li> <li> <p><code>owner</code> (<code>string</code>) - Required.     GitHub owner (org or user).</p> </li> <li> <p><code>repo</code> (<code>string</code>) - Required.     Repository name.</p> </li> <li> <p><code>workFolder</code> (<code>string</code>) - Optional.     Working folder.</p> </li> <li> <p><code>imageReference</code> (<code>object</code>) - Optional.   Marketplace image reference for the VM.</p> </li> <li> <p><code>communityGalleryImageId</code> (<code>string</code>) - Optional.     Community gallery image ID.</p> </li> <li> <p><code>id</code> (<code>string</code>) - Optional.     Resource ID.</p> </li> <li> <p><code>offer</code> (<code>string</code>) - Optional.     Offer name.</p> </li> <li> <p><code>publisher</code> (<code>string</code>) - Optional.     Publisher name.</p> </li> <li> <p><code>sharedGalleryImageId</code> (<code>string</code>) - Optional.     Shared gallery image ID.</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Optional.     SKU name.</p> </li> <li> <p><code>version</code> (<code>string</code>) - Optional.     Image version (e.g., latest).</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration.</p> </li> <li> <p><code>maintenanceConfigurationResourceId</code> (<code>string</code>) - Optional.   Resource ID of the maintenance configuration (Jump VM only).</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identities.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   VM name.</p> </li> <li> <p><code>nicConfigurations</code> (<code>array</code>) - Optional.   Network interface configurations.</p> </li> <li> <p><code>osDisk</code> (<code>object</code>) - Optional.   OS disk configuration.</p> </li> <li> <p><code>osType</code> (<code>string</code>) - Optional.   OS type for the VM.</p> </li> <li> <p><code>patchMode</code> (<code>string</code>) - Optional.   Patch mode for the VM (Jump VM only).</p> </li> <li> <p><code>publicKeys</code> (<code>array</code>) - Optional.   SSH public keys (Build VM only).</p> </li> <li> <p><code>requireGuestProvisionSignal</code> (<code>bool</code>) - Optional.   Force password reset on first login.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments.</p> </li> <li> <p><code>runner</code> (<code>string</code>) - Optional.   Which agent to install (Build VM only).</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Optional.   VM size SKU (e.g., Standard_B2s, Standard_D2s_v5).</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the VM resource.</p> </li> </ul>"},{"location":"bicep/parametrizing/#loganalyticsdefinition","title":"<code>logAnalyticsDefinition</code>","text":"Parameter Type Required Description <code>logAnalyticsDefinition</code> <code>object</code> Conditional Log Analytics Workspace configuration. Required if deploy.logAnalytics is true and resourceIds.logAnalyticsWorkspaceResourceId is empty. <p>Properties:</p> <ul> <li> <p><code>dailyQuotaGb</code> (<code>int</code>) - Optional.   Daily ingestion quota in GB. Default is -1.</p> </li> <li> <p><code>dataExports</code> (<code>array</code>) - Optional.   Data export instances for the workspace.</p> </li> <li> <p><code>destination</code> (<code>object</code>) - Optional.     Destination configuration for the export.</p> <ul> <li><code>metaData</code> (<code>object</code>) - Optional.   Destination metadata.</li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.     Event Hub name (not applicable when destination is Storage Account).</p> </li> <li> <p><code>resourceId</code> (<code>string</code>) - Required.   Destination resource ID.</p> </li> </ul> </li> <li> <p><code>enable</code> (<code>bool</code>) - Optional.     Enable or disable the data export.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the data export.</p> </li> <li> <p><code>tableNames</code> (<code>array</code>) - Required.     Table names to export.</p> </li> <li> <p><code>dataExports[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.dataExports</p> </li> <li> <p><code>metaData</code> (<code>object</code>) - Optional.     Destination metadata.</p> <ul> <li><code>eventHubName</code> (<code>string</code>) - Optional.   Event Hub name (not applicable when destination is Storage Account).</li> </ul> </li> <li> <p><code>resourceId</code> (<code>string</code>) - Required.     Destination resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.     Event Hub name (not applicable when destination is Storage Account).</p> </li> <li> <p><code>dataRetention</code> (<code>int</code>) - Optional.   Number of days data will be retained. Default 365 (0\u2013730).</p> </li> <li> <p><code>dataSources</code> (<code>array</code>) - Optional.   Data sources for the workspace.</p> </li> <li> <p><code>counterName</code> (<code>string</code>) - Optional.     Counter name for WindowsPerformanceCounter.</p> </li> <li> <p><code>eventLogName</code> (<code>string</code>) - Optional.     Event log name for WindowsEvent.</p> </li> <li> <p><code>eventTypes</code> (<code>array</code>) - Optional.     Event types for WindowsEvent.</p> </li> <li> <p><code>instanceName</code> (<code>string</code>) - Optional.     Instance name for WindowsPerformanceCounter or LinuxPerformanceObject.</p> </li> <li> <p><code>intervalSeconds</code> (<code>int</code>) - Optional.     Interval in seconds for collection.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Required.     Kind of data source.</p> </li> <li> <p><code>linkedResourceId</code> (<code>string</code>) - Optional.     Resource ID linked to the workspace.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the data source.</p> </li> <li> <p><code>objectName</code> (<code>string</code>) - Optional.     Object name for WindowsPerformanceCounter or LinuxPerformanceObject.</p> </li> <li> <p><code>performanceCounters</code> (<code>array</code>) - Optional.     Performance counters for LinuxPerformanceObject.</p> </li> <li> <p><code>state</code> (<code>string</code>) - Optional.     State (for IISLogs, LinuxSyslogCollection, or LinuxPerformanceCollection).</p> </li> <li> <p><code>syslogName</code> (<code>string</code>) - Optional.     System log name for LinuxSyslog.</p> </li> <li> <p><code>syslogSeverities</code> (<code>array</code>) - Optional.     Severities for LinuxSyslog.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the data source.</p> </li> <li> <p><code>dataSources[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.dataSources</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the workspace.</p> </li> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.     Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.     Diagnostic Event Hub name.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.     Destination type for Log Analytics. Allowed: AzureDiagnostics, Dedicated.</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.     Log categories and groups to stream.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Log category name.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Log category group name.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable the category. Default true.</p> </li> </ul> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.     Array item for logAnalyticsDefinition.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.     Marketplace partner resource ID.</p> </li> <li> <p><code>metricCategories</code> (<code>array</code>) - Optional.     Metric categories to stream.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Required.   Diagnostic metric category name.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable the metric category. Default true.</p> </li> </ul> </li> <li> <p><code>metricCategories[*]</code> (<code>object</code>) - Optional.     Array item for logAnalyticsDefinition.diagnosticSettings[*].metricCategories</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Diagnostic setting name.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.     Storage account resource ID for diagnostic logs.</p> </li> <li> <p><code>useThisWorkspace</code> (<code>bool</code>) - Optional.     Use this workspace as diagnostic target (ignores workspaceResourceId).</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.     Log Analytics workspace resource ID for diagnostics.</p> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.diagnosticSettings</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Log category name.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Log category group name.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable the category. Default true.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Required.     Diagnostic metric category name.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable the metric category. Default true.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable telemetry. Default true.</p> </li> <li> <p><code>features</code> (<code>object</code>) - Optional.   Features for the workspace.</p> </li> <li> <p><code>disableLocalAuth</code> (<code>bool</code>) - Optional.     Disable non-EntraID auth. Default true.</p> </li> <li> <p><code>enableDataExport</code> (<code>bool</code>) - Optional.     Enable data export.</p> </li> <li> <p><code>enableLogAccessUsingOnlyResourcePermissions</code> (<code>bool</code>) - Optional.     Enable log access using only resource permissions. Default false.</p> </li> <li> <p><code>immediatePurgeDataOn30Days</code> (<code>bool</code>) - Optional.     Remove data after 30 days.</p> </li> <li> <p><code>forceCmkForQuery</code> (<code>bool</code>) - Optional.   Enforce customer-managed storage for queries.</p> </li> <li> <p><code>gallerySolutions</code> (<code>array</code>) - Optional.   Gallery solutions for the workspace.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Solution name. Must follow Microsoft or 3rd party naming convention.</p> </li> <li> <p><code>plan</code> (<code>object</code>) - Required.     Plan for the gallery solution.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Optional.   Solution name (defaults to gallerySolutions.name).</p> </li> <li> <p><code>product</code> (<code>string</code>) - Required.   Product name (e.g., OMSGallery/AntiMalware).</p> </li> <li> <p><code>publisher</code> (<code>string</code>) - Optional.   Publisher name (default: Microsoft for Microsoft solutions).</p> </li> </ul> </li> <li> <p><code>gallerySolutions[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.gallerySolutions</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Solution name (defaults to gallerySolutions.name).</p> </li> <li> <p><code>product</code> (<code>string</code>) - Required.     Product name (e.g., OMSGallery/AntiMalware).</p> </li> <li> <p><code>publisher</code> (<code>string</code>) - Optional.     Publisher name (default: Microsoft for Microsoft solutions).</p> </li> <li> <p><code>linkedServices</code> (<code>array</code>) - Optional.   Linked services for the workspace.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the linked service.</p> </li> <li> <p><code>resourceId</code> (<code>string</code>) - Optional.     Resource ID of the linked service (read access).</p> </li> <li> <p><code>writeAccessResourceId</code> (<code>string</code>) - Optional.     Resource ID for write access.</p> </li> <li> <p><code>linkedServices[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.linkedServices</p> </li> <li> <p><code>linkedStorageAccounts</code> (<code>array</code>) - Conditional.   List of Storage Accounts to be linked. Required if forceCmkForQuery is true and savedSearches is not empty.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the storage link.</p> </li> <li> <p><code>storageAccountIds</code> (<code>array</code>) - Required.     Linked storage accounts resource IDs.</p> </li> <li> <p><code>linkedStorageAccounts[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.linkedStorageAccounts</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location of the workspace. Default: resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identity definition (system-assigned or user-assigned).</p> </li> <li> <p><code>systemAssigned</code> (<code>bool</code>) - Optional.     Enable system-assigned identity.</p> </li> <li> <p><code>userAssignedResourceIds</code> (<code>array</code>) - Optional.     User-assigned identity resource IDs.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Log Analytics workspace.</p> </li> <li> <p><code>onboardWorkspaceToSentinel</code> (<code>bool</code>) - Optional.   Onboard workspace to Sentinel. Requires SecurityInsights solution.</p> </li> <li> <p><code>publicNetworkAccessForIngestion</code> (<code>string</code>) - Optional.   Network access for ingestion. Allowed: Disabled, Enabled.</p> </li> <li> <p><code>publicNetworkAccessForQuery</code> (<code>string</code>) - Optional.   Network access for query. Allowed: Disabled, Enabled.</p> </li> <li> <p><code>replication</code> (<code>object</code>) - Optional.   Replication settings.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable replication.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Conditional.     Replication location. Required if replication is enabled.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the workspace.</p> </li> <li> <p><code>condition</code> (<code>string</code>) - Optional.     Condition for the role assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.     Condition version. Allowed: 2.0.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.     Delegated managed identity resource ID.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Role assignment description.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Role assignment GUID name.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type. Allowed: Device, ForeignGroup, Group, ServicePrincipal, User.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID, name, or GUID.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.roleAssignments</p> </li> <li> <p><code>savedSearches</code> (<code>array</code>) - Optional.   Saved KQL searches.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Required.     Saved search category.</p> </li> <li> <p><code>displayName</code> (<code>string</code>) - Required.     Display name for the saved search.</p> </li> <li> <p><code>etag</code> (<code>string</code>) - Optional.     ETag for concurrency control.</p> </li> <li> <p><code>functionAlias</code> (<code>string</code>) - Optional.     Function alias if used as a function.</p> </li> <li> <p><code>functionParameters</code> (<code>string</code>) - Optional.     Function parameters if query is used as a function.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the saved search.</p> </li> <li> <p><code>query</code> (<code>string</code>) - Required.     Query expression.</p> </li> <li> <p><code>tags</code> (<code>array</code>) - Optional.     Tags for the saved search.</p> </li> <li> <p><code>version</code> (<code>int</code>) - Optional.     Version of the query language. Default is 2.</p> </li> <li> <p><code>savedSearches[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.savedSearches</p> </li> <li> <p><code>skuCapacityReservationLevel</code> (<code>int</code>) - Optional.   Capacity reservation level in GB (100\u20135000 in increments of 100).</p> </li> <li> <p><code>skuName</code> (<code>string</code>) - Optional.   SKU name. Allowed: CapacityReservation, Free, LACluster, PerGB2018, PerNode, Premium, Standalone, Standard.</p> </li> <li> <p><code>storageInsightsConfigs</code> (<code>array</code>) - Optional.   Storage insights configs for linked storage accounts.</p> </li> <li> <p><code>containers</code> (<code>array</code>) - Optional.     Blob container names to read.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Required.     Storage account resource ID.</p> </li> <li> <p><code>tables</code> (<code>array</code>) - Optional.     Tables to read.</p> </li> <li> <p><code>storageInsightsConfigs[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.storageInsightsConfigs</p> </li> <li> <p><code>tables</code> (<code>array</code>) - Optional.   Custom LAW tables to be deployed.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Table name.</p> </li> <li> <p><code>plan</code> (<code>string</code>) - Optional.     Table plan.</p> </li> <li> <p><code>restoredLogs</code> (<code>object</code>) - Optional.     Restored logs configuration.</p> <ul> <li> <p><code>endRestoreTime</code> (<code>string</code>) - Optional.   End restore time (UTC).</p> </li> <li> <p><code>sourceTable</code> (<code>string</code>) - Optional.   Source table for restored logs.</p> </li> <li> <p><code>startRestoreTime</code> (<code>string</code>) - Optional.   Start restore time (UTC).</p> </li> </ul> </li> <li> <p><code>retentionInDays</code> (<code>int</code>) - Optional.     Table retention in days.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments for the table.</p> </li> <li> <p><code>schema</code> (<code>object</code>) - Optional.     Table schema.</p> <ul> <li><code>columns</code> (<code>array</code>) - Required.   List of table columns.</li> <li> <p><code>dataTypeHint</code> (<code>string</code>) - Optional.     Logical data type hint. Allowed: armPath, guid, ip, uri.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Column description.</p> </li> <li> <p><code>displayName</code> (<code>string</code>) - Optional.     Column display name.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Column name.</p> </li> <li> <p><code>type</code> (<code>string</code>) - Required.     Column type. Allowed: boolean, dateTime, dynamic, guid, int, long, real, string.</p> </li> <li> <p><code>columns[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.tables[*].schema.columns</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Table description.</p> </li> <li> <p><code>displayName</code> (<code>string</code>) - Optional.   Table display name.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Table name.</p> </li> </ul> </li> <li> <p><code>searchResults</code> (<code>object</code>) - Optional.     Search results for the table.</p> <ul> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description of the search job.</p> </li> <li> <p><code>endSearchTime</code> (<code>string</code>) - Optional.   End time for the search (UTC).</p> </li> <li> <p><code>limit</code> (<code>int</code>) - Optional.   Row limit for the search job.</p> </li> <li> <p><code>query</code> (<code>string</code>) - Required.   Query for the search job.</p> </li> <li> <p><code>startSearchTime</code> (<code>string</code>) - Optional.   Start time for the search (UTC).</p> </li> </ul> </li> <li> <p><code>totalRetentionInDays</code> (<code>int</code>) - Optional.     Total retention in days for the table.</p> </li> <li> <p><code>tables[*]</code> (<code>object</code>) - Optional.   Array item for logAnalyticsDefinition.tables</p> </li> <li> <p><code>endRestoreTime</code> (<code>string</code>) - Optional.     End restore time (UTC).</p> </li> <li> <p><code>sourceTable</code> (<code>string</code>) - Optional.     Source table for restored logs.</p> </li> <li> <p><code>startRestoreTime</code> (<code>string</code>) - Optional.     Start restore time (UTC).</p> </li> <li> <p><code>columns</code> (<code>array</code>) - Required.     List of table columns.</p> <ul> <li> <p><code>dataTypeHint</code> (<code>string</code>) - Optional.   Logical data type hint. Allowed: armPath, guid, ip, uri.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Column description.</p> </li> <li> <p><code>displayName</code> (<code>string</code>) - Optional.   Column display name.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Column name.</p> </li> <li> <p><code>type</code> (<code>string</code>) - Required.   Column type. Allowed: boolean, dateTime, dynamic, guid, int, long, real, string.</p> </li> </ul> </li> <li> <p><code>columns[*]</code> (<code>object</code>) - Optional.     Array item for logAnalyticsDefinition.tables[*].schema.columns</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Table description.</p> </li> <li> <p><code>displayName</code> (<code>string</code>) - Optional.     Table display name.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Table name.</p> </li> <li> <p><code>dataTypeHint</code> (<code>string</code>) - Optional.     Logical data type hint. Allowed: armPath, guid, ip, uri.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Column description.</p> </li> <li> <p><code>displayName</code> (<code>string</code>) - Optional.     Column display name.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Column name.</p> </li> <li> <p><code>type</code> (<code>string</code>) - Required.     Column type. Allowed: boolean, dateTime, dynamic, guid, int, long, real, string.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the search job.</p> </li> <li> <p><code>endSearchTime</code> (<code>string</code>) - Optional.     End time for the search (UTC).</p> </li> <li> <p><code>limit</code> (<code>int</code>) - Optional.     Row limit for the search job.</p> </li> <li> <p><code>query</code> (<code>string</code>) - Required.     Query for the search job.</p> </li> <li> <p><code>startSearchTime</code> (<code>string</code>) - Optional.     Start time for the search (UTC).</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the workspace.</p> </li> </ul>"},{"location":"bicep/parametrizing/#storageaccountdefinition","title":"<code>storageAccountDefinition</code>","text":"Parameter Type Required Description <code>storageAccountDefinition</code> <code>object</code> Conditional Storage Account configuration. Required if deploy.storageAccount is true and resourceIds.storageAccountResourceId is empty. <p>Properties:</p> <ul> <li> <p><code>accessTier</code> (<code>string</code>) - Conditional.   The access tier for billing. Required if kind is set to BlobStorage. Allowed values: Cold, Cool, Hot, Premium.</p> </li> <li> <p><code>allowBlobPublicAccess</code> (<code>bool</code>) - Optional.   Indicates whether public access is enabled for all blobs or containers. Recommended to be set to false.</p> </li> <li> <p><code>allowCrossTenantReplication</code> (<code>bool</code>) - Optional.   Allow or disallow cross AAD tenant object replication.</p> </li> <li> <p><code>allowedCopyScope</code> (<code>string</code>) - Optional.   Restrict copy scope. Allowed values: AAD, PrivateLink.</p> </li> <li> <p><code>allowSharedKeyAccess</code> (<code>bool</code>) - Optional.   Indicates whether Shared Key authorization is allowed. Default is true.</p> </li> <li> <p><code>azureFilesIdentityBasedAuthentication</code> (<code>object</code>) - Optional.   Provides the identity-based authentication settings for Azure Files.</p> </li> <li> <p><code>blobServices</code> (<code>object</code>) - Optional.   Blob service and containers configuration.</p> </li> <li> <p><code>customDomainName</code> (<code>string</code>) - Optional.   Sets the custom domain name (CNAME source) for the storage account.</p> </li> <li> <p><code>customDomainUseSubDomainName</code> (<code>bool</code>) - Optional.   Indicates whether indirect CName validation is enabled (updates only).</p> </li> <li> <p><code>customerManagedKey</code> (<code>object</code>) - Optional.   Customer managed key definition.</p> </li> <li> <p><code>autoRotationEnabled</code> (<code>bool</code>) - Optional.     Enable or disable key auto-rotation. Default is true.</p> </li> <li> <p><code>keyName</code> (<code>string</code>) - Required.     The name of the customer managed key.</p> </li> <li> <p><code>keyVaultResourceId</code> (<code>string</code>) - Required.     The Key Vault resource ID where the key is stored.</p> </li> <li> <p><code>keyVersion</code> (<code>string</code>) - Optional.     The version of the customer managed key to reference.</p> </li> <li> <p><code>userAssignedIdentityResourceId</code> (<code>string</code>) - Optional.     User-assigned identity resource ID to fetch the key (if no system-assigned identity is available).</p> </li> <li> <p><code>defaultToOAuthAuthentication</code> (<code>bool</code>) - Optional.   When true, OAuth is the default authentication method.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the service.</p> </li> <li> <p><code>dnsEndpointType</code> (<code>string</code>) - Optional.   Endpoint type. Allowed values: AzureDnsZone, Standard.</p> </li> <li> <p><code>enableHierarchicalNamespace</code> (<code>bool</code>) - Conditional.   Enables Hierarchical Namespace for the storage account. Required if enableSftp or enableNfsV3 is true.</p> </li> <li> <p><code>enableNfsV3</code> (<code>bool</code>) - Optional.   Enables NFS 3.0 support. Requires hierarchical namespace enabled.</p> </li> <li> <p><code>enableSftp</code> (<code>bool</code>) - Optional.   Enables Secure File Transfer Protocol (SFTP). Requires hierarchical namespace enabled.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/disable telemetry for the module.</p> </li> <li> <p><code>fileServices</code> (<code>object</code>) - Optional.   File service and share configuration.</p> </li> <li> <p><code>isLocalUserEnabled</code> (<code>bool</code>) - Optional.   Enables local users feature for SFTP authentication.</p> </li> <li> <p><code>keyType</code> (<code>string</code>) - Optional.   Key type for Queue &amp; Table services. Allowed values: Account, Service.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Storage account type. Allowed values: BlobStorage, BlockBlobStorage, FileStorage, Storage, StorageV2.</p> </li> <li> <p><code>largeFileSharesState</code> (<code>string</code>) - Optional.   Large file shares state. Allowed values: Disabled, Enabled.</p> </li> <li> <p><code>localUsers</code> (<code>array</code>) - Optional.   Local users for SFTP authentication.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Resource location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings for the resource.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identity configuration.</p> </li> <li> <p><code>systemAssigned</code> (<code>bool</code>) - Optional.     Enables system-assigned identity.</p> </li> <li> <p><code>userAssignedResourceIds</code> (<code>array</code>) - Optional.     List of user-assigned identity resource IDs.</p> </li> <li> <p><code>managementPolicyRules</code> (<code>array</code>) - Optional.   Storage account management policy rules.</p> </li> <li> <p><code>minimumTlsVersion</code> (<code>string</code>) - Optional.   Minimum TLS version for requests. Allowed value: TLS1_2.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Storage Account. Must be lower-case.</p> </li> <li> <p><code>networkAcls</code> (<code>object</code>) - Optional.   Network ACL rules and settings.</p> </li> <li> <p><code>privateEndpoints</code> (<code>array</code>) - Optional.   Private endpoint configurations.</p> </li> <li> <p><code>publicNetworkAccess</code> (<code>string</code>) - Optional.   Whether public network access is allowed. Allowed values: Disabled, Enabled.</p> </li> <li> <p><code>queueServices</code> (<code>object</code>) - Optional.   Queue service configuration.</p> </li> <li> <p><code>requireInfrastructureEncryption</code> (<code>bool</code>) - Optional.   Indicates whether infrastructure encryption with PMK is applied.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the storage account.</p> </li> <li> <p><code>sasExpirationAction</code> (<code>string</code>) - Optional.   SAS expiration action. Allowed values: Block, Log.</p> </li> <li> <p><code>sasExpirationPeriod</code> (<code>string</code>) - Optional.   SAS expiration period in DD.HH:MM:SS format.</p> </li> <li> <p><code>secretsExportConfiguration</code> (<code>object</code>) - Optional.   Configuration for exporting secrets to Key Vault.</p> </li> <li> <p><code>skuName</code> (<code>string</code>) - Optional.   SKU name for the storage account. Allowed values: Premium_LRS, Premium_ZRS, PremiumV2_LRS, PremiumV2_ZRS, Standard_GRS, Standard_GZRS, Standard_LRS, Standard_RAGRS, Standard_RAGZRS, Standard_ZRS, StandardV2_GRS, StandardV2_GZRS, StandardV2_LRS, StandardV2_ZRS.</p> </li> <li> <p><code>supportsHttpsTrafficOnly</code> (<code>bool</code>) - Optional.   When true, allows only HTTPS traffic to the storage service.</p> </li> <li> <p><code>tableServices</code> (<code>object</code>) - Optional.   Table service and tables configuration.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the resource.</p> </li> </ul>"},{"location":"bicep/parametrizing/#vnetdefinition","title":"<code>vNetDefinition</code>","text":"Parameter Type Required Description <code>vNetDefinition</code> <code>object</code> Conditional Virtual Network configuration. Required if deploy.virtualNetwork is true and resourceIds.virtualNetworkResourceId is empty. <p>Properties:</p> <ul> <li> <p><code>addressPrefixes</code> (<code>array</code>) - Required.   An array of one or more IP address prefixes OR the resource ID of the IPAM pool to be used for the Virtual Network. Required if using IPAM pool resource ID, you must also set ipamPoolNumberOfIpAddresses.</p> </li> <li> <p><code>ddosProtectionPlanResourceId</code> (<code>string</code>) - Optional.   Resource ID of the DDoS protection plan to assign the VNet to. If blank, DDoS protection is not configured.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   The diagnostic settings of the Virtual Network.</p> </li> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic event hub authorization rule for the Event Hubs namespace.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.     Name of the diagnostic event hub within the namespace to which logs are streamed.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.     Destination type for export to Log Analytics. Allowed values: AzureDiagnostics, Dedicated.</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.     Logs to be streamed. Set to [] to disable log collection.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Name of a diagnostic log category for the resource type.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Name of a diagnostic log category group for the resource type.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable the category explicitly. Default is true.</p> </li> </ul> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.     Array item for vNetDefinition.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.     Marketplace resource ID to which diagnostic logs should be sent.</p> </li> <li> <p><code>metricCategories</code> (<code>array</code>) - Optional.     Metrics to be streamed. Set to [] to disable metric collection.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Required.   Name of a diagnostic metric category for the resource type.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable the metric category explicitly. Default is true.</p> </li> </ul> </li> <li> <p><code>metricCategories[*]</code> (<code>object</code>) - Optional.     Array item for vNetDefinition.diagnosticSettings[*].metricCategories</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the diagnostic setting.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic storage account.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic Log Analytics workspace.</p> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.   Array item for vNetDefinition.diagnosticSettings</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Name of a diagnostic log category for the resource type.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Name of a diagnostic log category group for the resource type.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable the category explicitly. Default is true.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Required.     Name of a diagnostic metric category for the resource type.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable the metric category explicitly. Default is true.</p> </li> <li> <p><code>dnsServers</code> (<code>array</code>) - Optional.   DNS servers associated with the Virtual Network.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable usage telemetry for the module. Default is true.</p> </li> <li> <p><code>enableVmProtection</code> (<code>bool</code>) - Optional.   Indicates if VM protection is enabled for all subnets in the Virtual Network.</p> </li> <li> <p><code>flowTimeoutInMinutes</code> (<code>int</code>) - Optional.   Flow timeout in minutes for intra-VM flows (range 4\u201330). Default 0 sets the property to null.</p> </li> <li> <p><code>ipamPoolNumberOfIpAddresses</code> (<code>string</code>) - Optional.   Number of IP addresses allocated from the IPAM pool. Required if addressPrefixes is defined with a resource ID of an IPAM pool.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources. Default is resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings for the Virtual Network.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Type of lock. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Notes for the lock.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Virtual Network (vNet).</p> </li> <li> <p><code>peerings</code> (<code>array</code>) - Optional.   Virtual Network peering configurations.</p> </li> <li> <p><code>allowForwardedTraffic</code> (<code>bool</code>) - Optional.     Allow forwarded traffic from VMs in local VNet. Default is true.</p> </li> <li> <p><code>allowGatewayTransit</code> (<code>bool</code>) - Optional.     Allow gateway transit from remote VNet. Default is false.</p> </li> <li> <p><code>allowVirtualNetworkAccess</code> (<code>bool</code>) - Optional.     Allow VMs in local VNet to access VMs in remote VNet. Default is true.</p> </li> <li> <p><code>doNotVerifyRemoteGateways</code> (<code>bool</code>) - Optional.     Do not verify remote gateway provisioning state. Default is true.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the VNet peering resource. Default: peer-localVnetName-remoteVnetName.</p> </li> <li> <p><code>remotePeeringAllowForwardedTraffic</code> (<code>bool</code>) - Optional.     Allow forwarded traffic from remote peering. Default is true.</p> </li> <li> <p><code>remotePeeringAllowGatewayTransit</code> (<code>bool</code>) - Optional.     Allow gateway transit from remote peering. Default is false.</p> </li> <li> <p><code>remotePeeringAllowVirtualNetworkAccess</code> (<code>bool</code>) - Optional.     Allow virtual network access from remote peering. Default is true.</p> </li> <li> <p><code>remotePeeringDoNotVerifyRemoteGateways</code> (<code>bool</code>) - Optional.     Do not verify provisioning state of remote peering gateway. Default is true.</p> </li> <li> <p><code>remotePeeringEnabled</code> (<code>bool</code>) - Optional.     Deploy outbound and inbound peering.</p> </li> <li> <p><code>remotePeeringName</code> (<code>string</code>) - Optional.     Name of the remote peering resource. Default: peer-remoteVnetName-localVnetName.</p> </li> <li> <p><code>remotePeeringUseRemoteGateways</code> (<code>bool</code>) - Optional.     Use remote gateways for transit if allowed. Default is false.</p> </li> <li> <p><code>remoteVirtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the remote Virtual Network to peer with.</p> </li> <li> <p><code>useRemoteGateways</code> (<code>bool</code>) - Optional.     Use remote gateways on this Virtual Network for transit. Default is false.</p> </li> <li> <p><code>peerings[*]</code> (<code>object</code>) - Optional.   Array item for vNetDefinition.peerings</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments to create on the Virtual Network.</p> </li> <li> <p><code>condition</code> (<code>string</code>) - Optional.     Condition applied to the role assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.     Condition version. Allowed value: 2.0.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.     Resource ID of delegated managed identity.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the role assignment. If not provided, a GUID will be generated.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID of the user/group/identity to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type. Allowed values: Device, ForeignGroup, Group, ServicePrincipal, User.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role to assign. Accepts role name, role GUID, or fully qualified role definition ID.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for vNetDefinition.roleAssignments</p> </li> <li> <p><code>subnets</code> (<code>array</code>) - Optional.   Array of subnets to deploy in the Virtual Network.</p> </li> <li> <p><code>addressPrefix</code> (<code>string</code>) - Conditional.     Address prefix for the subnet. Required if addressPrefixes is empty.</p> </li> <li> <p><code>addressPrefixes</code> (<code>array</code>) - Conditional.     List of address prefixes for the subnet. Required if addressPrefix is empty.</p> </li> <li> <p><code>applicationGatewayIPConfigurations</code> (<code>array</code>) - Optional.     Application Gateway IP configurations for the subnet.</p> </li> <li> <p><code>defaultOutboundAccess</code> (<code>bool</code>) - Optional.     Disable default outbound connectivity for all VMs in subnet. Only allowed at creation time.</p> </li> <li> <p><code>delegation</code> (<code>string</code>) - Optional.     Delegation to enable on the subnet.</p> </li> <li> <p><code>ipamPoolPrefixAllocations</code> (<code>array</code>) - Conditional.     Address space for subnet from IPAM Pool. Required if both addressPrefix and addressPrefixes are empty and VNet uses IPAM Pool.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the subnet.</p> </li> <li> <p><code>natGatewayResourceId</code> (<code>string</code>) - Optional.     NAT Gateway resource ID for the subnet.</p> </li> <li> <p><code>networkSecurityGroupResourceId</code> (<code>string</code>) - Optional.     NSG resource ID for the subnet.</p> </li> <li> <p><code>privateEndpointNetworkPolicies</code> (<code>string</code>) - Optional.     Policy for private endpoint network. Allowed values: Disabled, Enabled, NetworkSecurityGroupEnabled, RouteTableEnabled.</p> </li> <li> <p><code>privateLinkServiceNetworkPolicies</code> (<code>string</code>) - Optional.     Policy for private link service network. Allowed values: Disabled, Enabled.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments to create on the subnet.</p> <ul> <li> <p><code>condition</code> (<code>string</code>) - Optional.   Condition applied to the role assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.   Condition version. Allowed value: 2.0.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.   Resource ID of delegated managed identity.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the role assignment. If not provided, a GUID will be generated.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.   Principal ID of the user/group/identity to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.   Principal type. Allowed values: Device, ForeignGroup, Group, ServicePrincipal, User.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.   Role to assign. Accepts role name, role GUID, or fully qualified role definition ID.</p> </li> </ul> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.     Array item for vNetDefinition.subnets[*].roleAssignments</p> </li> <li> <p><code>routeTableResourceId</code> (<code>string</code>) - Optional.     Route table resource ID for the subnet.</p> </li> <li> <p><code>serviceEndpointPolicies</code> (<code>array</code>) - Optional.     Service endpoint policies for the subnet.</p> </li> <li> <p><code>serviceEndpoints</code> (<code>array</code>) - Optional.     Service endpoints enabled on the subnet.</p> </li> <li> <p><code>sharingScope</code> (<code>string</code>) - Optional.     Sharing scope for the subnet. Allowed values: DelegatedServices, Tenant.</p> </li> <li> <p><code>subnets[*]</code> (<code>object</code>) - Optional.   Array item for vNetDefinition.subnets</p> </li> <li> <p><code>condition</code> (<code>string</code>) - Optional.     Condition applied to the role assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.     Condition version. Allowed value: 2.0.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.     Resource ID of delegated managed identity.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the role assignment. If not provided, a GUID will be generated.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID of the user/group/identity to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type. Allowed values: Device, ForeignGroup, Group, ServicePrincipal, User.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role to assign. Accepts role name, role GUID, or fully qualified role definition ID.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the Virtual Network.</p> </li> <li> <p><code>virtualNetworkBgpCommunity</code> (<code>string</code>) - Optional.   The BGP community associated with the Virtual Network.</p> </li> <li> <p><code>vnetEncryption</code> (<code>bool</code>) - Optional.   Indicates if encryption is enabled for the Virtual Network. Requires the EnableVNetEncryption feature and a supported region.</p> </li> <li> <p><code>vnetEncryptionEnforcement</code> (<code>string</code>) - Optional.   Enforcement policy for unencrypted VMs in an encrypted VNet. Allowed values: AllowUnencrypted, DropUnencrypted.</p> </li> </ul>"},{"location":"bicep/parametrizing/#wafpolicydefinition","title":"<code>wafPolicyDefinition</code>","text":"Parameter Type Required Description <code>wafPolicyDefinition</code> <code>object</code> Conditional Web Application Firewall (WAF) policy configuration. Required if deploy.wafPolicy is true and you are deploying Application Gateway via this template. <p>Properties:</p> <ul> <li> <p><code>customRules</code> (<code>array</code>) - Optional.   Custom rules inside the policy.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable usage telemetry for the module. Default is true.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources. Default is resourceGroup().location.</p> </li> <li> <p><code>managedRules</code> (<code>object</code>) - Required.   Managed rules configuration (rule sets and exclusions).</p> </li> <li> <p><code>exclusions</code> (<code>array</code>) - Optional.     Exclusions for specific rules or variables.</p> <ul> <li><code>excludedRuleSet</code> (<code>object</code>) - Optional.   Specific managed rule set exclusion details.</li> <li> <p><code>ruleGroup</code> (<code>array</code>) - Optional.     Rule groups to exclude.</p> </li> <li> <p><code>ruleSetType</code> (<code>string</code>) - Required.     Rule set type (e.g., OWASP).</p> </li> <li> <p><code>ruleSetVersion</code> (<code>string</code>) - Required.     Rule set version (e.g., 3.2).</p> </li> <li> <p><code>matchVariable</code> (<code>string</code>) - Required.   Match variable to exclude (e.g., RequestHeaderNames).</p> </li> <li> <p><code>selector</code> (<code>string</code>) - Required.   Selector value for the match variable.</p> </li> <li> <p><code>selectorMatchOperator</code> (<code>string</code>) - Required.   Selector match operator (e.g., Equals, Contains).</p> </li> </ul> </li> <li> <p><code>exclusions[*]</code> (<code>object</code>) - Optional.     Array item for wafPolicyDefinition.managedRules.exclusions</p> <ul> <li> <p><code>ruleGroup</code> (<code>array</code>) - Optional.   Rule groups to exclude.</p> </li> <li> <p><code>ruleSetType</code> (<code>string</code>) - Required.   Rule set type (e.g., OWASP).</p> </li> <li> <p><code>ruleSetVersion</code> (<code>string</code>) - Required.   Rule set version (e.g., 3.2).</p> </li> </ul> </li> <li> <p><code>managedRuleSets</code> (<code>array</code>) - Required.     Managed rule sets to apply.</p> <ul> <li><code>ruleGroupOverrides</code> (<code>array</code>) - Optional.   Overrides for specific rule groups.</li> <li> <p><code>rule</code> (<code>array</code>) - Required.     Rule overrides within the group.</p> <ul> <li> <p><code>action</code> (<code>string</code>) - Required.   Action to take (e.g., Allow, Block, Log).</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Required.   Whether the rule is enabled.</p> </li> <li> <p><code>id</code> (<code>string</code>) - Required.   Rule ID.</p> </li> </ul> </li> <li> <p><code>rule[*]</code> (<code>object</code>) - Optional.     Array item for wafPolicyDefinition.managedRules.managedRuleSets[].ruleGroupOverrides[].rule</p> </li> <li> <p><code>ruleGroupName</code> (<code>string</code>) - Required.     Name of the rule group.</p> </li> <li> <p><code>ruleGroupOverrides[*]</code> (<code>object</code>) - Optional.   Array item for wafPolicyDefinition.managedRules.managedRuleSets[*].ruleGroupOverrides</p> </li> <li> <p><code>action</code> (<code>string</code>) - Required.     Action to take (e.g., Allow, Block, Log).</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Required.     Whether the rule is enabled.</p> </li> <li> <p><code>id</code> (<code>string</code>) - Required.     Rule ID.</p> </li> <li> <p><code>ruleSetType</code> (<code>string</code>) - Required.   Rule set type (e.g., OWASP).</p> </li> <li> <p><code>ruleSetVersion</code> (<code>string</code>) - Required.   Rule set version.</p> </li> </ul> </li> <li> <p><code>managedRuleSets[*]</code> (<code>object</code>) - Optional.     Array item for wafPolicyDefinition.managedRules.managedRuleSets</p> <ul> <li><code>rule</code> (<code>array</code>) - Required.   Rule overrides within the group.</li> <li> <p><code>action</code> (<code>string</code>) - Required.     Action to take (e.g., Allow, Block, Log).</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Required.     Whether the rule is enabled.</p> </li> <li> <p><code>id</code> (<code>string</code>) - Required.     Rule ID.</p> </li> <li> <p><code>rule[*]</code> (<code>object</code>) - Optional.   Array item for wafPolicyDefinition.managedRules.managedRuleSets[].ruleGroupOverrides[].rule</p> </li> <li> <p><code>ruleGroupName</code> (<code>string</code>) - Required.   Name of the rule group.</p> </li> <li> <p><code>action</code> (<code>string</code>) - Required.   Action to take (e.g., Allow, Block, Log).</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Required.   Whether the rule is enabled.</p> </li> <li> <p><code>id</code> (<code>string</code>) - Required.   Rule ID.</p> </li> <li> <p><code>action</code> (<code>string</code>) - Required.   Action to take (e.g., Allow, Block, Log).</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Required.   Whether the rule is enabled.</p> </li> <li> <p><code>id</code> (<code>string</code>) - Required.   Rule ID.</p> </li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Application Gateway WAF policy.</p> </li> <li> <p><code>policySettings</code> (<code>object</code>) - Optional.   Policy settings (state, mode, size limits).</p> </li> <li> <p><code>fileUploadLimitInMb</code> (<code>int</code>) - Required.     File upload size limit (MB).</p> </li> <li> <p><code>maxRequestBodySizeInKb</code> (<code>int</code>) - Required.     Maximum request body size (KB).</p> </li> <li> <p><code>mode</code> (<code>string</code>) - Required.     WAF mode (Prevention or Detection).</p> </li> <li> <p><code>requestBodyCheck</code> (<code>bool</code>) - Required.     Enable request body inspection.</p> </li> <li> <p><code>state</code> (<code>string</code>) - Required.     WAF policy state.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Resource tags.</p> </li> </ul>"},{"location":"bicep/parametrizing/#optional-parameters","title":"Optional Parameters","text":""},{"location":"bicep/parametrizing/#acrprivatednszonedefinition","title":"<code>acrPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>acrPrivateDnsZoneDefinition</code> <code>object</code> Optional Container Registry Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for acrPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for acrPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for acrPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#acrprivateendpointdefinition","title":"<code>acrPrivateEndpointDefinition</code>","text":"Parameter Type Required Description <code>acrPrivateEndpointDefinition</code> <code>object</code> Optional Azure Container Registry Private Endpoint configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for acrPrivateEndpointDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for acrPrivateEndpointDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for acrPrivateEndpointDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#aifoundrydefinition","title":"<code>aiFoundryDefinition</code>","text":"Parameter Type Required Description <code>aiFoundryDefinition</code> <code>object</code> Optional AI Foundry project configuration (account/project, networking, associated resources, and deployments). <p>Properties:</p> <ul> <li><code>aiFoundryConfiguration</code> (<code>object</code>) - Optional.   Custom configuration for the AI Foundry account.</li> <li> <p><code>accountName</code> (<code>string</code>) - Optional.     The name of the AI Foundry account.</p> </li> <li> <p><code>allowProjectManagement</code> (<code>bool</code>) - Optional.     Whether to allow project management in the account. Defaults to true.</p> </li> <li> <p><code>createCapabilityHosts</code> (<code>bool</code>) - Optional.     Whether to create capability hosts for the AI Agent Service. Requires includeAssociatedResources = true. Defaults to true.</p> </li> <li> <p><code>disableLocalAuth</code> (<code>bool</code>) - Optional.     Disables local authentication methods so that the account requires Microsoft Entra ID identities exclusively for authentication. Defaults to false for backward compatibility.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     Location of the AI Foundry account. Defaults to resource group location.</p> </li> <li> <p><code>networking</code> (<code>object</code>) - Optional.     Networking configuration for the AI Foundry account and project.</p> <ul> <li> <p><code>agentServiceSubnetResourceId</code> (<code>string</code>) - Optional.   Subnet Resource ID for Azure AI Services. Required if you want to deploy AI Agent Service.</p> </li> <li> <p><code>aiServicesPrivateDnsZoneResourceId</code> (<code>string</code>) - Required.   Private DNS Zone Resource ID for Azure AI Services.</p> </li> <li> <p><code>cognitiveServicesPrivateDnsZoneResourceId</code> (<code>string</code>) - Required.   Private DNS Zone Resource ID for Cognitive Services.</p> </li> <li> <p><code>openAiPrivateDnsZoneResourceId</code> (<code>string</code>) - Required.   Private DNS Zone Resource ID for OpenAI.</p> </li> </ul> </li> <li> <p><code>project</code> (<code>object</code>) - Optional.     Default AI Foundry project.</p> <ul> <li> <p><code>description</code> (<code>string</code>) - Optional.   Project description.</p> </li> <li> <p><code>displayName</code> (<code>string</code>) - Optional.   Friendly/display name of the project.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the project.</p> </li> </ul> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments to apply to the AI Foundry account.</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Optional.     SKU of the AI Foundry / Cognitive Services account. Defaults to S0.</p> </li> <li> <p><code>aiModelDeployments</code> (<code>array</code>) - Optional.   Specifies the OpenAI deployments to create.</p> </li> <li> <p><code>model</code> (<code>object</code>) - Required.     Deployment model configuration.</p> <ul> <li> <p><code>format</code> (<code>string</code>) - Required.   Format of the deployment model.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the deployment model.</p> </li> <li> <p><code>version</code> (<code>string</code>) - Required.   Version of the deployment model.</p> </li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the deployment.</p> </li> <li> <p><code>raiPolicyName</code> (<code>string</code>) - Optional.     Responsible AI policy name.</p> </li> <li> <p><code>sku</code> (<code>object</code>) - Optional.     SKU configuration for the deployment.</p> <ul> <li> <p><code>capacity</code> (<code>int</code>) - Optional.   SKU capacity.</p> </li> <li> <p><code>family</code> (<code>string</code>) - Optional.   SKU family.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   SKU name.</p> </li> <li> <p><code>size</code> (<code>string</code>) - Optional.   SKU size.</p> </li> <li> <p><code>tier</code> (<code>string</code>) - Optional.   SKU tier.</p> </li> </ul> </li> <li> <p><code>versionUpgradeOption</code> (<code>string</code>) - Optional.     Version upgrade option.</p> </li> <li> <p><code>aiModelDeployments[*]</code> (<code>object</code>) - Optional.   Array item for aiFoundryDefinition.aiModelDeployments</p> </li> <li> <p><code>format</code> (<code>string</code>) - Required.     Format of the deployment model.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the deployment model.</p> </li> <li> <p><code>version</code> (<code>string</code>) - Required.     Version of the deployment model.</p> </li> <li> <p><code>capacity</code> (<code>int</code>) - Optional.     SKU capacity.</p> </li> <li> <p><code>family</code> (<code>string</code>) - Optional.     SKU family.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     SKU name.</p> </li> <li> <p><code>size</code> (<code>string</code>) - Optional.     SKU size.</p> </li> <li> <p><code>tier</code> (<code>string</code>) - Optional.     SKU tier.</p> </li> <li> <p><code>aiSearchConfiguration</code> (<code>object</code>) - Optional.   Custom configuration for AI Search.</p> </li> <li> <p><code>existingResourceId</code> (<code>string</code>) - Optional.     Existing AI Search resource ID. If provided, other properties are ignored.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the AI Search resource.</p> </li> <li> <p><code>privateDnsZoneResourceId</code> (<code>string</code>) - Optional.     Private DNS Zone Resource ID for AI Search. Required if private endpoints are used.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments for the AI Search resource.</p> </li> <li> <p><code>baseName</code> (<code>string</code>) - Optional.   A friendly application/environment name to serve as the base when using the default naming for all resources in this deployment.</p> </li> <li> <p><code>baseUniqueName</code> (<code>string</code>) - Optional.   A unique text value for the application/environment. Used to ensure resource names are unique for global resources. Defaults to a 5-character substring of the unique string generated from the subscription ID, resource group name, and base name.</p> </li> <li> <p><code>cosmosDbConfiguration</code> (<code>object</code>) - Optional.   Custom configuration for Cosmos DB.</p> </li> <li> <p><code>existingResourceId</code> (<code>string</code>) - Optional.     Existing Cosmos DB resource ID. If provided, other properties are ignored.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the Cosmos DB resource.</p> </li> <li> <p><code>privateDnsZoneResourceId</code> (<code>string</code>) - Optional.     Private DNS Zone Resource ID for Cosmos DB. Required if private endpoints are used.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments for the Cosmos DB resource.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module. Default is true.</p> </li> <li> <p><code>includeAssociatedResources</code> (<code>bool</code>) - Optional.   Whether to include associated resources (Key Vault, AI Search, Storage Account, Cosmos DB). Defaults to true.</p> </li> <li> <p><code>keyVaultConfiguration</code> (<code>object</code>) - Optional.   Custom configuration for Key Vault.</p> </li> <li> <p><code>existingResourceId</code> (<code>string</code>) - Optional.     Existing Key Vault resource ID. If provided, other properties are ignored.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the Key Vault.</p> </li> <li> <p><code>privateDnsZoneResourceId</code> (<code>string</code>) - Optional.     Private DNS Zone Resource ID for Key Vault. Required if private endpoints are used.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments for the Key Vault resource.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the AI resources.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>privateEndpointSubnetResourceId</code> (<code>string</code>) - Optional.   The Resource ID of the subnet to establish Private Endpoint(s). If provided, private endpoints will be created for the AI Foundry account and associated resources. Each resource will also require supplied private DNS zone resource ID(s).</p> </li> <li> <p><code>storageAccountConfiguration</code> (<code>object</code>) - Optional.   Custom configuration for Storage Account.</p> </li> <li> <p><code>blobPrivateDnsZoneResourceId</code> (<code>string</code>) - Optional.     Private DNS Zone Resource ID for blob endpoint. Required if private endpoints are used.</p> </li> <li> <p><code>existingResourceId</code> (<code>string</code>) - Optional.     Existing Storage Account resource ID. If provided, other properties are ignored.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the Storage Account.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments for the Storage Account.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Specifies the resource tags for all the resources.</p> </li> </ul>"},{"location":"bicep/parametrizing/#aisearchdefinition","title":"<code>aiSearchDefinition</code>","text":"Parameter Type Required Description <code>aiSearchDefinition</code> <code>object</code> Optional AI Search settings. <p>Properties:</p> <ul> <li><code>authOptions</code> (<code>object</code>) - Optional.   Defines the options for how the data plane API of a Search service authenticates requests. Must remain {} if disableLocalAuth=true.</li> <li> <p><code>aadOrApiKey</code> (<code>object</code>) - Optional.     Indicates that either API key or an access token from Microsoft Entra ID can be used for authentication.</p> <ul> <li><code>aadAuthFailureMode</code> (<code>string</code>) - Optional.   Response sent when authentication fails. Allowed values: http401WithBearerChallenge, http403.</li> </ul> </li> <li> <p><code>apiKeyOnly</code> (<code>object</code>) - Optional.     Indicates that only the API key can be used for authentication.</p> </li> <li> <p><code>cmkEnforcement</code> (<code>string</code>) - Optional.   Policy that determines how resources within the search service are encrypted with Customer Managed Keys. Default is Unspecified. Allowed values: Disabled, Enabled, Unspecified.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the search service.</p> </li> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.     Resource ID of the diagnostic Event Hub authorization rule.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.     Name of the diagnostic Event Hub. Without this, one Event Hub per category will be created.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.     Destination type for Log Analytics. Allowed values: AzureDiagnostics, Dedicated.</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.     Log categories and groups to collect. Use [] to disable.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Diagnostic log category group. Use allLogs to collect all logs.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable this log category. Default is true.</p> </li> </ul> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.     Array item for aiSearchDefinition.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.     Marketplace partner resource ID to send logs to.</p> </li> <li> <p><code>metricCategories</code> (<code>array</code>) - Optional.     Metric categories to collect.</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Required.   Diagnostic metric category. Example: AllMetrics.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Enable or disable this metric category. Default is true.</p> </li> </ul> </li> <li> <p><code>metricCategories[*]</code> (<code>object</code>) - Optional.     Array item for aiSearchDefinition.diagnosticSettings[*].metricCategories</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the diagnostic setting.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.     Storage account resource ID for diagnostic logs.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.     Log Analytics workspace resource ID for diagnostic logs.</p> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.   Array item for aiSearchDefinition.diagnosticSettings</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Diagnostic log category.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Diagnostic log category group. Use allLogs to collect all logs.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable this log category. Default is true.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Required.     Diagnostic metric category. Example: AllMetrics.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Enable or disable this metric category. Default is true.</p> </li> <li> <p><code>disableLocalAuth</code> (<code>bool</code>) - Optional.   Disable local authentication via API keys. Cannot be true if authOptions are defined. Default is true.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/disable usage telemetry for the module. Default is true.</p> </li> <li> <p><code>hostingMode</code> (<code>string</code>) - Optional.   Hosting mode, only for standard3 SKU. Allowed values: default, highDensity. Default is default.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources. Default is resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings for the search service.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Type of lock. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Notes for the lock.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identity definition for the search service.</p> </li> <li> <p><code>systemAssigned</code> (<code>bool</code>) - Optional.     Enables system-assigned managed identity.</p> </li> <li> <p><code>userAssignedResourceIds</code> (<code>array</code>) - Optional.     User-assigned identity resource IDs. Required if user-assigned identity is used for encryption.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Azure Cognitive Search service to create or update. Must only contain lowercase letters, digits or dashes, cannot use dash as the first two or last one characters, cannot contain consecutive dashes, must be between 2 and 60 characters in length, and must be globally unique. Immutable after creation.</p> </li> <li> <p><code>networkRuleSet</code> (<code>object</code>) - Optional.   Network rules for the search service.</p> </li> <li> <p><code>bypass</code> (<code>string</code>) - Optional.     Bypass setting. Allowed values: AzurePortal, AzureServices, None.</p> </li> <li> <p><code>ipRules</code> (<code>array</code>) - Optional.     IP restriction rules applied when publicNetworkAccess=Enabled.</p> <ul> <li><code>value</code> (<code>string</code>) - Required.   IPv4 address (e.g., 123.1.2.3) or range in CIDR format (e.g., 123.1.2.3/24) to allow.</li> </ul> </li> <li> <p><code>ipRules[*]</code> (<code>object</code>) - Optional.     Array item for aiSearchDefinition.networkRuleSet.ipRules</p> </li> <li> <p><code>partitionCount</code> (<code>int</code>) - Optional.   Number of partitions in the search service. Valid values: 1,2,3,4,6,12 (or 1\u20133 for standard3 highDensity). Default is 1.</p> </li> <li> <p><code>privateEndpoints</code> (<code>array</code>) - Optional.   Configuration details for private endpoints.</p> </li> <li> <p><code>publicNetworkAccess</code> (<code>string</code>) - Optional.   Public network access. Default is Enabled. Allowed values: Enabled, Disabled.</p> </li> <li> <p><code>replicaCount</code> (<code>int</code>) - Optional.   Number of replicas in the search service. Must be 1\u201312 for Standard SKUs or 1\u20133 for Basic. Default is 3.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the search service.</p> </li> <li> <p><code>secretsExportConfiguration</code> (<code>object</code>) - Optional.   Key Vault reference and secret settings for exporting admin keys.</p> </li> <li> <p><code>keyVaultResourceId</code> (<code>string</code>) - Required.     Key Vault resource ID where the API Admin keys will be stored.</p> </li> <li> <p><code>primaryAdminKeyName</code> (<code>string</code>) - Optional.     Secret name for the primary admin key.</p> </li> <li> <p><code>secondaryAdminKeyName</code> (<code>string</code>) - Optional.     Secret name for the secondary admin key.</p> </li> <li> <p><code>semanticSearch</code> (<code>string</code>) - Optional.   Semantic search configuration. Allowed values: disabled, free, standard.</p> </li> <li> <p><code>sharedPrivateLinkResources</code> (<code>array</code>) - Optional.   Shared Private Link Resources to create. Default is [].</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Optional.   SKU of the search service. Determines price tier and limits. Default is standard. Allowed values: basic, free, standard, standard2, standard3, storage_optimized_l1, storage_optimized_l2.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for categorizing the search service.</p> </li> </ul>"},{"location":"bicep/parametrizing/#aiservicesprivatednszonedefinition","title":"<code>aiServicesPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>aiServicesPrivateDnsZoneDefinition</code> <code>object</code> Optional AI Services Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for aiServicesPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for aiServicesPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for aiServicesPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#apimdefinition","title":"<code>apimDefinition</code>","text":"Parameter Type Required Description <code>apimDefinition</code> <code>object</code> Optional API Management configuration. <p>Properties:</p> <ul> <li> <p><code>additionalLocations</code> (<code>array</code>) - Optional.   Additional locations for the API Management service.</p> </li> <li> <p><code>apiDiagnostics</code> (<code>array</code>) - Optional.   API diagnostics for APIs.</p> </li> <li> <p><code>apis</code> (<code>array</code>) - Optional.   APIs to create in the API Management service.</p> </li> <li> <p><code>apiVersionSets</code> (<code>array</code>) - Optional.   API version sets to configure.</p> </li> <li> <p><code>authorizationServers</code> (<code>array</code>) - Optional.   Authorization servers to configure.</p> </li> <li> <p><code>availabilityZones</code> (<code>array</code>) - Optional.   Availability Zones for HA deployment.</p> </li> <li> <p><code>backends</code> (<code>array</code>) - Optional.   Backends to configure.</p> </li> <li> <p><code>caches</code> (<code>array</code>) - Optional.   Caches to configure.</p> </li> <li> <p><code>certificates</code> (<code>array</code>) - Optional.   Certificates to configure for API Management. Maximum of 10 certificates.</p> </li> <li> <p><code>customProperties</code> (<code>object</code>) - Optional.   Custom properties to configure.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the API Management service.</p> </li> <li> <p><code>disableGateway</code> (<code>bool</code>) - Optional.   Disable gateway in a region (for multi-region setup).</p> </li> <li> <p><code>enableClientCertificate</code> (<code>bool</code>) - Optional.   Enable client certificate for requests (Consumption SKU only).</p> </li> <li> <p><code>enableDeveloperPortal</code> (<code>bool</code>) - Optional.   Enable developer portal for the service.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/disable usage telemetry for module. Default is true.</p> </li> <li> <p><code>hostnameConfigurations</code> (<code>array</code>) - Optional.   Hostname configurations for the API Management service.</p> </li> <li> <p><code>identityProviders</code> (<code>array</code>) - Optional.   Identity providers to configure.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the API Management service. Default is resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings for the API Management service.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Type of lock. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Notes for the lock.</p> </li> <li> <p><code>loggers</code> (<code>array</code>) - Optional.   Loggers to configure.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identity settings for the API Management service.</p> </li> <li> <p><code>systemAssigned</code> (<code>bool</code>) - Optional.     Enables system-assigned managed identity.</p> </li> <li> <p><code>userAssignedResourceIds</code> (<code>array</code>) - Optional.     User-assigned identity resource IDs.</p> </li> <li> <p><code>minApiVersion</code> (<code>string</code>) - Optional.   Minimum ARM API version to use for control-plane operations.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the API Management service.</p> </li> <li> <p><code>namedValues</code> (<code>array</code>) - Optional.   Named values to configure.</p> </li> <li> <p><code>newGuidValue</code> (<code>string</code>) - Optional.   Helper for generating new GUID values.</p> </li> <li> <p><code>notificationSenderEmail</code> (<code>string</code>) - Optional.   Notification sender email address.</p> </li> <li> <p><code>policies</code> (<code>array</code>) - Optional.   Policies to configure.</p> </li> <li> <p><code>portalsettings</code> (<code>array</code>) - Optional.   Portal settings for the developer portal.</p> </li> <li> <p><code>products</code> (<code>array</code>) - Optional.   Products to configure.</p> </li> <li> <p><code>publicIpAddressResourceId</code> (<code>string</code>) - Optional.   Public IP address resource ID for API Management.</p> </li> <li> <p><code>publisherEmail</code> (<code>string</code>) - Required.   Publisher email address.</p> </li> <li> <p><code>publisherName</code> (<code>string</code>) - Required.   Publisher display name.</p> </li> <li> <p><code>restore</code> (<code>bool</code>) - Optional.   Restore configuration for undeleting API Management services.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the API Management service.</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Optional.   SKU of the API Management service. Allowed values: Basic, BasicV2, Consumption, Developer, Premium, Standard, StandardV2.</p> </li> <li> <p><code>skuCapacity</code> (<code>int</code>) - Conditional.   SKU capacity. Required if SKU is not Consumption.</p> </li> <li> <p><code>subnetResourceId</code> (<code>string</code>) - Optional.   Subnet resource ID for VNet integration.</p> </li> <li> <p><code>subscriptions</code> (<code>array</code>) - Optional.   Subscriptions to configure.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the API Management service.</p> </li> <li> <p><code>virtualNetworkType</code> (<code>string</code>) - Optional.   Virtual network type. Allowed values: None, External, Internal.</p> </li> </ul>"},{"location":"bicep/parametrizing/#apimprivatednszonedefinition","title":"<code>apimPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>apimPrivateDnsZoneDefinition</code> <code>object</code> Optional API Management Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for apimPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for apimPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for apimPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#apimprivateendpointdefinition","title":"<code>apimPrivateEndpointDefinition</code>","text":"Parameter Type Required Description <code>apimPrivateEndpointDefinition</code> <code>object</code> Optional API Management Private Endpoint configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for apimPrivateEndpointDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for apimPrivateEndpointDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for apimPrivateEndpointDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#appconfigprivatednszonedefinition","title":"<code>appConfigPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>appConfigPrivateDnsZoneDefinition</code> <code>object</code> Optional App Configuration Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for appConfigPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for appConfigPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for appConfigPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#appconfigprivateendpointdefinition","title":"<code>appConfigPrivateEndpointDefinition</code>","text":"Parameter Type Required Description <code>appConfigPrivateEndpointDefinition</code> <code>object</code> Optional App Configuration Private Endpoint configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for appConfigPrivateEndpointDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for appConfigPrivateEndpointDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for appConfigPrivateEndpointDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#appinsightsprivatednszonedefinition","title":"<code>appInsightsPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>appInsightsPrivateDnsZoneDefinition</code> <code>object</code> Optional Application Insights Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for appInsightsPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for appInsightsPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for appInsightsPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#basename","title":"<code>baseName</code>","text":"Parameter Type Required Description <code>baseName</code> <code>string</code> Optional Base name to seed resource names; defaults to a 12-char token."},{"location":"bicep/parametrizing/#blobprivatednszonedefinition","title":"<code>blobPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>blobPrivateDnsZoneDefinition</code> <code>object</code> Optional Blob Storage Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for blobPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for blobPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for blobPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#buildvmmaintenancedefinition","title":"<code>buildVmMaintenanceDefinition</code>","text":"Parameter Type Required Description <code>buildVmMaintenanceDefinition</code> <code>object</code> Optional Build VM Maintenance Definition. Used when deploy.buildVm is true. <p>Properties:</p> <ul> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable usage telemetry for the module. Default is true.</p> </li> <li> <p><code>extensionProperties</code> (<code>object</code>) - Optional.   Extension properties of the Maintenance Configuration.</p> </li> <li> <p><code>installPatches</code> (<code>object</code>) - Optional.   Configuration settings for VM guest patching with Azure Update Manager.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Resource location. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Maintenance Configuration.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>maintenanceScope</code> (<code>string</code>) - Optional.   Maintenance scope of the configuration. Default is Host.</p> </li> <li> <p><code>maintenanceWindow</code> (<code>object</code>) - Optional.   Definition of the Maintenance Window.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Maintenance Configuration.</p> </li> <li> <p><code>namespace</code> (<code>string</code>) - Optional.   Namespace of the resource.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments to apply to the Maintenance Configuration.</p> </li> <li> <p><code>condition</code> (<code>string</code>) - Optional.     Condition for the role assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.     Condition version.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.     Delegated managed identity resource ID.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Role assignment name (GUID). If omitted, a GUID is generated.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID of the identity being assigned.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type of the assigned identity.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role to assign (display name, GUID, or full resource ID).</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for buildVmMaintenanceDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the Maintenance Configuration resource.</p> </li> <li> <p><code>visibility</code> (<code>string</code>) - Optional.   Visibility of the configuration. Default is Custom.</p> </li> </ul>"},{"location":"bicep/parametrizing/#cognitiveservicesprivatednszonedefinition","title":"<code>cognitiveServicesPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>cognitiveServicesPrivateDnsZoneDefinition</code> <code>object</code> Optional Cognitive Services Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for cognitiveServicesPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for cognitiveServicesPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for cognitiveServicesPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#containerappenvprivateendpointdefinition","title":"<code>containerAppEnvPrivateEndpointDefinition</code>","text":"Parameter Type Required Description <code>containerAppEnvPrivateEndpointDefinition</code> <code>object</code> Optional Container Apps Environment Private Endpoint configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for containerAppEnvPrivateEndpointDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for containerAppEnvPrivateEndpointDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for containerAppEnvPrivateEndpointDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#containerappslist","title":"<code>containerAppsList</code>","text":"Parameter Type Required Description <code>containerAppsList</code> <code>array</code> Optional List of Container Apps to create."},{"location":"bicep/parametrizing/#containerappsprivatednszonedefinition","title":"<code>containerAppsPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>containerAppsPrivateDnsZoneDefinition</code> <code>object</code> Optional Container Apps Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for containerAppsPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for containerAppsPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for containerAppsPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#cosmosdbdefinition","title":"<code>cosmosDbDefinition</code>","text":"Parameter Type Required Description <code>cosmosDbDefinition</code> <code>object</code> Optional Cosmos DB settings. <p>Properties:</p> <ul> <li> <p><code>automaticFailover</code> (<code>bool</code>) - Optional.   Enable automatic failover for regions. Defaults to true.</p> </li> <li> <p><code>backupIntervalInMinutes</code> (<code>int</code>) - Optional.   Interval in minutes between two backups (periodic only). Defaults to 240. Range: 60\u20131440.</p> </li> <li> <p><code>backupPolicyContinuousTier</code> (<code>string</code>) - Optional.   Retention period for continuous mode backup. Default is Continuous30Days. Allowed values: Continuous30Days, Continuous7Days.</p> </li> <li> <p><code>backupPolicyType</code> (<code>string</code>) - Optional.   Backup mode. Periodic must be used if multiple write locations are enabled. Default is Continuous. Allowed values: Continuous, Periodic.</p> </li> <li> <p><code>backupRetentionIntervalInHours</code> (<code>int</code>) - Optional.   Time (hours) each backup is retained (periodic only). Default is 8. Range: 2\u2013720.</p> </li> <li> <p><code>backupStorageRedundancy</code> (<code>string</code>) - Optional.   Type of backup residency (periodic only). Default is Local. Allowed values: Geo, Local, Zone.</p> </li> <li> <p><code>capabilitiesToAdd</code> (<code>array</code>) - Optional.   List of Cosmos DB specific capabilities to enable.</p> </li> <li> <p><code>databaseAccountOfferType</code> (<code>string</code>) - Optional.   The offer type for the account. Default is Standard. Allowed value: Standard.</p> </li> <li> <p><code>dataPlaneRoleAssignments</code> (<code>array</code>) - Optional.   Cosmos DB for NoSQL native role-based access control assignments.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Unique name of the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     The Microsoft Entra principal ID granted access by this assignment.</p> </li> <li> <p><code>roleDefinitionId</code> (<code>string</code>) - Required.     The unique identifier of the NoSQL native role definition.</p> </li> <li> <p><code>dataPlaneRoleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for cosmosDbDefinition.dataPlaneRoleAssignments</p> </li> <li> <p><code>dataPlaneRoleDefinitions</code> (<code>array</code>) - Optional.   Cosmos DB for NoSQL native role-based access control definitions.</p> </li> <li> <p><code>assignableScopes</code> (<code>array</code>) - Optional.     Assignable scopes for the definition.</p> </li> <li> <p><code>assignments</code> (<code>array</code>) - Optional.     Assignments associated with this role definition.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Optional.   Unique identifier name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.   The Microsoft Entra principal ID granted access by this role assignment.</p> </li> </ul> </li> <li> <p><code>assignments[*]</code> (<code>object</code>) - Optional.     Array item for cosmosDbDefinition.dataPlaneRoleDefinitions[*].assignments</p> </li> <li> <p><code>dataActions</code> (<code>array</code>) - Optional.     Array of allowed data actions.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Unique identifier for the role definition.</p> </li> <li> <p><code>roleName</code> (<code>string</code>) - Required.     A user-friendly unique name for the role definition.</p> </li> <li> <p><code>dataPlaneRoleDefinitions[*]</code> (<code>object</code>) - Optional.   Array item for cosmosDbDefinition.dataPlaneRoleDefinitions</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Unique identifier name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     The Microsoft Entra principal ID granted access by this role assignment.</p> </li> <li> <p><code>defaultConsistencyLevel</code> (<code>string</code>) - Optional.   Default consistency level. Default is Session. Allowed values: BoundedStaleness, ConsistentPrefix, Eventual, Session, Strong.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   Diagnostic settings for the Cosmos DB account.</p> </li> <li> <p><code>disableKeyBasedMetadataWriteAccess</code> (<code>bool</code>) - Optional.   Disable write operations on metadata resources via account keys. Default is true.</p> </li> <li> <p><code>disableLocalAuthentication</code> (<code>bool</code>) - Optional.   Opt-out of local authentication, enforcing Microsoft Entra-only auth. Default is true.</p> </li> <li> <p><code>enableAnalyticalStorage</code> (<code>bool</code>) - Optional.   Enable analytical storage. Default is false.</p> </li> <li> <p><code>enableFreeTier</code> (<code>bool</code>) - Optional.   Enable Free Tier. Default is false.</p> </li> <li> <p><code>enableMultipleWriteLocations</code> (<code>bool</code>) - Optional.   Enable multiple write locations. Requires periodic backup. Default is false.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry. Default is true.</p> </li> <li> <p><code>failoverLocations</code> (<code>array</code>) - Optional.   Failover locations configuration.</p> </li> <li> <p><code>failoverPriority</code> (<code>int</code>) - Required.     Failover priority. 0 = write region.</p> </li> <li> <p><code>isZoneRedundant</code> (<code>bool</code>) - Optional.     Zone redundancy flag for region. Default is true.</p> </li> <li> <p><code>locationName</code> (<code>string</code>) - Required.     Region name.</p> </li> <li> <p><code>failoverLocations[*]</code> (<code>object</code>) - Optional.   Array item for cosmosDbDefinition.failoverLocations</p> </li> <li> <p><code>gremlinDatabases</code> (<code>array</code>) - Optional.   Gremlin database configurations.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the account. Defaults to resourceGroup().location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock settings for the Cosmos DB account.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type. Allowed values: CanNotDelete, None, ReadOnly.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>managedIdentities</code> (<code>object</code>) - Optional.   Managed identity configuration.</p> </li> <li> <p><code>systemAssigned</code> (<code>bool</code>) - Optional.     Enables system-assigned identity.</p> </li> <li> <p><code>userAssignedResourceIds</code> (<code>array</code>) - Optional.     User-assigned identity resource IDs.</p> </li> <li> <p><code>maxIntervalInSeconds</code> (<code>int</code>) - Optional.   Maximum lag time in seconds (BoundedStaleness). Defaults to 300.</p> </li> <li> <p><code>maxStalenessPrefix</code> (<code>int</code>) - Optional.   Maximum stale requests (BoundedStaleness). Defaults to 100000.</p> </li> <li> <p><code>minimumTlsVersion</code> (<code>string</code>) - Optional.   Minimum allowed TLS version. Default is Tls12.</p> </li> <li> <p><code>mongodbDatabases</code> (<code>array</code>) - Optional.   MongoDB database configurations.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the account.</p> </li> <li> <p><code>networkRestrictions</code> (<code>object</code>) - Optional.   Network restrictions for the Cosmos DB account.</p> </li> <li> <p><code>privateEndpoints</code> (<code>array</code>) - Optional.   Private endpoint configurations for secure connectivity.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Control plane Azure role assignments for Cosmos DB.</p> </li> <li> <p><code>serverVersion</code> (<code>string</code>) - Optional.   MongoDB server version (if using MongoDB API). Default is 4.2.</p> </li> <li> <p><code>sqlDatabases</code> (<code>array</code>) - Optional.   SQL (NoSQL) database configurations.</p> </li> <li> <p><code>tables</code> (<code>array</code>) - Optional.   Table API database configurations.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the Cosmos DB account.</p> </li> <li> <p><code>totalThroughputLimit</code> (<code>int</code>) - Optional.   Total throughput limit in RU/s. Default is unlimited (-1).</p> </li> <li> <p><code>zoneRedundant</code> (<code>bool</code>) - Optional.   Zone redundancy for single-region accounts. Default is true.</p> </li> </ul>"},{"location":"bicep/parametrizing/#cosmosprivatednszonedefinition","title":"<code>cosmosPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>cosmosPrivateDnsZoneDefinition</code> <code>object</code> Optional Cosmos DB Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for cosmosPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for cosmosPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for cosmosPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#cosmosprivateendpointdefinition","title":"<code>cosmosPrivateEndpointDefinition</code>","text":"Parameter Type Required Description <code>cosmosPrivateEndpointDefinition</code> <code>object</code> Optional Cosmos DB Private Endpoint configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for cosmosPrivateEndpointDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for cosmosPrivateEndpointDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for cosmosPrivateEndpointDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#enabletelemetry","title":"<code>enableTelemetry</code>","text":"Parameter Type Required Description <code>enableTelemetry</code> <code>bool</code> Optional Enable/Disable usage telemetry for module."},{"location":"bicep/parametrizing/#enabledefenderforai","title":"<code>enableDefenderForAI</code>","text":"Parameter Type Required Description <code>enableDefenderForAI</code> <code>bool</code> Optional Enable Microsoft Defender for AI by configuring Defender for Cloud pricing at subscription scope (<code>Microsoft.Security/pricings</code>). Requires subscription-level permissions. Default is false."},{"location":"bicep/parametrizing/#existingvnetsubnetsdefinition","title":"<code>existingVNetSubnetsDefinition</code>","text":"Parameter Type Required Description <code>existingVNetSubnetsDefinition</code> <code>object</code> Optional Configuration for adding subnets to an existing VNet. Use this when you want to deploy subnets to an existing VNet instead of creating a new one. <p>Properties:</p> <ul> <li> <p><code>existingVNetName</code> (<code>string</code>) - Required.   Name or Resource ID of the existing Virtual Network. For cross-subscription/resource group scenarios, use the full Resource ID format: /subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/Microsoft.Network/virtualNetworks/{vnet-name}</p> </li> <li> <p><code>subnets</code> (<code>array</code>) - Optional.   Array of custom subnets to add to the existing VNet. If not provided and useDefaultSubnets is true, uses default AI Landing Zone subnets.</p> </li> <li> <p><code>addressPrefix</code> (<code>string</code>) - Conditional.     Address prefix for the subnet. Required if addressPrefixes is empty.</p> </li> <li> <p><code>addressPrefixes</code> (<code>array</code>) - Conditional.     List of address prefixes for the subnet. Required if addressPrefix is empty.</p> </li> <li> <p><code>applicationGatewayIPConfigurations</code> (<code>array</code>) - Optional.     Application Gateway IP configurations for the subnet.</p> </li> <li> <p><code>defaultOutboundAccess</code> (<code>bool</code>) - Optional.     Disable default outbound connectivity for all VMs in subnet.</p> </li> <li> <p><code>delegation</code> (<code>string</code>) - Optional.     Delegation to enable on the subnet.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the subnet.</p> </li> <li> <p><code>natGatewayResourceId</code> (<code>string</code>) - Optional.     NAT Gateway resource ID for the subnet.</p> </li> <li> <p><code>networkSecurityGroupResourceId</code> (<code>string</code>) - Optional.     NSG resource ID for the subnet.</p> </li> <li> <p><code>privateEndpointNetworkPolicies</code> (<code>string</code>) - Optional.     Policy for private endpoint network.</p> </li> <li> <p><code>privateLinkServiceNetworkPolicies</code> (<code>string</code>) - Optional.     Policy for private link service network.</p> </li> <li> <p><code>routeTableResourceId</code> (<code>string</code>) - Optional.     Route table resource ID for the subnet.</p> </li> <li> <p><code>serviceEndpointPolicies</code> (<code>array</code>) - Optional.     Service endpoint policies for the subnet.</p> </li> <li> <p><code>serviceEndpoints</code> (<code>array</code>) - Optional.     Service endpoints enabled on the subnet.</p> </li> <li> <p><code>sharingScope</code> (<code>string</code>) - Optional.     Sharing scope for the subnet.</p> </li> <li> <p><code>subnets[*]</code> (<code>object</code>) - Optional.   Array item for existingVNetSubnetsDefinition.subnets</p> </li> <li> <p><code>useDefaultSubnets</code> (<code>bool</code>) - Optional.   Use default AI Landing Zone subnets with 192.168.x.x addressing. Default: true.</p> </li> </ul>"},{"location":"bicep/parametrizing/#flagplatformlandingzone","title":"<code>flagPlatformLandingZone</code>","text":"Parameter Type Required Description <code>flagPlatformLandingZone</code> <code>bool</code> Optional Enable platform landing zone integration. When true, private DNS zones and private endpoints are managed by the platform landing zone."},{"location":"bicep/parametrizing/#hubvnetpeeringdefinition","title":"<code>hubVnetPeeringDefinition</code>","text":"Parameter Type Required Description <code>hubVnetPeeringDefinition</code> <code>object</code> Optional Hub VNet peering configuration. Configure this to establish hub-spoke peering topology."},{"location":"bicep/parametrizing/#jumpvmmaintenancedefinition","title":"<code>jumpVmMaintenanceDefinition</code>","text":"Parameter Type Required Description <code>jumpVmMaintenanceDefinition</code> <code>object</code> Optional Jump VM Maintenance Definition. Used when deploy.jumpVm is true. <p>Properties:</p> <ul> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable or disable usage telemetry for the module. Default is true.</p> </li> <li> <p><code>extensionProperties</code> (<code>object</code>) - Optional.   Extension properties of the Maintenance Configuration.</p> </li> <li> <p><code>installPatches</code> (<code>object</code>) - Optional.   Configuration settings for VM guest patching with Azure Update Manager.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Resource location. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Maintenance Configuration.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>maintenanceScope</code> (<code>string</code>) - Optional.   Maintenance scope of the configuration. Default is Host.</p> </li> <li> <p><code>maintenanceWindow</code> (<code>object</code>) - Optional.   Definition of the Maintenance Window.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Maintenance Configuration.</p> </li> <li> <p><code>namespace</code> (<code>string</code>) - Optional.   Namespace of the resource.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments to apply to the Maintenance Configuration.</p> </li> <li> <p><code>condition</code> (<code>string</code>) - Optional.     Condition for the role assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.     Condition version.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.     Delegated managed identity resource ID.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Role assignment name (GUID). If omitted, a GUID is generated.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID of the identity being assigned.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type of the assigned identity.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role to assign (display name, GUID, or full resource ID).</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for jumpVmMaintenanceDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the Maintenance Configuration resource.</p> </li> <li> <p><code>visibility</code> (<code>string</code>) - Optional.   Visibility of the configuration. Default is Custom.</p> </li> </ul>"},{"location":"bicep/parametrizing/#keyvaultdefinition","title":"<code>keyVaultDefinition</code>","text":"Parameter Type Required Description <code>keyVaultDefinition</code> <code>object</code> Optional Key Vault settings. <p>Properties:</p> <ul> <li><code>accessPolicies</code> (<code>array</code>) - Optional.   All access policies to create.</li> <li> <p><code>applicationId</code> (<code>string</code>) - Optional.     Application ID of the client making request on behalf of a principal.</p> </li> <li> <p><code>objectId</code> (<code>string</code>) - Required.     The object ID of a user, service principal or security group in the tenant for the vault.</p> </li> <li> <p><code>permissions</code> (<code>object</code>) - Required.     Permissions the identity has for keys, secrets and certificates.</p> <ul> <li> <p><code>certificates</code> (<code>array</code>) - Optional.   Permissions to certificates.</p> </li> <li> <p><code>keys</code> (<code>array</code>) - Optional.   Permissions to keys.</p> </li> <li> <p><code>secrets</code> (<code>array</code>) - Optional.   Permissions to secrets.</p> </li> <li> <p><code>storage</code> (<code>array</code>) - Optional.   Permissions to storage accounts.</p> </li> </ul> </li> <li> <p><code>tenantId</code> (<code>string</code>) - Optional.     The tenant ID that is used for authenticating requests to the key vault.</p> </li> <li> <p><code>accessPolicies[*]</code> (<code>object</code>) - Optional.   Array item for keyVaultDefinition.accessPolicies</p> </li> <li> <p><code>certificates</code> (<code>array</code>) - Optional.     Permissions to certificates.</p> </li> <li> <p><code>keys</code> (<code>array</code>) - Optional.     Permissions to keys.</p> </li> <li> <p><code>secrets</code> (<code>array</code>) - Optional.     Permissions to secrets.</p> </li> <li> <p><code>storage</code> (<code>array</code>) - Optional.     Permissions to storage accounts.</p> </li> <li> <p><code>createMode</code> (<code>string</code>) - Optional.   The vault's create mode to indicate whether the vault needs to be recovered or not.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.   The diagnostic settings of the service.</p> </li> <li> <p><code>enablePurgeProtection</code> (<code>bool</code>) - Optional.   Provide true to enable Key Vault purge protection feature.</p> </li> <li> <p><code>enableRbacAuthorization</code> (<code>bool</code>) - Optional.   Controls how data actions are authorized. When true, RBAC is used for authorization.</p> </li> <li> <p><code>enableSoftDelete</code> (<code>bool</code>) - Optional.   Switch to enable/disable Key Vault soft delete feature.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for module.</p> </li> <li> <p><code>enableVaultForDeployment</code> (<code>bool</code>) - Optional.   Specifies if the vault is enabled for deployment by script or compute.</p> </li> <li> <p><code>enableVaultForDiskEncryption</code> (<code>bool</code>) - Optional.   Specifies if the platform has access to the vault for disk encryption scenarios.</p> </li> <li> <p><code>enableVaultForTemplateDeployment</code> (<code>bool</code>) - Optional.   Specifies if the vault is enabled for a template deployment.</p> </li> <li> <p><code>keys</code> (<code>array</code>) - Optional.   All keys to create.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for all resources.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   The lock settings of the service.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Specify the type of lock.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Specify the name of the lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Specify the notes of the lock.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the Key Vault. Must be globally unique.</p> </li> <li> <p><code>networkAcls</code> (<code>object</code>) - Optional.   Rules governing the accessibility of the resource from specific networks.</p> </li> <li> <p><code>privateEndpoints</code> (<code>array</code>) - Optional.   Configuration details for private endpoints.</p> </li> <li> <p><code>applicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Application security groups in which the Private Endpoint IP configuration is included.</p> </li> <li> <p><code>customDnsConfigs</code> (<code>array</code>) - Optional.     Custom DNS configurations.</p> <ul> <li> <p><code>fqdn</code> (<code>string</code>) - Optional.   FQDN that resolves to private endpoint IP address.</p> </li> <li> <p><code>ipAddresses</code> (<code>array</code>) - Required.   A list of private IP addresses of the private endpoint.</p> </li> </ul> </li> <li> <p><code>customDnsConfigs[*]</code> (<code>object</code>) - Optional.     Array item for keyVaultDefinition.privateEndpoints[*].customDnsConfigs</p> </li> <li> <p><code>customNetworkInterfaceName</code> (<code>string</code>) - Optional.     The custom name of the network interface attached to the Private Endpoint.</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.     Enable/Disable usage telemetry for module.</p> </li> <li> <p><code>ipConfigurations</code> (<code>array</code>) - Optional.     A list of IP configurations of the Private Endpoint.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the resource that is unique within a resource group.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.   Properties of private endpoint IP configurations.</p> </li> <li> <p><code>groupId</code> (<code>string</code>) - Required.     The ID of a group obtained from the remote resource to connect to.</p> </li> <li> <p><code>memberName</code> (<code>string</code>) - Required.     The member name of a group obtained from the remote resource.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Required.     A private IP address obtained from the private endpoint's subnet.</p> </li> </ul> </li> <li> <p><code>ipConfigurations[*]</code> (<code>object</code>) - Optional.     Array item for keyVaultDefinition.privateEndpoints[*].ipConfigurations</p> <ul> <li> <p><code>groupId</code> (<code>string</code>) - Required.   The ID of a group obtained from the remote resource to connect to.</p> </li> <li> <p><code>memberName</code> (<code>string</code>) - Required.   The member name of a group obtained from the remote resource.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Required.   A private IP address obtained from the private endpoint's subnet.</p> </li> </ul> </li> <li> <p><code>isManualConnection</code> (<code>bool</code>) - Optional.     If Manual Private Link Connection is required.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     The location to deploy the Private Endpoint to.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.     Lock settings for the Private Endpoint.</p> <ul> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Specify the type of lock.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Specify the name of the lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.   Specify the notes of the lock.</p> </li> </ul> </li> <li> <p><code>manualConnectionRequestMessage</code> (<code>string</code>) - Optional.     A message passed with the manual connection request.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     The name of the Private Endpoint.</p> </li> <li> <p><code>privateDnsZoneGroup</code> (<code>object</code>) - Optional.     The private DNS zone group to configure for the Private Endpoint.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Optional.   The name of the Private DNS Zone Group.</p> </li> <li> <p><code>privateDnsZoneGroupConfigs</code> (<code>array</code>) - Required.   The private DNS Zone Groups to associate the Private Endpoint.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     The name of the private DNS Zone Group config.</p> </li> <li> <p><code>privateDnsZoneResourceId</code> (<code>string</code>) - Required.     The resource ID of the private DNS zone.</p> </li> <li> <p><code>privateDnsZoneGroupConfigs[*]</code> (<code>object</code>) - Optional.   Array item for keyVaultDefinition.privateEndpoints[*].privateDnsZoneGroup.privateDnsZoneGroupConfigs</p> </li> </ul> </li> <li> <p><code>privateLinkServiceConnectionName</code> (<code>string</code>) - Optional.     The name of the private link connection to create.</p> </li> <li> <p><code>resourceGroupResourceId</code> (<code>string</code>) - Optional.     The resource ID of the Resource Group the Private Endpoint will be created in.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Array of role assignments to create for the Private Endpoint.</p> </li> <li> <p><code>service</code> (<code>string</code>) - Optional.     The subresource to deploy the Private Endpoint for (e.g., vault).</p> </li> <li> <p><code>subnetResourceId</code> (<code>string</code>) - Required.     Resource ID of the subnet where the endpoint needs to be created.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the Private Endpoint.</p> </li> <li> <p><code>privateEndpoints[*]</code> (<code>object</code>) - Optional.   Array item for keyVaultDefinition.privateEndpoints</p> </li> <li> <p><code>fqdn</code> (<code>string</code>) - Optional.     FQDN that resolves to private endpoint IP address.</p> </li> <li> <p><code>ipAddresses</code> (<code>array</code>) - Required.     A list of private IP addresses of the private endpoint.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the resource that is unique within a resource group.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.     Properties of private endpoint IP configurations.</p> <ul> <li> <p><code>groupId</code> (<code>string</code>) - Required.   The ID of a group obtained from the remote resource to connect to.</p> </li> <li> <p><code>memberName</code> (<code>string</code>) - Required.   The member name of a group obtained from the remote resource.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Required.   A private IP address obtained from the private endpoint's subnet.</p> </li> </ul> </li> <li> <p><code>groupId</code> (<code>string</code>) - Required.     The ID of a group obtained from the remote resource to connect to.</p> </li> <li> <p><code>memberName</code> (<code>string</code>) - Required.     The member name of a group obtained from the remote resource.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Required.     A private IP address obtained from the private endpoint's subnet.</p> </li> <li> <p><code>groupId</code> (<code>string</code>) - Required.     The ID of a group obtained from the remote resource to connect to.</p> </li> <li> <p><code>memberName</code> (<code>string</code>) - Required.     The member name of a group obtained from the remote resource.</p> </li> <li> <p><code>privateIPAddress</code> (<code>string</code>) - Required.     A private IP address obtained from the private endpoint's subnet.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Specify the type of lock.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Specify the name of the lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Specify the notes of the lock.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     The name of the Private DNS Zone Group.</p> </li> <li> <p><code>privateDnsZoneGroupConfigs</code> (<code>array</code>) - Required.     The private DNS Zone Groups to associate the Private Endpoint.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Optional.   The name of the private DNS Zone Group config.</p> </li> <li> <p><code>privateDnsZoneResourceId</code> (<code>string</code>) - Required.   The resource ID of the private DNS zone.</p> </li> </ul> </li> <li> <p><code>privateDnsZoneGroupConfigs[*]</code> (<code>object</code>) - Optional.     Array item for keyVaultDefinition.privateEndpoints[*].privateDnsZoneGroup.privateDnsZoneGroupConfigs</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     The name of the private DNS Zone Group config.</p> </li> <li> <p><code>privateDnsZoneResourceId</code> (<code>string</code>) - Required.     The resource ID of the private DNS zone.</p> </li> <li> <p><code>publicNetworkAccess</code> (<code>string</code>) - Optional.   Whether or not public network access is allowed for this resource.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Array of role assignments to create at the vault level.</p> </li> <li> <p><code>secrets</code> (<code>array</code>) - Optional.   All secrets to create.</p> </li> <li> <p><code>attributes</code> (<code>object</code>) - Optional.     Contains attributes of the secret.</p> <ul> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Defines whether the secret is enabled or disabled.</p> </li> <li> <p><code>exp</code> (<code>int</code>) - Optional.   Expiration time of the secret, in epoch seconds.</p> </li> <li> <p><code>nbf</code> (<code>int</code>) - Optional.   Not-before time of the secret, in epoch seconds.</p> </li> </ul> </li> <li> <p><code>contentType</code> (<code>string</code>) - Optional.     The content type of the secret.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the secret.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Array of role assignments to create for the secret.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Resource tags for the secret.</p> </li> <li> <p><code>value</code> (<code>securestring</code>) - Required.     The value of the secret.</p> </li> <li> <p><code>secrets[*]</code> (<code>object</code>) - Optional.   Array item for keyVaultDefinition.secrets</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Defines whether the secret is enabled or disabled.</p> </li> <li> <p><code>exp</code> (<code>int</code>) - Optional.     Expiration time of the secret, in epoch seconds.</p> </li> <li> <p><code>nbf</code> (<code>int</code>) - Optional.     Not-before time of the secret, in epoch seconds.</p> </li> <li> <p><code>sku</code> (<code>string</code>) - Optional.   Specifies the SKU for the vault.</p> </li> <li> <p><code>softDeleteRetentionInDays</code> (<code>int</code>) - Optional.   Soft delete retention days (between 7 and 90).</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Resource tags for the vault.</p> </li> </ul>"},{"location":"bicep/parametrizing/#keyvaultprivatednszonedefinition","title":"<code>keyVaultPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>keyVaultPrivateDnsZoneDefinition</code> <code>object</code> Optional Key Vault Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for keyVaultPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for keyVaultPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for keyVaultPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#keyvaultprivateendpointdefinition","title":"<code>keyVaultPrivateEndpointDefinition</code>","text":"Parameter Type Required Description <code>keyVaultPrivateEndpointDefinition</code> <code>object</code> Optional Key Vault Private Endpoint configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for keyVaultPrivateEndpointDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for keyVaultPrivateEndpointDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for keyVaultPrivateEndpointDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#location","title":"<code>location</code>","text":"Parameter Type Required Description <code>location</code> <code>string</code> Optional Azure region for AI LZ resources. Defaults to the resource group location."},{"location":"bicep/parametrizing/#nsgdefinitions","title":"<code>nsgDefinitions</code>","text":"Parameter Type Required Description <code>nsgDefinitions</code> <code>object</code> Optional NSG definitions per subnet role; each entry deploys an NSG for that subnet when a non-empty NSG definition is provided. <p>Properties:</p> <ul> <li><code>acaEnvironment</code> (<code>object</code>) - Optional.   NSG definition applied to the Azure Container Apps environment (infrastructure) subnet.</li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.     Diagnostic settings to send NSG logs/metrics to Log Analytics, Event Hub, or Storage.</p> <ul> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.   Destination Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.   Destination Event Hub name when sending to Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.   Destination type for Log Analytics (AzureDiagnostics or Dedicated).</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.   List of categories and/or category groups to enable.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Whether this category/category group is enabled.</p> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.   Array item for nsgDefinitions.acaEnvironment.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.   Marketplace partner destination resource ID (if applicable).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the diagnostic settings resource.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.   Destination Storage Account resource ID.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.   Destination Log Analytics workspace resource ID.</p> </li> </ul> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.acaEnvironment.diagnosticSettings</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Whether this category/category group is enabled.</p> </li> </ul> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.     Enable or disable usage telemetry for this module. Default: true.</p> </li> <li> <p><code>flushConnection</code> (<code>bool</code>) - Optional.     When true, flows created from NSG connections are re-evaluated when rules are updated. Default: false.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     Azure region for the NSG. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.     Management lock configuration for the NSG.</p> <ul> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Lock type (None, CanNotDelete, or ReadOnly).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the management lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.   Notes describing the reason for the lock.</p> </li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the Network Security Group.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments to apply on the NSG.</p> <ul> <li> <p><code>condition</code> (<code>string</code>) - Optional.   Advanced condition expression for the assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.   Condition version. Use 2.0 when condition is provided.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.   Delegated managed identity resource ID (for cross-tenant scenarios).</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description for the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Stable GUID name of the role assignment (omit to auto-generate).</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.   Principal (object) ID for the assignment.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.   Principal type for the assignment.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.   Role to assign (name, GUID, or fully qualified role definition ID).</p> </li> </ul> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.acaEnvironment.roleAssignments</p> </li> <li> <p><code>securityRules</code> (<code>array</code>) - Optional.     Security rules to apply to the NSG. If omitted, only default rules are present.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the security rule.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.   Properties that define the behavior of the security rule.</p> </li> <li> <p><code>access</code> (<code>string</code>) - Required.     Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.     Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.     Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.     Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.     Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.     Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.     Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.     Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.     Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>securityRules[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.acaEnvironment.securityRules</p> <ul> <li> <p><code>access</code> (<code>string</code>) - Required.   Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.   Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.   Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.   Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.   Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.   Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.   Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.   Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.   Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags to apply to the NSG.</p> </li> <li> <p><code>agent</code> (<code>object</code>) - Optional.   NSG definition applied to the agent (workload) subnet.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.     Diagnostic settings to send NSG logs/metrics to Log Analytics, Event Hub, or Storage.</p> <ul> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.   Destination Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.   Destination Event Hub name when sending to Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.   Destination type for Log Analytics (AzureDiagnostics or Dedicated).</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.   List of categories and/or category groups to enable.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Whether this category/category group is enabled.</p> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.   Array item for nsgDefinitions.agent.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.   Marketplace partner destination resource ID (if applicable).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the diagnostic settings resource.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.   Destination Storage Account resource ID.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.   Destination Log Analytics workspace resource ID.</p> </li> </ul> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.agent.diagnosticSettings</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Whether this category/category group is enabled.</p> </li> </ul> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.     Enable or disable usage telemetry for this module. Default: true.</p> </li> <li> <p><code>flushConnection</code> (<code>bool</code>) - Optional.     When true, flows created from NSG connections are re-evaluated when rules are updated. Default: false.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     Azure region for the NSG. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.     Management lock configuration for the NSG.</p> <ul> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Lock type (None, CanNotDelete, or ReadOnly).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the management lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.   Notes describing the reason for the lock.</p> </li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the Network Security Group.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments to apply on the NSG.</p> <ul> <li> <p><code>condition</code> (<code>string</code>) - Optional.   Advanced condition expression for the assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.   Condition version. Use 2.0 when condition is provided.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.   Delegated managed identity resource ID (for cross-tenant scenarios).</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description for the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Stable GUID name of the role assignment (omit to auto-generate).</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.   Principal (object) ID for the assignment.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.   Principal type for the assignment.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.   Role to assign (name, GUID, or fully qualified role definition ID).</p> </li> </ul> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.agent.roleAssignments</p> </li> <li> <p><code>securityRules</code> (<code>array</code>) - Optional.     Security rules to apply to the NSG. If omitted, only default rules are present.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the security rule.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.   Properties that define the behavior of the security rule.</p> </li> <li> <p><code>access</code> (<code>string</code>) - Required.     Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.     Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.     Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.     Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.     Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.     Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.     Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.     Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.     Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>securityRules[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.agent.securityRules</p> <ul> <li> <p><code>access</code> (<code>string</code>) - Required.   Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.   Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.   Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.   Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.   Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.   Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.   Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.   Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.   Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags to apply to the NSG.</p> </li> <li> <p><code>apiManagement</code> (<code>object</code>) - Optional.   NSG definition applied to the API Management subnet.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.     Diagnostic settings to send NSG logs/metrics to Log Analytics, Event Hub, or Storage.</p> <ul> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.   Destination Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.   Destination Event Hub name when sending to Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.   Destination type for Log Analytics (AzureDiagnostics or Dedicated).</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.   List of categories and/or category groups to enable.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Whether this category/category group is enabled.</p> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.   Array item for nsgDefinitions.apiManagement.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.   Marketplace partner destination resource ID (if applicable).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the diagnostic settings resource.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.   Destination Storage Account resource ID.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.   Destination Log Analytics workspace resource ID.</p> </li> </ul> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.apiManagement.diagnosticSettings</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Whether this category/category group is enabled.</p> </li> </ul> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.     Enable or disable usage telemetry for this module. Default: true.</p> </li> <li> <p><code>flushConnection</code> (<code>bool</code>) - Optional.     When true, flows created from NSG connections are re-evaluated when rules are updated. Default: false.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     Azure region for the NSG. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.     Management lock configuration for the NSG.</p> <ul> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Lock type (None, CanNotDelete, or ReadOnly).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the management lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.   Notes describing the reason for the lock.</p> </li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the Network Security Group.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments to apply on the NSG.</p> <ul> <li> <p><code>condition</code> (<code>string</code>) - Optional.   Advanced condition expression for the assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.   Condition version. Use 2.0 when condition is provided.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.   Delegated managed identity resource ID (for cross-tenant scenarios).</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description for the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Stable GUID name of the role assignment (omit to auto-generate).</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.   Principal (object) ID for the assignment.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.   Principal type for the assignment.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.   Role to assign (name, GUID, or fully qualified role definition ID).</p> </li> </ul> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.apiManagement.roleAssignments</p> </li> <li> <p><code>securityRules</code> (<code>array</code>) - Optional.     Security rules to apply to the NSG. If omitted, only default rules are present.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the security rule.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.   Properties that define the behavior of the security rule.</p> </li> <li> <p><code>access</code> (<code>string</code>) - Required.     Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.     Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.     Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.     Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.     Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.     Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.     Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.     Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.     Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>securityRules[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.apiManagement.securityRules</p> <ul> <li> <p><code>access</code> (<code>string</code>) - Required.   Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.   Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.   Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.   Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.   Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.   Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.   Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.   Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.   Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags to apply to the NSG.</p> </li> <li> <p><code>applicationGateway</code> (<code>object</code>) - Optional.   NSG definition applied to the Application Gateway subnet.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.     Diagnostic settings to send NSG logs/metrics to Log Analytics, Event Hub, or Storage.</p> <ul> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.   Destination Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.   Destination Event Hub name when sending to Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.   Destination type for Log Analytics (AzureDiagnostics or Dedicated).</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.   List of categories and/or category groups to enable.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Whether this category/category group is enabled.</p> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.   Array item for nsgDefinitions.applicationGateway.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.   Marketplace partner destination resource ID (if applicable).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the diagnostic settings resource.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.   Destination Storage Account resource ID.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.   Destination Log Analytics workspace resource ID.</p> </li> </ul> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.applicationGateway.diagnosticSettings</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Whether this category/category group is enabled.</p> </li> </ul> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.     Enable or disable usage telemetry for this module. Default: true.</p> </li> <li> <p><code>flushConnection</code> (<code>bool</code>) - Optional.     When true, flows created from NSG connections are re-evaluated when rules are updated. Default: false.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     Azure region for the NSG. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.     Management lock configuration for the NSG.</p> <ul> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Lock type (None, CanNotDelete, or ReadOnly).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the management lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.   Notes describing the reason for the lock.</p> </li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the Network Security Group.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments to apply on the NSG.</p> <ul> <li> <p><code>condition</code> (<code>string</code>) - Optional.   Advanced condition expression for the assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.   Condition version. Use 2.0 when condition is provided.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.   Delegated managed identity resource ID (for cross-tenant scenarios).</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description for the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Stable GUID name of the role assignment (omit to auto-generate).</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.   Principal (object) ID for the assignment.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.   Principal type for the assignment.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.   Role to assign (name, GUID, or fully qualified role definition ID).</p> </li> </ul> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.applicationGateway.roleAssignments</p> </li> <li> <p><code>securityRules</code> (<code>array</code>) - Optional.     Security rules to apply to the NSG. If omitted, only default rules are present.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the security rule.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.   Properties that define the behavior of the security rule.</p> </li> <li> <p><code>access</code> (<code>string</code>) - Required.     Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.     Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.     Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.     Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.     Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.     Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.     Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.     Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.     Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>securityRules[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.applicationGateway.securityRules</p> <ul> <li> <p><code>access</code> (<code>string</code>) - Required.   Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.   Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.   Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.   Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.   Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.   Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.   Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.   Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.   Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags to apply to the NSG.</p> </li> <li> <p><code>bastion</code> (<code>object</code>) - Optional.   NSG definition applied to the Bastion subnet.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.     Diagnostic settings to send NSG logs/metrics to Log Analytics, Event Hub, or Storage.</p> <ul> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.   Destination Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.   Destination Event Hub name when sending to Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.   Destination type for Log Analytics (AzureDiagnostics or Dedicated).</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.   List of categories and/or category groups to enable.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Whether this category/category group is enabled.</p> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.   Array item for nsgDefinitions.bastion.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.   Marketplace partner destination resource ID (if applicable).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the diagnostic settings resource.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.   Destination Storage Account resource ID.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.   Destination Log Analytics workspace resource ID.</p> </li> </ul> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.bastion.diagnosticSettings</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Whether this category/category group is enabled.</p> </li> </ul> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.     Enable or disable usage telemetry for this module. Default: true.</p> </li> <li> <p><code>flushConnection</code> (<code>bool</code>) - Optional.     When true, flows created from NSG connections are re-evaluated when rules are updated. Default: false.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     Azure region for the NSG. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.     Management lock configuration for the NSG.</p> <ul> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Lock type (None, CanNotDelete, or ReadOnly).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the management lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.   Notes describing the reason for the lock.</p> </li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the Network Security Group.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments to apply on the NSG.</p> <ul> <li> <p><code>condition</code> (<code>string</code>) - Optional.   Advanced condition expression for the assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.   Condition version. Use 2.0 when condition is provided.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.   Delegated managed identity resource ID (for cross-tenant scenarios).</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description for the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Stable GUID name of the role assignment (omit to auto-generate).</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.   Principal (object) ID for the assignment.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.   Principal type for the assignment.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.   Role to assign (name, GUID, or fully qualified role definition ID).</p> </li> </ul> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.bastion.roleAssignments</p> </li> <li> <p><code>securityRules</code> (<code>array</code>) - Optional.     Security rules to apply to the NSG. If omitted, only default rules are present.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the security rule.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.   Properties that define the behavior of the security rule.</p> </li> <li> <p><code>access</code> (<code>string</code>) - Required.     Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.     Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.     Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.     Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.     Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.     Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.     Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.     Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.     Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>securityRules[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.bastion.securityRules</p> <ul> <li> <p><code>access</code> (<code>string</code>) - Required.   Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.   Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.   Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.   Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.   Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.   Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.   Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.   Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.   Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags to apply to the NSG.</p> </li> <li> <p><code>devopsBuildAgents</code> (<code>object</code>) - Optional.   NSG definition applied to the DevOps build agents subnet.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.     Diagnostic settings to send NSG logs/metrics to Log Analytics, Event Hub, or Storage.</p> <ul> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.   Destination Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.   Destination Event Hub name when sending to Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.   Destination type for Log Analytics (AzureDiagnostics or Dedicated).</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.   List of categories and/or category groups to enable.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Whether this category/category group is enabled.</p> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.   Array item for nsgDefinitions.devopsBuildAgents.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.   Marketplace partner destination resource ID (if applicable).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the diagnostic settings resource.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.   Destination Storage Account resource ID.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.   Destination Log Analytics workspace resource ID.</p> </li> </ul> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.devopsBuildAgents.diagnosticSettings</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Whether this category/category group is enabled.</p> </li> </ul> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.     Enable or disable usage telemetry for this module. Default: true.</p> </li> <li> <p><code>flushConnection</code> (<code>bool</code>) - Optional.     When true, flows created from NSG connections are re-evaluated when rules are updated. Default: false.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     Azure region for the NSG. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.     Management lock configuration for the NSG.</p> <ul> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Lock type (None, CanNotDelete, or ReadOnly).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the management lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.   Notes describing the reason for the lock.</p> </li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the Network Security Group.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments to apply on the NSG.</p> <ul> <li> <p><code>condition</code> (<code>string</code>) - Optional.   Advanced condition expression for the assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.   Condition version. Use 2.0 when condition is provided.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.   Delegated managed identity resource ID (for cross-tenant scenarios).</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description for the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Stable GUID name of the role assignment (omit to auto-generate).</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.   Principal (object) ID for the assignment.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.   Principal type for the assignment.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.   Role to assign (name, GUID, or fully qualified role definition ID).</p> </li> </ul> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.devopsBuildAgents.roleAssignments</p> </li> <li> <p><code>securityRules</code> (<code>array</code>) - Optional.     Security rules to apply to the NSG. If omitted, only default rules are present.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the security rule.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.   Properties that define the behavior of the security rule.</p> </li> <li> <p><code>access</code> (<code>string</code>) - Required.     Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.     Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.     Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.     Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.     Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.     Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.     Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.     Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.     Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>securityRules[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.devopsBuildAgents.securityRules</p> <ul> <li> <p><code>access</code> (<code>string</code>) - Required.   Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.   Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.   Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.   Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.   Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.   Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.   Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.   Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.   Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags to apply to the NSG.</p> </li> <li> <p><code>jumpbox</code> (<code>object</code>) - Optional.   NSG definition applied to the jumpbox (bastion-accessed) subnet.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.     Diagnostic settings to send NSG logs/metrics to Log Analytics, Event Hub, or Storage.</p> <ul> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.   Destination Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.   Destination Event Hub name when sending to Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.   Destination type for Log Analytics (AzureDiagnostics or Dedicated).</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.   List of categories and/or category groups to enable.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Whether this category/category group is enabled.</p> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.   Array item for nsgDefinitions.jumpbox.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.   Marketplace partner destination resource ID (if applicable).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the diagnostic settings resource.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.   Destination Storage Account resource ID.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.   Destination Log Analytics workspace resource ID.</p> </li> </ul> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.jumpbox.diagnosticSettings</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Whether this category/category group is enabled.</p> </li> </ul> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.     Enable or disable usage telemetry for this module. Default: true.</p> </li> <li> <p><code>flushConnection</code> (<code>bool</code>) - Optional.     When true, flows created from NSG connections are re-evaluated when rules are updated. Default: false.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     Azure region for the NSG. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.     Management lock configuration for the NSG.</p> <ul> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Lock type (None, CanNotDelete, or ReadOnly).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the management lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.   Notes describing the reason for the lock.</p> </li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the Network Security Group.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments to apply on the NSG.</p> <ul> <li> <p><code>condition</code> (<code>string</code>) - Optional.   Advanced condition expression for the assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.   Condition version. Use 2.0 when condition is provided.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.   Delegated managed identity resource ID (for cross-tenant scenarios).</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description for the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Stable GUID name of the role assignment (omit to auto-generate).</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.   Principal (object) ID for the assignment.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.   Principal type for the assignment.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.   Role to assign (name, GUID, or fully qualified role definition ID).</p> </li> </ul> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.jumpbox.roleAssignments</p> </li> <li> <p><code>securityRules</code> (<code>array</code>) - Optional.     Security rules to apply to the NSG. If omitted, only default rules are present.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the security rule.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.   Properties that define the behavior of the security rule.</p> </li> <li> <p><code>access</code> (<code>string</code>) - Required.     Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.     Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.     Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.     Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.     Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.     Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.     Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.     Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.     Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>securityRules[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.jumpbox.securityRules</p> <ul> <li> <p><code>access</code> (<code>string</code>) - Required.   Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.   Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.   Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.   Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.   Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.   Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.   Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.   Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.   Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags to apply to the NSG.</p> </li> <li> <p><code>pe</code> (<code>object</code>) - Optional.   NSG definition applied to the private endpoints (PE) subnet.</p> </li> <li> <p><code>diagnosticSettings</code> (<code>array</code>) - Optional.     Diagnostic settings to send NSG logs/metrics to Log Analytics, Event Hub, or Storage.</p> <ul> <li> <p><code>eventHubAuthorizationRuleResourceId</code> (<code>string</code>) - Optional.   Destination Event Hub authorization rule resource ID.</p> </li> <li> <p><code>eventHubName</code> (<code>string</code>) - Optional.   Destination Event Hub name when sending to Event Hub.</p> </li> <li> <p><code>logAnalyticsDestinationType</code> (<code>string</code>) - Optional.   Destination type for Log Analytics (AzureDiagnostics or Dedicated).</p> </li> <li> <p><code>logCategoriesAndGroups</code> (<code>array</code>) - Optional.   List of categories and/or category groups to enable.</p> </li> <li> <p><code>category</code> (<code>string</code>) - Optional.     Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.     Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.     Whether this category/category group is enabled.</p> </li> <li> <p><code>logCategoriesAndGroups[*]</code> (<code>object</code>) - Optional.   Array item for nsgDefinitions.pe.diagnosticSettings[*].logCategoriesAndGroups</p> </li> <li> <p><code>marketplacePartnerResourceId</code> (<code>string</code>) - Optional.   Marketplace partner destination resource ID (if applicable).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the diagnostic settings resource.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.   Destination Storage Account resource ID.</p> </li> <li> <p><code>workspaceResourceId</code> (<code>string</code>) - Optional.   Destination Log Analytics workspace resource ID.</p> </li> </ul> </li> <li> <p><code>diagnosticSettings[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.pe.diagnosticSettings</p> <ul> <li> <p><code>category</code> (<code>string</code>) - Optional.   Single diagnostic log category to enable.</p> </li> <li> <p><code>categoryGroup</code> (<code>string</code>) - Optional.   Category group (e.g., AllMetrics) to enable.</p> </li> <li> <p><code>enabled</code> (<code>bool</code>) - Optional.   Whether this category/category group is enabled.</p> </li> </ul> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.     Enable or disable usage telemetry for this module. Default: true.</p> </li> <li> <p><code>flushConnection</code> (<code>bool</code>) - Optional.     When true, flows created from NSG connections are re-evaluated when rules are updated. Default: false.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.     Azure region for the NSG. Defaults to the resource group location.</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.     Management lock configuration for the NSG.</p> <ul> <li> <p><code>kind</code> (<code>string</code>) - Optional.   Lock type (None, CanNotDelete, or ReadOnly).</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Name of the management lock.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.   Notes describing the reason for the lock.</p> </li> </ul> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name of the Network Security Group.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.     Role assignments to apply on the NSG.</p> <ul> <li> <p><code>condition</code> (<code>string</code>) - Optional.   Advanced condition expression for the assignment.</p> </li> <li> <p><code>conditionVersion</code> (<code>string</code>) - Optional.   Condition version. Use 2.0 when condition is provided.</p> </li> <li> <p><code>delegatedManagedIdentityResourceId</code> (<code>string</code>) - Optional.   Delegated managed identity resource ID (for cross-tenant scenarios).</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Description for the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.   Stable GUID name of the role assignment (omit to auto-generate).</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.   Principal (object) ID for the assignment.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.   Principal type for the assignment.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.   Role to assign (name, GUID, or fully qualified role definition ID).</p> </li> </ul> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.pe.roleAssignments</p> </li> <li> <p><code>securityRules</code> (<code>array</code>) - Optional.     Security rules to apply to the NSG. If omitted, only default rules are present.</p> <ul> <li> <p><code>name</code> (<code>string</code>) - Required.   Name of the security rule.</p> </li> <li> <p><code>properties</code> (<code>object</code>) - Required.   Properties that define the behavior of the security rule.</p> </li> <li> <p><code>access</code> (<code>string</code>) - Required.     Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.     Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.     Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.     Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.     Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.     Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.     Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.     Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.     Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.     Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.     Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.     Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>securityRules[*]</code> (<code>object</code>) - Optional.     Array item for nsgDefinitions.pe.securityRules</p> <ul> <li> <p><code>access</code> (<code>string</code>) - Required.   Whether matching traffic is allowed or denied.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.   Free-form description for the rule.</p> </li> <li> <p><code>destinationAddressPrefix</code> (<code>string</code>) - Optional.   Single destination address prefix (e.g., 10.0.0.0/24, VirtualNetwork).</p> </li> <li> <p><code>destinationAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple destination address prefixes.</p> </li> <li> <p><code>destinationApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Destination Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>destinationPortRange</code> (<code>string</code>) - Optional.   Single destination port or port range (e.g., 443, 1000-2000).</p> </li> <li> <p><code>destinationPortRanges</code> (<code>array</code>) - Optional.   Multiple destination ports or port ranges.</p> </li> <li> <p><code>direction</code> (<code>string</code>) - Required.   Direction of the rule (Inbound or Outbound).</p> </li> <li> <p><code>priority</code> (<code>int</code>) - Required.   Priority of the rule (100\u20134096). Must be unique per rule in the NSG.</p> </li> <li> <p><code>protocol</code> (<code>string</code>) - Required.   Network protocol to match.</p> </li> <li> <p><code>sourceAddressPrefix</code> (<code>string</code>) - Optional.   Single source address prefix (e.g., Internet, 10.0.0.0/24).</p> </li> <li> <p><code>sourceAddressPrefixes</code> (<code>array</code>) - Optional.   Multiple source address prefixes.</p> </li> <li> <p><code>sourceApplicationSecurityGroupResourceIds</code> (<code>array</code>) - Optional.   Source Application Security Group (ASG) resource IDs.</p> </li> <li> <p><code>sourcePortRange</code> (<code>string</code>) - Optional.   Single source port or port range.</p> </li> <li> <p><code>sourcePortRanges</code> (<code>array</code>) - Optional.   Multiple source ports or port ranges.</p> </li> </ul> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags to apply to the NSG.</p> </li> </ul>"},{"location":"bicep/parametrizing/#openaiprivatednszonedefinition","title":"<code>openAiPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>openAiPrivateDnsZoneDefinition</code> <code>object</code> Optional OpenAI Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for openAiPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for openAiPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for openAiPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#privatednszonesdefinition","title":"<code>privateDnsZonesDefinition</code>","text":"Parameter Type Required Description <code>privateDnsZonesDefinition</code> <code>object</code> Optional Private DNS Zone configuration for private endpoints. Used when not in platform landing zone mode. <p>Properties:</p> <ul> <li> <p><code>acrZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for Azure Container Registry.</p> </li> <li> <p><code>aiServicesZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for AI Services.</p> </li> <li> <p><code>allowInternetResolutionFallback</code> (<code>bool</code>) - Optional.   Allow fallback to internet DNS resolution when Private DNS is unavailable.</p> </li> <li> <p><code>apimZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for Azure API Management.</p> </li> <li> <p><code>appConfigZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for App Configuration.</p> </li> <li> <p><code>appInsightsZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for Application Insights.</p> </li> <li> <p><code>blobZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for Blob Storage.</p> </li> <li> <p><code>cognitiveservicesZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for Cognitive Services.</p> </li> <li> <p><code>containerAppsZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for Container Apps.</p> </li> <li> <p><code>cosmosSqlZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for Cosmos DB (SQL API).</p> </li> <li> <p><code>createNetworkLinks</code> (<code>bool</code>) - Optional.   Create VNet link to associate Spoke with the zones (can be empty).</p> </li> <li> <p><code>keyVaultZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for Key Vault.</p> </li> <li> <p><code>openaiZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for Azure OpenAI.</p> </li> <li> <p><code>searchZoneId</code> (<code>string</code>) - Optional.   Existing Private DNS Zone resource ID for Azure Cognitive Search.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags to apply to the Private DNS Zones.</p> </li> </ul>"},{"location":"bicep/parametrizing/#resourceids","title":"<code>resourceIds</code>","text":"Parameter Type Required Description <code>resourceIds</code> <code>object</code> Optional Existing resource IDs to reuse (can be empty). <p>Note: AI Foundry dependency resources (AI Search, Storage, Cosmos DB) are treated as separate resources from the GenAI App backing services. To have AI Foundry reuse existing dependency resources, provide the <code>aiFoundry*</code> resource IDs below. Otherwise, leave them empty and the AI Foundry component will create its own dependencies when <code>aiFoundryDefinition.includeAssociatedResources = true</code>.</p> <p>Properties:</p> <ul> <li> <p><code>acaEnvironmentNsgResourceId</code> (<code>string</code>) - Optional.   Existing NSG resource ID to reuse for the Azure Container Apps environment subnet.</p> </li> <li> <p><code>agentNsgResourceId</code> (<code>string</code>) - Optional.   Existing NSG resource ID to reuse for the agent (workload) subnet.</p> </li> <li> <p><code>apiManagementNsgResourceId</code> (<code>string</code>) - Optional.   Existing NSG resource ID to reuse for the API Management subnet.</p> </li> <li> <p><code>apimServiceResourceId</code> (<code>string</code>) - Optional.   Existing API Management service resource ID to reuse.</p> </li> <li> <p><code>appConfigResourceId</code> (<code>string</code>) - Optional.   Existing App Configuration store resource ID to reuse.</p> </li> <li> <p><code>appGatewayPublicIpResourceId</code> (<code>string</code>) - Optional.   Existing Public IP resource ID to reuse for the Application Gateway.</p> </li> <li> <p><code>appInsightsResourceId</code> (<code>string</code>) - Optional.   Existing Application Insights resource ID to reuse.</p> </li> <li> <p><code>applicationGatewayNsgResourceId</code> (<code>string</code>) - Optional.   Existing NSG resource ID to reuse for the Application Gateway subnet.</p> </li> <li> <p><code>applicationGatewayResourceId</code> (<code>string</code>) - Optional.   Existing Application Gateway resource ID to reuse.</p> </li> <li> <p><code>bastionHostResourceId</code> (<code>string</code>) - Optional.   Existing Azure Bastion resource ID to reuse; leave empty to skip.</p> </li> <li> <p><code>bastionNsgResourceId</code> (<code>string</code>) - Optional.   Existing NSG resource ID to reuse for the Bastion host subnet.</p> </li> <li> <p><code>containerEnvResourceId</code> (<code>string</code>) - Optional.   Existing Container Apps Environment resource ID to reuse.</p> </li> <li> <p><code>containerRegistryResourceId</code> (<code>string</code>) - Optional.   Existing Azure Container Registry resource ID to reuse.</p> </li> <li> <p><code>dbAccountResourceId</code> (<code>string</code>) - Optional.   Existing Cosmos DB account resource ID to reuse.</p> </li> <li> <p><code>devopsBuildAgentsNsgResourceId</code> (<code>string</code>) - Optional.   Existing NSG resource ID to reuse for the DevOps build agents subnet.</p> </li> <li> <p><code>firewallPolicyResourceId</code> (<code>string</code>) - Optional.   Existing Azure Firewall Policy resource ID to reuse.</p> </li> <li> <p><code>firewallPublicIpResourceId</code> (<code>string</code>) - Optional.   Existing Public IP resource ID to reuse for the Azure Firewall.</p> </li> <li> <p><code>firewallResourceId</code> (<code>string</code>) - Optional.   Existing Azure Firewall resource ID to reuse.</p> </li> <li> <p><code>groundingServiceResourceId</code> (<code>string</code>) - Optional.   Existing Grounding service resource ID to reuse.</p> </li> <li> <p><code>jumpboxNsgResourceId</code> (<code>string</code>) - Optional.   Existing NSG resource ID to reuse for the jumpbox (bastion-accessed) subnet.</p> </li> <li> <p><code>keyVaultResourceId</code> (<code>string</code>) - Optional.   Existing Key Vault resource ID to reuse.</p> </li> <li> <p><code>logAnalyticsWorkspaceResourceId</code> (<code>string</code>) - Optional.   Existing Log Analytics Workspace resource ID to reuse.</p> </li> <li> <p><code>peNsgResourceId</code> (<code>string</code>) - Optional.   Existing NSG resource ID to reuse for the private endpoints (PE) subnet.</p> </li> <li> <p><code>aiFoundrySearchServiceResourceId</code> (<code>string</code>) - Optional.   Existing Azure AI Search service resource ID to reuse for AI Foundry dependencies.</p> </li> <li> <p><code>aiFoundryStorageAccountResourceId</code> (<code>string</code>) - Optional.   Existing Storage Account resource ID to reuse for AI Foundry dependencies.</p> </li> <li> <p><code>aiFoundryCosmosDBAccountResourceId</code> (<code>string</code>) - Optional.   Existing Cosmos DB account resource ID to reuse for AI Foundry dependencies.</p> </li> <li> <p><code>aiFoundryKeyVaultResourceId</code> (<code>string</code>) - Optional.   Existing Key Vault resource ID to reuse for AI Foundry dependencies. If empty and <code>aiFoundryDefinition.includeAssociatedResources=true</code>, the AI Foundry component creates its own Key Vault named <code>kv-&lt;aiAccountName&gt;</code> (truncated to meet Key Vault naming limits).</p> </li> <li> <p><code>searchServiceResourceId</code> (<code>string</code>) - Optional.   Existing Azure AI Search service resource ID to reuse.</p> </li> <li> <p><code>storageAccountResourceId</code> (<code>string</code>) - Optional.   Existing Storage Account resource ID to reuse.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Optional.   Existing VNet resource ID to reuse; leave empty to create a new VNet.</p> </li> </ul>"},{"location":"bicep/parametrizing/#resourcetoken","title":"<code>resourceToken</code>","text":"Parameter Type Required Description <code>resourceToken</code> <code>string</code> Optional Deterministic token for resource names; auto-generated if not provided."},{"location":"bicep/parametrizing/#searchprivatednszonedefinition","title":"<code>searchPrivateDnsZoneDefinition</code>","text":"Parameter Type Required Description <code>searchPrivateDnsZoneDefinition</code> <code>object</code> Optional Azure AI Search Private DNS Zone configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for searchPrivateDnsZoneDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for searchPrivateDnsZoneDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for searchPrivateDnsZoneDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#searchprivateendpointdefinition","title":"<code>searchPrivateEndpointDefinition</code>","text":"Parameter Type Required Description <code>searchPrivateEndpointDefinition</code> <code>object</code> Optional Azure AI Search Private Endpoint configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for searchPrivateEndpointDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for searchPrivateEndpointDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for searchPrivateEndpointDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#storageblobprivateendpointdefinition","title":"<code>storageBlobPrivateEndpointDefinition</code>","text":"Parameter Type Required Description <code>storageBlobPrivateEndpointDefinition</code> <code>object</code> Optional Storage Account Private Endpoint configuration. <p>Properties:</p> <ul> <li><code>a</code> (<code>array</code>) - Optional.   A list of DNS zone records to create.</li> <li> <p><code>ipv4Addresses</code> (<code>array</code>) - Required.     List of IPv4 addresses.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     Name of the A record.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the A record.</p> </li> <li> <p><code>ttl</code> (<code>int</code>) - Optional.     Time-to-live for the record.</p> </li> <li> <p><code>a[*]</code> (<code>object</code>) - Optional.   Array item for storageBlobPrivateEndpointDefinition.a</p> </li> <li> <p><code>enableTelemetry</code> (<code>bool</code>) - Optional.   Enable/Disable usage telemetry for the module.</p> </li> <li> <p><code>location</code> (<code>string</code>) - Optional.   Location for the resource. Defaults to \"global\".</p> </li> <li> <p><code>lock</code> (<code>object</code>) - Optional.   Lock configuration for the Private DNS Zone.</p> </li> <li> <p><code>kind</code> (<code>string</code>) - Optional.     Lock type.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Lock name.</p> </li> <li> <p><code>notes</code> (<code>string</code>) - Optional.     Lock notes.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.   The name of the Private DNS Zone.</p> </li> <li> <p><code>roleAssignments</code> (<code>array</code>) - Optional.   Role assignments for the Private DNS Zone.</p> </li> <li> <p><code>description</code> (<code>string</code>) - Optional.     Description of the role assignment.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Optional.     Name for the role assignment.</p> </li> <li> <p><code>principalId</code> (<code>string</code>) - Required.     Principal ID to assign the role to.</p> </li> <li> <p><code>principalType</code> (<code>string</code>) - Optional.     Principal type.</p> </li> <li> <p><code>roleDefinitionIdOrName</code> (<code>string</code>) - Required.     Role definition ID or name.</p> </li> <li> <p><code>roleAssignments[*]</code> (<code>object</code>) - Optional.   Array item for storageBlobPrivateEndpointDefinition.roleAssignments</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.   Tags for the Private DNS Zone.</p> </li> <li> <p><code>virtualNetworkLinks</code> (<code>array</code>) - Optional.   Virtual network links to create for the Private DNS Zone.</p> </li> <li> <p><code>name</code> (<code>string</code>) - Required.     The name of the virtual network link.</p> </li> <li> <p><code>registrationEnabled</code> (<code>bool</code>) - Optional.     Whether to enable auto-registration of virtual machine records in the zone.</p> </li> <li> <p><code>tags</code> (<code>object</code>) - Optional.     Tags for the virtual network link.</p> </li> <li> <p><code>virtualNetworkResourceId</code> (<code>string</code>) - Required.     Resource ID of the virtual network to link.</p> </li> <li> <p><code>virtualNetworkLinks[*]</code> (<code>object</code>) - Optional.   Array item for storageBlobPrivateEndpointDefinition.virtualNetworkLinks</p> </li> </ul>"},{"location":"bicep/parametrizing/#tags","title":"<code>tags</code>","text":"Parameter Type Required Description <code>tags</code> <code>object</code> Optional Tags to apply to all resources."},{"location":"bicep/parametrizing/#outputs","title":"Outputs","text":"Output Name Type Description <code>acaEnvironmentNsgResourceId</code> string Azure Container Apps Environment subnet Network Security Group resource ID (newly created or existing). <code>acrPrivateDnsZoneResourceId</code> string Container Registry Private DNS Zone resource ID (newly created or existing). <code>agentNsgResourceId</code> string Agent subnet Network Security Group resource ID (newly created or existing). <code>aiFoundryAiServicesName</code> string AI Foundry AI Services name. <code>aiFoundryCosmosAccountName</code> string AI Foundry Cosmos DB account name. <code>aiFoundryKeyVaultName</code> string AI Foundry Key Vault name. <code>aiFoundryProjectName</code> string AI Foundry project name. <code>aiFoundryResourceGroupName</code> string AI Foundry resource group name. <code>aiFoundrySearchServiceName</code> string AI Foundry AI Search service name. <code>aiFoundryStorageAccountName</code> string AI Foundry Storage Account name. <code>aiSearchName</code> string AI Search name. <code>aiSearchResourceId</code> string AI Search resource ID. <code>aiServicesPrivateDnsZoneResourceId</code> string AI Services Private DNS Zone resource ID (newly created or existing). <code>apiManagementNsgResourceId</code> string API Management subnet Network Security Group resource ID (newly created or existing). <code>apimPrivateDnsZoneResourceId</code> string API Management Private DNS Zone resource ID (newly created or existing). <code>apimServiceName</code> string API Management service name. <code>apimServiceResourceId</code> string API Management service resource ID. <code>appConfigPrivateDnsZoneResourceId</code> string App Configuration Private DNS Zone resource ID (newly created or existing). <code>appConfigResourceId</code> string App Configuration Store resource ID. <code>appGatewayPublicIpResourceId</code> string Application Gateway Public IP resource ID (newly created or existing). <code>appInsightsPrivateDnsZoneResourceId</code> string Application Insights Private DNS Zone resource ID (newly created or existing). <code>appInsightsResourceId</code> string Application Insights resource ID. <code>applicationGatewayName</code> string Application Gateway name. <code>applicationGatewayNsgResourceId</code> string Application Gateway subnet Network Security Group resource ID (newly created or existing). <code>applicationGatewayResourceId</code> string Application Gateway resource ID (newly created or existing). <code>bingConnectionId</code> string Bing Search connection ID (if deployed). <code>bingResourceGroupName</code> string Bing Search resource group name (if deployed). <code>bingSearchResourceId</code> string Bing Search service resource ID (if deployed). <code>blobPrivateDnsZoneResourceId</code> string Blob Storage Private DNS Zone resource ID (newly created or existing). <code>buildVmName</code> string Build VM name (if deployed). <code>buildVmResourceId</code> string Build VM resource ID (if deployed). <code>cognitiveServicesPrivateDnsZoneResourceId</code> string Cognitive Services Private DNS Zone resource ID (newly created or existing). <code>containerAppsCount</code> int Container Apps deployment count. <code>containerAppsPrivateDnsZoneResourceId</code> string Container Apps Private DNS Zone resource ID (newly created or existing). <code>containerEnvResourceId</code> string Container App Environment resource ID. <code>containerRegistryResourceId</code> string Container Registry resource ID. <code>cosmosDbName</code> string Cosmos DB name. <code>cosmosDbResourceId</code> string Cosmos DB resource ID. <code>cosmosSqlPrivateDnsZoneResourceId</code> string Cosmos DB (SQL API) Private DNS Zone resource ID (newly created or existing). <code>devopsBuildAgentsNsgResourceId</code> string DevOps Build Agents subnet Network Security Group resource ID (newly created or existing). <code>firewallName</code> string Azure Firewall name. <code>firewallPolicyName</code> string Azure Firewall Policy name (if deployed). <code>firewallPolicyResourceId</code> string Azure Firewall Policy resource ID (if deployed). <code>firewallPrivateIp</code> string Azure Firewall private IP address (if deployed). <code>firewallPublicIpResourceId</code> string Firewall Public IP resource ID (newly created or existing). <code>firewallResourceId</code> string Azure Firewall resource ID (newly created or existing). <code>hubToSpokePeeringResourceId</code> string Hub to Spoke peering resource ID (if hub peering is enabled). <code>jumpboxNsgResourceId</code> string Jumpbox subnet Network Security Group resource ID (newly created or existing). <code>jumpVmName</code> string Jump VM name (if deployed). <code>jumpVmResourceId</code> string Jump VM resource ID (if deployed). <code>keyVaultName</code> string Key Vault name. <code>keyVaultPrivateDnsZoneResourceId</code> string Key Vault Private DNS Zone resource ID (newly created or existing). <code>keyVaultResourceId</code> string Key Vault resource ID. <code>logAnalyticsWorkspaceResourceId</code> string Log Analytics workspace resource ID. <code>openAiPrivateDnsZoneResourceId</code> string OpenAI Private DNS Zone resource ID (newly created or existing). <code>peNsgResourceId</code> string Private Endpoints subnet Network Security Group resource ID (newly created or existing). <code>searchPrivateDnsZoneResourceId</code> string Azure AI Search Private DNS Zone resource ID (newly created or existing). <code>storageAccountResourceId</code> string Storage Account resource ID. <code>virtualNetworkResourceId</code> string Virtual Network resource ID (newly created or existing). <code>wafPolicyName</code> string WAF Policy name (if deployed). <code>wafPolicyResourceId</code> string WAF Policy resource ID (if deployed)."},{"location":"bicep/parametrizing/#avm-modules","title":"AVM Modules","text":"Module Version <code>avm/res/api-management/service</code> 0.13.0 <code>avm/res/app-configuration/configuration-store</code> 0.9.2 <code>avm/res/app/container-app</code> 0.18.1 <code>avm/res/app/managed-environment</code> 0.11.3 <code>avm/res/compute/virtual-machine</code> 0.20.0 <code>avm/res/container-registry/registry</code> 0.9.3 <code>avm/res/document-db/database-account</code> 0.16.0 <code>avm/res/insights/component</code> 0.6.0 <code>avm/res/key-vault/vault</code> 0.13.3 <code>avm/res/maintenance/maintenance-configuration</code> 0.3.1 <code>avm/res/network/application-gateway</code> 0.7.2 <code>avm/res/network/azure-firewall</code> 0.8.0 <code>avm/res/network/firewall-policy</code> 0.3.1 <code>avm/res/network/network-security-group</code> 0.5.1 <code>avm/res/network/private-dns-zone</code> 0.8.0 <code>avm/res/network/private-endpoint</code> 0.11.0 <code>avm/res/network/public-ip-address</code> 0.9.0 <code>avm/res/network/virtual-network</code> 0.7.0 <code>avm/res/operational-insights/workspace</code> 0.12.0 <code>avm/res/search/search-service</code> 0.11.1 <code>avm/res/storage/storage-account</code> 0.27.0"},{"location":"bicep/parametrizing/#resource-types","title":"Resource Types","text":"<p>This table lists resource types that are declared directly in the Bicep files under <code>bicep/infra</code> (including helper/component modules). Note that AVM modules referenced above will deploy additional resource types that are not declared in this repo.</p> Resource Type API Version <code>connections</code> 2025-04-01-preview <code>Microsoft.ApiManagement/service</code> 2024-06-01-preview <code>Microsoft.App/managedEnvironments</code> 2025-02-02-preview <code>Microsoft.AppConfiguration/configurationStores</code> 2024-06-01 <code>Microsoft.Authorization/roleAssignments</code> 2022-04-01 <code>Microsoft.Authorization/roleDefinitions</code> 2022-04-01 <code>Microsoft.Authorization/roleDefinitions</code> 2022-05-01-preview <code>Microsoft.Bing/accounts</code> 2025-05-01-preview <code>Microsoft.CognitiveServices/accounts/capabilityHosts</code> 2025-06-01 <code>Microsoft.CognitiveServices/accounts/connections</code> 2025-06-01 <code>Microsoft.CognitiveServices/accounts/deployments</code> 2025-04-01-preview <code>Microsoft.CognitiveServices/accounts/projects/capabilityHosts</code> 2025-06-01 <code>Microsoft.CognitiveServices/accounts/projects</code> 2025-04-01-preview <code>Microsoft.CognitiveServices/accounts/projects</code> 2025-06-01 <code>Microsoft.CognitiveServices/accounts</code> 2023-05-01 <code>Microsoft.CognitiveServices/accounts</code> 2025-04-01-preview <code>Microsoft.CognitiveServices/accounts</code> 2025-06-01 <code>Microsoft.Compute/virtualMachines/extensions</code> 2024-11-01 <code>Microsoft.Compute/virtualMachines</code> 2024-11-01 <code>Microsoft.ContainerRegistry/registries</code> 2025-04-01 <code>Microsoft.DocumentDB/databaseAccounts/sqlRoleAssignments</code> 2022-05-15 <code>Microsoft.DocumentDB/databaseAccounts</code> 2024-11-15 <code>Microsoft.DocumentDB/databaseAccounts</code> 2024-12-01-preview <code>Microsoft.Insights/components</code> 2020-02-02 <code>Microsoft.KeyVault/vaults</code> 2023-07-01 <code>Microsoft.Network/applicationGateways</code> 2024-07-01 <code>Microsoft.Network/ApplicationGatewayWebApplicationFirewallPolicies</code> 2024-01-01 <code>Microsoft.Network/azureFirewalls</code> 2024-07-01 <code>Microsoft.Network/privateDnsZones/virtualNetworkLinks</code> 2024-06-01 <code>Microsoft.Network/privateDnsZones</code> 2020-06-01 <code>Microsoft.Network/privateEndpoints/privateDnsZoneGroups</code> 2024-05-01 <code>Microsoft.Network/privateEndpoints</code> 2024-05-01 <code>Microsoft.Network/routeTables/routes</code> 2023-11-01 <code>Microsoft.Network/routeTables</code> 2023-11-01 <code>Microsoft.Network/virtualNetworks/subnets</code> 2023-11-01 <code>Microsoft.Network/virtualNetworks/subnets</code> 2024-05-01 <code>Microsoft.Network/virtualNetworks/virtualNetworkPeerings</code> 2024-03-01 <code>Microsoft.Network/virtualNetworks</code> 2023-11-01 <code>Microsoft.Network/virtualNetworks</code> 2024-05-01 <code>Microsoft.OperationalInsights/workspaces</code> 2025-02-01 <code>Microsoft.Resources/deploymentScripts</code> 2023-08-01 <code>Microsoft.Resources/deployments</code> 2024-03-01 <code>Microsoft.Search/searchServices</code> 2023-11-01 <code>Microsoft.Search/searchServices</code> 2024-06-01-preview <code>Microsoft.Security/pricings</code> 2024-01-01 <code>Microsoft.Storage/storageAccounts</code> 2022-05-01 <code>Microsoft.Storage/storageAccounts</code> 2023-05-01 <code>Microsoft.Storage/storageAccounts</code> 2024-01-01 <code>Microsoft.Storage/storageAccounts</code> 2025-01-01"},{"location":"portal/","title":"Portal Implementation","text":"<p>Coming Soon</p>"},{"location":"terraform/","title":"Terraform Implementation","text":"<p>https://aka.ms/ailz/terraform</p>"}]}